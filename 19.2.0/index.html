<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name = "description" content="Use GoCD's API to access GoCD API endpoints and receive information about configuration, build history, update configuration and execute builds." />
    <meta name = "keywords" content="gocd api, server configuration, build history, execute builds, api endpoints, gocd plugins" />
    <link href="images/gocd.ico" rel="shortcut icon" type="image/x-icon" />
    <link href="images/gocd.png" rel="apple-touch-icon" type="image/png" size="192x192" />
    <title>GoCD API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #f8f8f2;
  background-color: #272822;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />

      <script src="javascripts/all.js"></script>


      <script>
        $(function() {
          setupLanguages(["shell"]);
        });
      </script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
      <div class="version-switcher">
        <span>Switch version:</span> <select></select>
      </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://github.com/gocd/api.go.cd'>Edit this guide on GitHub</a></li>
            <li><a href='https://plugin-api.gocd.org'>GoCD Plugin API Documentation</a></li>
            <li><a href='https://docs.gocd.org'>GoCD User Documentation</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id="introduction">Introduction</h1>

<p>Welcome to the GoCD API! You can use our API to access GoCD API endpoints, which can get information about the server&rsquo;s configuration and build history. In addition it can be used to update configuration and execute builds.</p>

<p>We currently provide language bindings in Shell! You can view code examples on the right-hand side of the page.</p>

<p>All APIs SHOULD be accessed from <code class="prettyprint">https://go-server-url:8154/go/api</code>. All data SHOULD be sent and recieved as JSON, specifically <code class="prettyprint">application/vnd.go.cd.v1+json</code>. You may access the APIs over plain text, but for security reasons we suggest that you use SSL.</p>

<h2 id="api-versions">API versions</h2>

<p>It is recommended to explicitly request the version of an API via the <code class="prettyprint">Accept</code> header.</p>

<p><code class="prettyprint">Accept: application/vnd.go.cd.v1+json</code></p>

<p><code class="prettyprint">Accept: application/vnd.go.cd.v2+json</code> etc</p>

<p>If you specify an unsupported Accept header, GoCD will respond with the error message <code class="prettyprint">The url you are trying to reach appears to be incorrect</code>.</p>

<aside class="notice">
  <strong>Important:</strong> The version of an API may change in the future. If you care about the stability of the API, make sure that you are requesting a specific version in the <code>Accept</code> header as shown in the example above.
</aside>

          <h1 id="authentication">Authentication</h1>

<p>All APIs require you to authenticate yourself using your username and password. Starting with version 19.2.0 of GoCD, users may also use a bearer token to authenticate. A cookie will also be returned as a result of the first authentication call. You may use this cookie for any further authentication attempts. If authentication fails, GoCD server may return status codes <code class="prettyprint">401</code>, <code class="prettyprint">403</code> or <code class="prettyprint">404</code>.</p>

<h2 id="bearer-token-authentication">Bearer token authentication</h2>

<p class='available-since'>
  Available since v19.2.0.
</p>

<blockquote>
<p>To authorize, use this code:</p>
</blockquote>

<pre class="highlight shell"><code><span class="c"># With shell, you can just pass the correct header with each request</span>
<span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/current_user'</span> <span class="se">\</span>
      -H <span class="s1">'Authorization: bearer YOUR_TOKEN'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span>
</code></pre>

<blockquote>
<p>Make sure to replace the <code class="prettyprint">YOUR_TOKEN</code> the API token you use to access the GoCD server. The above command returns the following response:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
<span class="na">Set-Cookie</span><span class="p">:</span> <span class="s">JSESSIONID=15kvus1kdrec46vk2a6jmtmo;Path=/go;Expires=Mon, 15-Jun-2015 10:16:20 GMT</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#users"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"current_user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/current_user"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/users/username"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/users/:login_name"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"login_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo@example.com"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email_me"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"checkin_aliases"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>To generate an access token, navigate to <code class="prettyprint">https://ci.example.com:8154/go/access_tokens</code>, or use the <a href="#access-tokens">access token API</a>.</p>

<h2 id="basic-authentication">Basic authentication</h2>

<blockquote>
<p>To authorize, use this code:</p>
</blockquote>

<pre class="highlight shell"><code><span class="c"># With shell, you can just pass the correct header with each request</span>
<span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/current_user'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span>
</code></pre>

<blockquote>
<p>Make sure to replace the <code class="prettyprint">username</code> and <code class="prettyprint">password</code> with the username and password that you use to access the GoCD server. The above command returns the following response:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
<span class="na">Set-Cookie</span><span class="p">:</span> <span class="s">JSESSIONID=15kvus1kdrec46vk2a6jmtmo;Path=/go;Expires=Mon, 15-Jun-2015 10:16:20 GMT</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#users"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"current_user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/current_user"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/users/username"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/users/:login_name"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"login_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo@example.com"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email_me"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"checkin_aliases"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>To use Basic Authentication with the GoCD API, simply send the username and password associated with the account.</p>

<h2 id="cookie-session-authentication">Cookie/Session authentication</h2>

<p>Using the cookie/session returned from the previous API call, one can make further API calls. Using a cookie will dramatically improve performance of API calls especially if GoCD is authenticating against an external source like LDAP.</p>

<pre class="highlight shell"><code><span class="c"># With shell, you can just pass the correct header with each request</span>
<span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/current_user'</span> <span class="se">\</span>
      -b <span class="s1">'JSESSIONID=15kvus1kdrec46vk2a6jmtmo'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span>
</code></pre>

<blockquote>
<p>The above command returns the following response</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
<span class="na">Set-Cookie</span><span class="p">:</span> <span class="s">JSESSIONID=15kvus1kdrec46vk2a6jmtmo;Path=/go;Expires=Mon, 15-Jun-2015 10:16:20 GMT</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#users"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"current_user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/current_user"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/users/username"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/users/:login_name"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"login_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"demo@example.com"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email_me"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"checkin_aliases"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

          <h1 id="server-health">Server Health</h1>

<p>The server health API allows users to monitor if the GoCD server is up and running. Usually used for health checks in Docker and Kubernetes.</p>

<h2 id="check-server-health">Check Server Health</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/v1/health'</span>
</code></pre>

<blockquote>
<p>The above command returns a json response:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
<span class="s">{</span>
<span class="s">  "health": "OK"</span>
<span class="s">}</span>
</code></pre>

<p>This API will indicate if the server is up.</p>

<p class='available-since'>
  Available since v17.11.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/v1/health</code></p>

          <h1 id="agents">Agents</h1>

<p>The agents API allows users with administrator role to manage agents.</p>

<aside class="notice">
  <strong>Important:</strong> Please note that this API requires using <code>v4</code> of the API using <code>application/vnd.go.cd.v4+json</code>
</aside>

<h2 id="the-agent-object">The agent object</h2>

<p class='available-since'>
  Available since v15.2.0.
</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">uuid</code></td>
<td>String</td>
<td>The identifier of this agent.</td>
</tr>
<tr>
<td><code class="prettyprint">hostname</code></td>
<td>String</td>
<td>The hostname of the agent.</td>
</tr>
<tr>
<td><code class="prettyprint">elastic_agent_id</code></td>
<td>String</td>
<td>The elastic agent identifier of this agent. This attribute is only available if the agent is an elastic agent. <strong>Since v16.8.0</strong>.</td>
</tr>
<tr>
<td><code class="prettyprint">elastic_plugin_id</code></td>
<td>String</td>
<td>The identifier of the elastic agent plugin that manages this agent instance. This attribute is only available if the agent is an elastic agent. <strong>Since v16.8.0</strong>.</td>
</tr>
<tr>
<td><code class="prettyprint">ip_address</code></td>
<td>String</td>
<td>The IP address of the agent.</td>
</tr>
<tr>
<td><code class="prettyprint">sandbox</code></td>
<td>String</td>
<td>The path where the agent will perform its builds.</td>
</tr>
<tr>
<td><code class="prettyprint">operating_system</code></td>
<td>String</td>
<td>The operating system as reported by the agent.</td>
</tr>
<tr>
<td><code class="prettyprint">free_space</code></td>
<td>Integer</td>
<td>The amount of free space in bytes.</td>
</tr>
<tr>
<td><code class="prettyprint">agent_config_state</code></td>
<td>String</td>
<td>Whether an agent is enabled or not. Can be one of <code class="prettyprint">Pending</code>, <code class="prettyprint">Enabled</code>, <code class="prettyprint">Disabled</code>. <strong>Since v15.3.0</strong>.</td>
</tr>
<tr>
<td><code class="prettyprint">agent_state</code></td>
<td>String</td>
<td>The state an agent is in. Can be one of <code class="prettyprint">Idle</code>, <code class="prettyprint">Building</code>, <code class="prettyprint">LostContact</code>, <code class="prettyprint">Missing</code>, <code class="prettyprint">Building</code>, <code class="prettyprint">Unknown</code>. <strong>Since v15.3.0</strong>.</td>
</tr>
<tr>
<td><code class="prettyprint">resources</code></td>
<td>Array</td>
<td>The set of resources that this agent is tagged with. This attribute is only available if the agent is <strong>NOT</strong> an elastic agent.</td>
</tr>
<tr>
<td><code class="prettyprint">environments</code></td>
<td>Array</td>
<td>The set of environments that this agent belongs to.</td>
</tr>
<tr>
<td><code class="prettyprint">build_state</code></td>
<td>String</td>
<td>If the agent is running a build, the state of the build on the agent. Can be one of <code class="prettyprint">Idle</code>, <code class="prettyprint">Building</code>, <code class="prettyprint">Cancelled</code>, <code class="prettyprint">Unknown</code>. <strong>Since v15.3.0</strong>.</td>
</tr>
<tr>
<td><code class="prettyprint">build_details</code></td>
<td>Object</td>
<td>The <a href="#agent-config-build-details-object">build details</a> provides information like pipeline, stage and job if the build_state of the agent is <code class="prettyprint">Building</code>. <strong>Since v16.10.0</strong>.</td>
</tr>
</tbody></table>

<h2 id="get-all-agents">Get all agents</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/agents'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v4+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v4+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/agents"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#agents"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"_embedded"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"agents"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/agents/adb9540a-b954-4571-9d9b-2f330739d4da"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#agents"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/agents/:uuid"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"adb9540a-b954-4571-9d9b-2f330739d4da"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"hostname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"agent01.example.com"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"ip_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.12.20.47"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"sandbox"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/Users/ketanpadegaonkar/projects/gocd/gocd/agent"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"operating_system"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mac OS X"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"free_space"</span><span class="p">:</span><span class="w"> </span><span class="mi">84983328768</span><span class="p">,</span><span class="w">
        </span><span class="nt">"agent_config_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Enabled"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"agent_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Idle"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"java"</span><span class="p">,</span><span class="w"> </span><span class="s2">"linux"</span><span class="p">,</span><span class="w"> </span><span class="s2">"firefox"</span><span class="p">],</span><span class="w">
        </span><span class="nt">"environments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"perf"</span><span class="p">,</span><span class="w"> </span><span class="s2">"UAT"</span><span class="p">],</span><span class="w">
        </span><span class="nt">"build_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Idle"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Lists all available agents, these are agents that are present in the <code class="prettyprint">&lt;agents/&gt;</code> tag inside <code class="prettyprint">cruise-config.xml</code> and also agents that are in <code class="prettyprint">Pending</code> state awaiting registration.</p>

<p class='available-since'>
  Available since v15.2.0.
    <span
      data-popover
      data-title='Looking for older versions of this API?'
      data-content='&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;docs.gocd.org&#x2F;15.1.0&#x2F;api&#x2F;agent_api.html&quot;&gt;Click here&lt;&#x2F;a&gt; for &lt;strong&gt;v15.1.0&lt;&#x2F;strong&gt; of this API.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;docs.gocd.org&#x2F;14.4.0&#x2F;api&#x2F;agent_api.html&quot;&gt;Click here&lt;&#x2F;a&gt; for &lt;strong&gt;v14.4.0&lt;&#x2F;strong&gt; of this API.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;docs.gocd.org&#x2F;14.3.0&#x2F;api&#x2F;agent_api.html&quot;&gt;Click here&lt;&#x2F;a&gt; for &lt;strong&gt;v14.3.0&lt;&#x2F;strong&gt; of this API.&lt;&#x2F;p&gt;
'
    ></span>
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/agents</code></p>

<p class='http-request-return-description'>Returns</p>

<p>An array of <a href="#the-agent-object">agent objects</a>.</p>

<h2 id="get-one-agent">Get one agent</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/agents/adb9540a-b954-4571-9d9b-2f330739d4da'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v4+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v4+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/agents/adb9540a-b954-4571-9d9b-2f330739d4da"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#agents"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/agents/:uuid"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"adb9540a-b954-4571-9d9b-2f330739d4da"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"hostname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ketanpkr.corporate.thoughtworks.com"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"ip_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.12.20.47"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"sandbox"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/Users/ketanpadegaonkar/projects/gocd/gocd/agent"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"operating_system"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mac OS X"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"free_space"</span><span class="p">:</span><span class="w"> </span><span class="mi">85890146304</span><span class="p">,</span><span class="w">
  </span><span class="nt">"agent_config_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Enabled"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"agent_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Building"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"java"</span><span class="p">,</span><span class="w"> </span><span class="s2">"linux"</span><span class="p">,</span><span class="w"> </span><span class="s2">"firefox"</span><span class="p">],</span><span class="w">
  </span><span class="nt">"environments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"perf"</span><span class="p">,</span><span class="w"> </span><span class="s2">"UAT"</span><span class="p">],</span><span class="w">
  </span><span class="nt">"build_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Building"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"build_details"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"job"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/tab/build/detail/up42/1/up42_stage/1/up42_job"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"stage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/pipelines/up42/1/up42_stage/1"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"pipeline"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/tab/pipeline/history/up42"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"pipeline_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"up42"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"stage_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"up42_stage"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"job_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"up42_job"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Gets an agent by its unique identifier (uuid)</p>

<p class='available-since'>
  Available since v15.2.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/agents/:uuid</code></p>

<p class='http-request-return-description'>Returns</p>

<p>An <a href="#the-agent-object">agent object</a>.</p>

<h2 id="update-an-agent">Update an agent</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/agents/adb9540a-b954-4571-9d9b-2f330739d4da'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v4+json'</span> <span class="se">\</span>
      -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
      -X PATCH <span class="se">\</span>
      -d <span class="s1">'{
        "hostname": "agent02.example.com",
        "agent_config_state": "Enabled",
        "resources": ["Java","Linux"],
        "environments": ["Dev"]
        }'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v4+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/agents/adb9540a-b954-4571-9d9b-2f330739d4da"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#agents"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/agents/:uuid"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"adb9540a-b954-4571-9d9b-2f330739d4da"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"hostname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"agent02.example.com"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"ip_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10.12.20.47"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"sandbox"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/Users/ketanpadegaonkar/projects/gocd/gocd/agent"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"operating_system"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mac OS X"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"free_space"</span><span class="p">:</span><span class="w"> </span><span class="mi">84834283520</span><span class="p">,</span><span class="w">
  </span><span class="nt">"agent_config_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Enabled"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"agent_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Idle"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"Java"</span><span class="p">,</span><span class="s2">"Linux"</span><span class="p">],</span><span class="w">
  </span><span class="nt">"environments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"Dev"</span><span class="p">],</span><span class="w">
  </span><span class="nt">"build_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Idle"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Update some attributes of an agent.</p>

<p class='available-since'>
  Available since v15.2.0.
    <span
      data-popover
      data-title='Looking for older versions of this API?'
      data-content='&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;docs.gocd.org&#x2F;15.1.0&#x2F;api&#x2F;agent_api.html&quot;&gt;Click here&lt;&#x2F;a&gt; for &lt;strong&gt;v15.1.0&lt;&#x2F;strong&gt; of this API.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;docs.gocd.org&#x2F;14.4.0&#x2F;api&#x2F;agent_api.html&quot;&gt;Click here&lt;&#x2F;a&gt; for &lt;strong&gt;v14.4.0&lt;&#x2F;strong&gt; of this API.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;docs.gocd.org&#x2F;14.3.0&#x2F;api&#x2F;agent_api.html&quot;&gt;Click here&lt;&#x2F;a&gt; for &lt;strong&gt;v14.3.0&lt;&#x2F;strong&gt; of this API.&lt;&#x2F;p&gt;
'
    ></span>
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">PATCH /go/api/agents/:uuid</code></p>

<p>Atleast one of the following properties must be specified, not specifying the property will leave it unchanged.</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">hostname</code></td>
<td>String</td>
<td>The new hostname.</td>
</tr>
<tr>
<td><code class="prettyprint">resources</code></td>
<td><code class="prettyprint">String</code> &#124; <code class="prettyprint">Array</code></td>
<td>A comma separated strings of resources, or an array of string resources. Updating of resources is <strong>NOT</strong> supported by elastic agents.</td>
</tr>
<tr>
<td><code class="prettyprint">environments</code></td>
<td><code class="prettyprint">String</code> &#124; <code class="prettyprint">Array</code></td>
<td>A comma separated strings of environments, or an array of string environments.</td>
</tr>
<tr>
<td><code class="prettyprint">agent_config_state</code></td>
<td>String</td>
<td>Whether an agent should be enabled. In case of agents awaiting approval, setting this will approve the agents. Can be one of <code class="prettyprint">Enabled</code>, <code class="prettyprint">Disabled</code>.</td>
</tr>
</tbody></table>

<p class='http-request-return-description'>Returns</p>

<p>The updated <a href="#the-agent-object">agent object</a>.</p>

<h2 id="delete-an-agent">Delete an agent</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/agents/adb9540a-b954-4571-9d9b-2f330739d4da'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v4+json'</span> <span class="se">\</span>
      -X DELETE
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v4+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Deleted 1 agent(s)."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Deletes an agent.</p>

<aside class="notice">
  You must first <a href='#update-an-agent'>disable an agent</a> and ensure that its
  <a href='#get-one-agent'>status</a> is not <code>Building</code>, before attempting to deleting it.
</aside>

<p class='available-since'>
  Available since v15.2.0.
    <span
      data-popover
      data-title='Looking for older versions of this API?'
      data-content='&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;docs.gocd.org&#x2F;15.1.0&#x2F;api&#x2F;agent_api.html&quot;&gt;Click here&lt;&#x2F;a&gt; for &lt;strong&gt;v15.1.0&lt;&#x2F;strong&gt; of this API.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;docs.gocd.org&#x2F;14.4.0&#x2F;api&#x2F;agent_api.html&quot;&gt;Click here&lt;&#x2F;a&gt; for &lt;strong&gt;v14.4.0&lt;&#x2F;strong&gt; of this API.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;docs.gocd.org&#x2F;14.3.0&#x2F;api&#x2F;agent_api.html&quot;&gt;Click here&lt;&#x2F;a&gt; for &lt;strong&gt;v14.3.0&lt;&#x2F;strong&gt; of this API.&lt;&#x2F;p&gt;
'
    ></span>
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">DELETE /go/api/agents/:uuid</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A message confirmation if the agent was deleted.</p>

<h2 id="bulk-update-agents">Bulk update agents</h2>

<pre class="highlight shell"><code>curl <span class="s1">'https://ci.example.com/go/api/agents'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v4+json'</span> <span class="se">\</span>
      -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
      -X PATCH <span class="se">\</span>
      -d <span class="s1">'{
            "uuids": [
              "adb9540a-b954-4571-9d9b-2f330739d4da",
              "adb528b2-b954-1234-9d9b-b27ag4h568e1"
            ],
            "operations": {
              "environments": {
                "add": ["Dev", "Test"],
                "remove": ["Production"]
              },
              "resources": {
                "add": ["Linux", "Firefox"],
                "remove": ["Chrome"]
              }
            },
            "agent_config_state" : "enabled"
          }'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v4+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Updated agent(s) with uuid(s): [adb9540a-b954-4571-9d9b-2f330739d4da, adb528b2-b954-1234-9d9b-b27ag4h568e1]."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Updates a list of agents.</p>

<p class='available-since'>
  Available since v16.7.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">PATCH /go/api/agents</code></p>

<p>Atleast one of the following properties must be specified, not specifying the property will leave it unchanged.</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">operations</code></td>
<td>Object</td>
<td>The <a href="#the-agent-update-operations">bulk update operations</a> performed on the set of agents.</td>
</tr>
<tr>
<td><code class="prettyprint">agent_config_state</code></td>
<td>String</td>
<td>Whether an agent should be enabled. In case of agents awaiting approval, setting this will approve the agents. Can be one of <code class="prettyprint">Enabled</code>, <code class="prettyprint">Disabled</code>.</td>
</tr>
</tbody></table>

<p class='http-request-return-description'>Returns</p>

<p>A message confirmation if the agents were updated successfully.</p>

<p><a id='the-agent-update-operations'></a></p>

<h3 id="the-bulk-update-operation-attributes">The bulk update operation attributes</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"environments"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"add"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"Dev"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Test"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"remove"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"Production"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"add"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"Linux"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Firefox"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"remove"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"Chrome"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">environments</code></td>
<td>Object</td>
<td>The <a href="#the-agent-environments-update-operation">environments update operation</a> to be performed on the set of agents. Updating of resources is <strong>NOT</strong> supported by elastic agents.</td>
</tr>
<tr>
<td><code class="prettyprint">resources</code></td>
<td>Object</td>
<td>The <a href="#the-agent-resources-update-operation">resources update operation</a> to be performed on the set of agents.</td>
</tr>
</tbody></table>

<p><a id='the-agent-environments-update-operation'></a></p>

<h3 id="the-environment-update-operation-attributes">The environment update operation attributes</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"add"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"Dev"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Test"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"remove"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"Production"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">add</code></td>
<td>Array</td>
<td>The list of environments to which the specified agents needs to be added.</td>
</tr>
<tr>
<td><code class="prettyprint">remove</code></td>
<td>Array</td>
<td>The list of environments from which the specified agents needs to be removed.</td>
</tr>
</tbody></table>

<p><a id='the-agent-resources-update-operation'></a></p>

<h3 id="the-resources-update-operation-attributes">The resources update operation attributes</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"add"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"Linux"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Firefox"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"remove"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"Chrome"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">add</code></td>
<td>Array</td>
<td>The list of resources that the agents needs to be tagged with.</td>
</tr>
<tr>
<td><code class="prettyprint">remove</code></td>
<td>Array</td>
<td>The list of resources that the agents needs to be removed from.</td>
</tr>
</tbody></table>

<h2 id="bulk-delete-agents">Bulk delete agents</h2>

<pre class="highlight shell"><code>curl <span class="s1">'https://ci.example.com/go/api/agents'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v4+json'</span> <span class="se">\</span>
      -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
      -X DELETE <span class="se">\</span>
      -d <span class="s1">'{
            "uuids": [
              "adb9540a-b954-4571-9d9b-2f330739d4da",
              "adb528b2-b954-1234-9d9b-b27ag4h568e1"
            ]
          }'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v4+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Deleted 2 agent(s)."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Deletes a list of agents.</p>

<aside class="notice">
  You must first <a href='#bulk-update-agents'>disable the agents</a> and ensure that their
  <a href='#get-all-agents'>status</a> is not <code>Building</code>, before attempting to deleting them.
</aside>

<p class='available-since'>
  Available since v16.7.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">DELETE /go/api/agents</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A message confirmation if the agents were deleted.</p>

<h2 id="agent-job-run-history">Agent job run history</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/agents/adb9540a-b954-4571-9d9b-2f330739d4da/job_run_history'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"jobs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"agent_uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5c5c318f-e6d3-4299-9120-7faff6e6030b"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"upload"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"job_state_transitions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"state_change_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1435631497131</span><span class="p">,</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">539906</span><span class="p">,</span><span class="w">
          </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Scheduled"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="err">...</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"scheduled_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1435631497131</span><span class="p">,</span><span class="w">
      </span><span class="nt">"original_job_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"pipeline_counter"</span><span class="p">:</span><span class="w"> </span><span class="mi">251</span><span class="p">,</span><span class="w">
      </span><span class="nt">"rerun"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"pipeline_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"distributions-all"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Passed"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Completed"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">100129</span><span class="p">,</span><span class="w">
      </span><span class="nt">"stage_counter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"stage_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"upload-installers"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"offset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">1292</span><span class="p">,</span><span class="w">
    </span><span class="nt">"page_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Lists the jobs that have executed on an agent.</p>

<p class='available-since'>
  Available since v14.3.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/agents/:uuid/job_run_history</code></p>

<p><strong>With pagination</strong></p>

<p><code class="prettyprint">GET /go/api/agents/:uuid/job_run_history[/:offset]</code></p>

<aside class="notice">
  <strong>Note:</strong> <code>:offset</code> is an optional parameter indicating the number of jobs to be skipped.
</aside>

<p class='http-request-return-description'>Returns</p>

<p>An array of job objects along with the job transitions.</p>

<p><a id='agent-config-build-details-object'></a></p>

<h3 id="the-build-details-object">The build details object</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"build_details"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"job"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/tab/build/detail/pipelineName/pipelineCounter/stageName/stageCounter/jobName"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"stage"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/pipelines/pipelineName/pipelineCounter/stageName/stageCounter"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"pipeline"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/tab/pipeline/history/pipelineName"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"pipeline_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pipelineName"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"stage_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stageName"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"job_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jobName"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">pipeline</code></td>
<td>String</td>
<td>Name of the pipeline, whose job the agent is building.</td>
</tr>
<tr>
<td><code class="prettyprint">stage</code></td>
<td>String</td>
<td>Name of the stage, whose job the agent is building.</td>
</tr>
<tr>
<td><code class="prettyprint">job</code></td>
<td>String</td>
<td>Name of the job the agent is building.</td>
</tr>
</tbody></table>

          <h1 id="access-tokens">Access Tokens</h1>

<p>Access tokens allow users to make API calls to GoCD using a bearer token instead of username and password.</p>

<aside class="notice">
  <strong>Important:</strong> Please note that this API requires using <code>v1</code> of the API using <code>application/vnd.go.cd.v1+json</code>
</aside>

<h2 id="the-access-token-object">The access token object</h2>

<p class='available-since'>
  Available since v19.2.0.
</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">description</code></td>
<td>String</td>
<td>The user provided description of the token.</td>
</tr>
<tr>
<td><code class="prettyprint">token</code></td>
<td>String</td>
<td>The value of the token. <strong>This will be rendered only once when the token is created</strong>.</td>
</tr>
<tr>
<td><code class="prettyprint">username</code></td>
<td>String</td>
<td>The username of the user that created the token.</td>
</tr>
<tr>
<td><code class="prettyprint">revoked</code></td>
<td>Boolean</td>
<td>If the token has been revoked.</td>
</tr>
<tr>
<td><code class="prettyprint">revoke_cause</code></td>
<td>String</td>
<td>The reason why the token was revoked.</td>
</tr>
<tr>
<td><code class="prettyprint">revoked_at</code></td>
<td>Timestamp</td>
<td>The time when the token was revoked.</td>
</tr>
<tr>
<td><code class="prettyprint">revoked_by</code></td>
<td>String</td>
<td>The username of the user that revoked the token.</td>
</tr>
<tr>
<td><code class="prettyprint">created_at</code></td>
<td>Timestamp</td>
<td>The time when the token was created.</td>
</tr>
<tr>
<td><code class="prettyprint">last_used_at</code></td>
<td>Timestamp</td>
<td>The time when the token was last used to authenticate with the server.</td>
</tr>
<tr>
<td><code class="prettyprint">revoked_because_user_deleted</code></td>
<td>Boolean</td>
<td>Indicates if the token was revoked because a system adminstrator deleted the user.</td>
</tr>
</tbody></table>

<h2 id="get-all-tokens-for-current-user">Get all tokens for current user</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/current_user/access_tokens'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/current_user/access_tokens"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/19.2.0/#access-token"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"_embedded"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"access_tokens"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/current_user/access_tokens/42"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"doc"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/19.2.0/#access-token"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"find"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/current_user/access_tokens/:id"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
      </span><span class="nt">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"my first token"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"username"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"revoked"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"revoke_cause"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"revoked_by"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"revoked_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-02-20T10:45:10Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"last_used_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Lists all tokens belonging to a user.</p>

<p class='available-since'>
  Available since v19.2.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/current_user/access_tokens</code></p>

<p class='http-request-return-description'>Returns</p>

<p>An array of <a href="#the-access-token-object">access token objects</a>.</p>

<h2 id="get-one-token-for-current-user">Get one token for current user</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/current_user/access_tokens/42'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/current_user/access_tokens/42"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/19.2.0/#access-token"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/current_user/access_tokens/:id"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"my first token"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"username"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"revoked"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"revoke_cause"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"revoked_by"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"revoked_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-02-20T10:45:10Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"last_used_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Gets a token by its unique identifier (id).</p>

<p class='available-since'>
  Available since v19.2.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/current_user/access_tokens/:id</code></p>

<p class='http-request-return-description'>Returns</p>

<p>An <a href="#the-access-token-object">access token object</a>.</p>

<h2 id="create-token-for-current-user">Create token for current user</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/current_user/access_tokens'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
      -X POST <span class="se">\</span>
      -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
      -d <span class="s1">'{
        "description": "my first token"
      }'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/current_user/access_tokens/42"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/19.2.0/#access-token"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/current_user/access_tokens/:id"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"my first token"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"username"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"revoked"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"revoke_cause"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"revoked_by"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"revoked_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"last_used_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"token"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"30bd353a513ef3a2f72f46cc50d2a587b855fa04"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Revokes a token so it cannot be reused again.</p>

<p class='available-since'>
  Available since v19.2.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">POST /go/api/current_user/access_tokens/:id</code></p>

<p class='http-request-return-description'>Returns</p>

<p>An <a href="#the-access-token-object">access token object</a>.</p>

<h2 id="revoke-token-for-current-user">Revoke token for current user</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/current_user/access_tokens/42'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
      -X POST <span class="se">\</span>
      -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
      -d <span class="s1">'{
        "revoke_cause": "token was compromised"
      }'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/current_user/access_tokens/42"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/19.2.0/#access-token"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/current_user/access_tokens/:id"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"token was compromised"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"username"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"revoked"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"revoke_cause"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"revoked_by"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"jez"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"revoked_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-02-20T11:25:03Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-02-20T10:45:10Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"last_used_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Revokes a token so it cannot be reused again.</p>

<p class='available-since'>
  Available since v19.2.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">POST /go/api/current_user/access_tokens/:id/revoke</code></p>

<p class='http-request-return-description'>Returns</p>

<p>An <a href="#the-access-token-object">access token object</a>.</p>

<h2 id="get-all-tokens-for-all-users">Get all tokens for all users</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/access_tokens?filter=all'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/access_tokens"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/19.2.0/#access-token"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"_embedded"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"access_tokens"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">},</span><span class="w">
      </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
      </span><span class="nt">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"dummy access token"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"username"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"revoked"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"revoke_cause"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"revoked_by"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"revoked_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-03-06T05:02:24Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"last_used_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"revoked_because_user_deleted"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">},</span><span class="w">
      </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">43</span><span class="p">,</span><span class="w">
      </span><span class="nt">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"another access token"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"username"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"revoked"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"revoke_cause"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"revoke cause"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"revoked_by"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"revoked_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-03-07T05:02:45Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-03-06T05:02:34Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"last_used_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"revoked_because_user_deleted"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/access_tokens'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/access_tokens"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/19.2.0/#access-token"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"_embedded"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"access_tokens"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/access_tokens/42"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"doc"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/19.2.0/#access-token"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"find"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/access_tokens/:id"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
      </span><span class="nt">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"dummy access token"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"username"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"revoked"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"revoke_cause"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"revoked_by"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"revoked_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-03-06T05:02:24Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"last_used_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"revoked_because_user_deleted"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/access_tokens?filter=revoked'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/access_tokens"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/19.2.0/#access-token"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"_embedded"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"access_tokens"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/access_tokens/43"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"doc"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/19.2.0/#access-token"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"find"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/access_tokens/:id"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">43</span><span class="p">,</span><span class="w">
      </span><span class="nt">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"another access token"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"username"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"revoked"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"revoke_cause"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"revoke cause"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"revoked_by"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"revoked_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-03-07T05:02:45Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"created_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-03-06T05:02:34Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"last_used_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"revoked_because_user_deleted"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Allows system administrators to list the tokens belonging to all users.</p>

<p class='available-since'>
  Available since v19.2.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/admin/access_tokens</code></p>

<p class='http-request-return-description'>Returns</p>

<p>An array of <a href="#the-access-token-object">access token objects</a>.</p>

<p>The following filters are supported by the API. In case of no filter, only the active tokens will be send.</p>

<p class="attributes-table-follows"></p>

<table><thead>
<tr>
<th>Query String</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>all</td>
<td>returns all the tokens for all the users</td>
</tr>
<tr>
<td>active</td>
<td>returns only the active tokens for all the users</td>
</tr>
<tr>
<td>revoked</td>
<td>returns only the revoked tokens for all the users</td>
</tr>
</tbody></table>

<h2 id="get-one-token-for-any-user">Get one token for any user</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/access_tokens/42'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/access_tokens/42"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/19.2.0/#access-token"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/access_tokens/:id"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"my first token"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"username"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"revoked"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"revoke_cause"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"revoked_by"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"revoked_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-02-20T10:45:10Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"last_used_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Allows system administrators to view tokens belonging to any user.</p>

<p class='available-since'>
  Available since v19.2.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/admin/access_tokens/:id</code></p>

<p class='http-request-return-description'>Returns</p>

<p>An <a href="#the-access-token-object">access token object</a>.</p>

<h2 id="revoke-token-for-any-user">Revoke token for any user</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/access_tokens/42'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
      -X POST <span class="se">\</span>
      -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
      -d <span class="s1">'{
        "revoke_cause": "token was compromised"
      }'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/access_tokens/42"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/19.2.0/#access-token"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/access_tokens/:id"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"token was compromised"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"username"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"revoked"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"revoke_cause"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"revoked_by"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"jez"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"revoked_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-02-20T11:25:03Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"created_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-02-20T10:45:10Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"last_used_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Allows system administrators to revoke a token belonging to any user so that the token cannot be reused again.</p>

<p class='available-since'>
  Available since v19.2.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">POST /go/api/admin/access_tokens/:id/revoke</code></p>

<p class='http-request-return-description'>Returns</p>

<p>An <a href="#the-access-token-object">access token object</a>.</p>

          <h1 id="agent-health">Agent Health</h1>

<p>The agents API allows users to monitor if the agent is connected to the server and is authorized to perform a build.</p>

<aside class="notice">
  <strong>Note:</strong> For security reasons, this endpoint is only bound to the <code>localhost</code> interface. If you&rsquo;re accessing the endpoint from a remote machine and want to expose this endpoint externally — please see <a href="https://docs.gocd.org/19.2.0/advanced_usage/agent-health-check-api.html">this documentation</a> on how to configure the endpoint bind address and port.
</aside>

<h2 id="check-agent-server-connectivity">Check agent-server connectivity</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://localhost:8152/health/v1/isConnectedToServer'</span>
</code></pre>

<blockquote>
<p>The above command returns a plain text response:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">text/plain; charset=utf-8</span>

OK!
</code></pre>

<p>This API when invoked on an agent, will indicate if the agent-server connectivity is in a state that allows agents to run builds.</p>

<p class='available-since'>
  Available since v17.11.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /health/v1/isConnectedToServer</code> </p>

<p>You may alternatively use:</p>

<p><code class="prettyprint">GET /health/latest/isConnectedToServer</code> </p>

<p>which will render the most recent version of the api.</p>

<p class='http-request-return-description'>Returns</p>

<p>A status code <code class="prettyprint">200</code> along with text <code class="prettyprint">OK!</code> if all the following conditions are met:</p>

<ul>
<li>able to establish HTTP(s) contact with the server</li>
<li>is authorized by the server (by an admin, or by auto-registration)</li>
</ul>

<p>The endpoint will return status <code class="prettyprint">503</code> in any other cases.</p>

<p>Two consecutive failing pings will be treated as having failed healthcheck.</p>

<aside class="notice">
  <strong>Note:</strong> When a GoCD server is upgraded, the agent will automatically upgrade itself by downloading a copy from the GoCD server. During the time a new agent jar is being downloaded, this api endpoint may not be available.
</aside>

          <h1 id="users">Users</h1>

<p>The users API allows users with administrator role to manage users.</p>

<h2 id="the-user-object">The user object</h2>

<p class='available-since'>
  Available since v15.2.0.
</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">login_name</code></td>
<td>String</td>
<td>The user&rsquo;s login name.</td>
</tr>
<tr>
<td><code class="prettyprint">display_name</code></td>
<td>String</td>
<td>The user&rsquo;s display name.</td>
</tr>
<tr>
<td><code class="prettyprint">enabled</code></td>
<td>Boolean</td>
<td>Boolean indicating if the user is enabled (can login in).</td>
</tr>
<tr>
<td><code class="prettyprint">email</code></td>
<td>String</td>
<td>The user&rsquo;s email address.</td>
</tr>
<tr>
<td><code class="prettyprint">email_me</code></td>
<td>Boolean</td>
<td>Boolean indicating if the user has signed up for email notifications.</td>
</tr>
<tr>
<td><code class="prettyprint">checkin_aliases</code></td>
<td>Array</td>
<td>A list of SCM checkin aliases to map users to SCM commits.</td>
</tr>
<tr>
<td><code class="prettyprint">admin</code></td>
<td>Boolean</td>
<td>Boolean indicating if the user is an admin. <strong>Since v19.1.0</strong>.</td>
</tr>
<tr>
<td><code class="prettyprint">roles</code></td>
<td>Array</td>
<td>List of <a href="#the-user-role-object">user roles</a> that the user has been assigned. <strong>Since v19.1.0</strong>.</td>
</tr>
</tbody></table>

<h2 id="get-all-users">Get all users</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/users'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v3+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v3+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/users"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#users"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"_embedded"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#users"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/users/admin"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/users/:login_name"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"login_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"email_me"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"admin"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"role name"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gocd"</span><span class="w">
        </span><span class="p">}],</span><span class="w">
        </span><span class="nt">"checkin_aliases"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"jdoe"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"johndoe"</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Lists all available users.</p>

<p class='available-since'>
  Available since v15.2.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/users</code></p>

<p class='http-request-return-description'>Returns</p>

<p>An array of <a href="#the-user-object">user objects</a>.</p>

<h2 id="get-one-user">Get one user</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/users/jdoe'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v3+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v3+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#users"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/users/jdoe"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/users/:login_name"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"login_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email_me"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"admin"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"role name"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gocd"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="nt">"checkin_aliases"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">

  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Gets a user by its login name</p>

<p class='available-since'>
  Available since v15.2.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/users/:login_name</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A <a href="#the-user-object">user object</a>.</p>

<h2 id="create-a-user">Create a user</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/users'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v3+json'</span> <span class="se">\</span>
      -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
      -X POST <span class="se">\</span>
      -d <span class="s1">'{
            "email": "jdoe@example.com",
            "login_name": "jdoe"
          }'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v3+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#users"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/users/jdoe"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/users/:login_name"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"login_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email_me"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"admin"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"role name"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gocd"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="nt">"checkin_aliases"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">

  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Creates a user</p>

<p class='available-since'>
  Available since v15.3.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">POST /go/api/users</code></p>

<p>The following properties may be specified:</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">login_name</code></td>
<td>String</td>
<td>The user&rsquo;s login name. This attribute MUST be specified.</td>
</tr>
<tr>
<td><code class="prettyprint">enabled</code></td>
<td>Boolean</td>
<td>Boolean indicating if the user is enabled (can login in).</td>
</tr>
<tr>
<td><code class="prettyprint">email</code></td>
<td>String</td>
<td>The user&rsquo;s email address.</td>
</tr>
<tr>
<td><code class="prettyprint">email_me</code></td>
<td>Boolean</td>
<td>Boolean indicating if the user should be signed up for email notifications.</td>
</tr>
<tr>
<td><code class="prettyprint">checkin_aliases</code></td>
<td>Array</td>
<td>A list of SCM checkin aliases to map users to SCM commits.</td>
</tr>
</tbody></table>

<p class='http-request-return-description'>Returns</p>

<p>A <a href="#the-user-object">user object</a>.</p>

<h2 id="update-a-user">Update a user</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/users/jdoe'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v3+json'</span> <span class="se">\</span>
      -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
      -X PATCH <span class="se">\</span>
      -d <span class="s1">'{
            "email": "jdoe@example.com",
            "email_me": true,
            "checkin_aliases": ["jdoe", "johndoe"]
          }'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v3+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#users"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/users/jdoe"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/users/:login_name"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"login_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe@example.com"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email_me"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"admin"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"role name"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gocd"</span><span class="w">
  </span><span class="p">}],</span><span class="w">
  </span><span class="nt">"checkin_aliases"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"jdoe"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"johndoe"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Update some attributes of a user.</p>

<p class='available-since'>
  Available since v15.2.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">PATCH /go/api/users/:login_name</code></p>

<p>Atleast one of the following properties must be specified, not specifying the property will leave it unchanged.</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">enabled</code></td>
<td>Boolean</td>
<td>Boolean indicating if the user is enabled (can log in).</td>
</tr>
<tr>
<td><code class="prettyprint">email</code></td>
<td>String</td>
<td>The user&rsquo;s email address.</td>
</tr>
<tr>
<td><code class="prettyprint">email_me</code></td>
<td>Boolean</td>
<td>Boolean indicating if the user should be signed up for email notifications.</td>
</tr>
<tr>
<td><code class="prettyprint">checkin_aliases</code></td>
<td>Array</td>
<td>A list of SCM checkin aliases to map users to SCM commits.</td>
</tr>
</tbody></table>

<p class='http-request-return-description'>Returns</p>

<p>The updated <a href="#the-user-object">user object</a>.</p>

<h2 id="delete-a-user">Delete a user</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/users/jdoe'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v3+json'</span> <span class="se">\</span>
      -X DELETE
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v3+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User 'jdoe' was deleted successfully."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Deletes a user.</p>

<aside class="notice">
  You must first <a href='#update-a-user'>disable a user</a> before deleting it.
</aside>

<p class='available-since'>
  Available since v15.2.0.
    <span
      data-popover
      data-title='Looking for older versions of this API?'
      data-content='&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;www.gocd.org&#x2F;documentation&#x2F;user&#x2F;15.1.0&#x2F;api&#x2F;users_api.html&quot;&gt;Click here&lt;&#x2F;a&gt; for &lt;strong&gt;v15.1.0&lt;&#x2F;strong&gt; of this API.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;www.gocd.org&#x2F;documentation&#x2F;user&#x2F;14.4.0&#x2F;api&#x2F;users_api.html&quot;&gt;Click here&lt;&#x2F;a&gt; for &lt;strong&gt;v14.4.0&lt;&#x2F;strong&gt; of this API.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;www.gocd.org&#x2F;documentation&#x2F;user&#x2F;14.3.0&#x2F;api&#x2F;users_api.html&quot;&gt;Click here&lt;&#x2F;a&gt; for &lt;strong&gt;v14.3.0&lt;&#x2F;strong&gt; of this API.&lt;&#x2F;p&gt;
'
    ></span>
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">DELETE /go/api/users/:login_name</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A message confirmation if the user was deleted.</p>

<h2 id="bulk-delete-users">Bulk Delete Users</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/users'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v3+json'</span> <span class="se">\</span>
      -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
      -X DELETE <span class="se">\</span>
      -d <span class="s1">'{"users": ["jez", "tez"]}'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v3+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Users '[\"jez\", \"tez\"]' were deleted successfully."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Deletes multiple users.</p>

<aside class="notice">
  You must first <a href='#update-a-user'>disable users</a> before deleting it.
</aside>

<p class='available-since'>
  Available since v17.11.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">DELETE /go/api/users</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A message confirming if the users were deleted.</p>

<h2 id="bulk-enable-disable-users">Bulk Enable/Disable Users</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/operations/state'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v3+json'</span> <span class="se">\</span>
      -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
      -X PATCH <span class="se">\</span>
      -d <span class="s1">'{
            "users": ["jez", "tez"],
            "operations": {
              "enable": true
            }
          }'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v3+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Users '[\"jez\", \"tez\"]' were enabled successfully."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Enables/Disables multiple users.</p>

<p class='available-since'>
  Available since v19.1.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">PATCH /go/api/users/operations/state</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A message confirming if the users were enabled/disabled.</p>

<h2 id="the-user-role-object">The user role object</h2>

<p class='available-since'>
  Available since v19.1.0.
</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">type</code></td>
<td>String</td>
<td>The type of role (plugin &#124; gocd).</td>
</tr>
<tr>
<td><code class="prettyprint">Name</code></td>
<td>String</td>
<td>Name of the role.</td>
</tr>
</tbody></table>

          <h1 id="current-user">Current User</h1>

<p>The current user API allows any authenticated user to manage certain aspects of their profile.</p>

<h2 id="get-current-user">Get current user</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/current_user'</span> <span class="se">\</span>
      -u <span class="s1">'jdoe:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#users"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/users/jdoe"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/users/:login_name"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"login_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email_me"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"checkin_aliases"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">

  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Gets the current user</p>

<p class='available-since'>
  Available since v17.5.0.
</p>

<p class="http-request-heading">HTTP Request</p>

<p><code class="prettyprint">GET /go/api/current_user</code></p>

<p class="http-request-return-description">Returns</p>

<p>A <a href="#the-user-object">user object</a>.</p>

<h2 id="update-current-user">Update current user</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/current_user'</span> <span class="se">\</span>
      -u <span class="s1">'jdoe:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
      -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
      -X PATCH <span class="se">\</span>
      -d <span class="s1">'{
            "email": "jdoe@example.com",
            "email_me": true,
            "checkin_aliases": ["jdoe", "johndoe"]
          }'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#users"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/users/jdoe"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/users/:login_name"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"login_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe@example.com"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"email_me"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"checkin_aliases"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"jdoe"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"johndoe"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Update some attributes of the current user.</p>

<p class='available-since'>
  Available since v17.5.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">PATCH /go/api/current_user</code></p>

<p>Atleast one of the following properties must be specified, not specifying the property will leave it unchanged.</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">email</code></td>
<td>String</td>
<td>The user&rsquo;s email address.</td>
</tr>
<tr>
<td><code class="prettyprint">email_me</code></td>
<td>Boolean</td>
<td>Boolean indicating if the user should be signed up for email notifications.</td>
</tr>
<tr>
<td><code class="prettyprint">checkin_aliases</code></td>
<td>Array</td>
<td>A list of SCM checkin aliases to map users to SCM commits.</td>
</tr>
</tbody></table>

<p class="http-request-return-description">Returns</p>

<p>The updated <a href="#the-user-object">user object</a>.</p>

          <h1 id="notification-filters">Notification Filters</h1>

<p>The notification filters API allows the authenticated user to manage their notification filters.</p>

<h2 id="the-notification-filter-object">The notification filter object</h2>

<p class='available-since'>
  Available since v17.5.0.
</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td>Number</td>
<td>The internal ID of the notification filter.</td>
</tr>
<tr>
<td><code class="prettyprint">pipeline</code></td>
<td>String</td>
<td>The pipeline name to which the notification filter should match.</td>
</tr>
<tr>
<td><code class="prettyprint">stage</code></td>
<td>String</td>
<td>The stage name to which the notification filter should match.</td>
</tr>
<tr>
<td><code class="prettyprint">event</code></td>
<td>String</td>
<td>The event to which the notification filter should match.</td>
</tr>
<tr>
<td><code class="prettyprint">match_commits</code></td>
<td>Boolean</td>
<td>Boolean indicating if the notification filter should match only the user&rsquo;s commits (true) or all commits (false).</td>
</tr>
</tbody></table>

<h2 id="show-all-notification-filters">Show all notification filters</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/notification_filters'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"filters"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="nt">"pipeline"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_pipeline"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"stage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[Any Stage]"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Breaks"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"match_commits"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Lists all notification filters for the authenticated user.</p>

<p class='available-since'>
  Available since v17.5.0.
</p>

<p class="http-request-heading">HTTP Request</p>

<p><code class="prettyprint">GET /go/api/notification_filters</code></p>

<p class="http-request-return-description">Returns</p>

<p>An array of <a href="#the-notification-filter-object">notification filter objects</a> representing the current set the user’s notification filters.</p>

<h2 id="create-a-notification-filter">Create a notification filter</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/notification_filters'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
      -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
      -X POST <span class="se">\</span>
      -d <span class="s1">'{
            "pipeline": "my_pipeline",
            "stage": "my_stage",
            "event": "Breaks",
            "match_commits": true
          }'</span>

</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"filters"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"pipeline"</span><span class="p">:</span><span class="w"> </span><span class="s2">"already_existed"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"stage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[Any Stage]"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"All"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"match_commits"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"pipeline"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_pipeline"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"stage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_stage"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Breaks"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"match_commits"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Creates a notification filter for the authenticated user.</p>

<p class='available-since'>
  Available since v17.5.0.
</p>

<p class="http-request-heading">HTTP Request</p>

<p><code class="prettyprint">POST /go/api/notification_filters</code></p>

<p>The following properties may be specified:</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">pipeline</code></td>
<td>String</td>
<td>The pipeline name to match. Can also be &ldquo;[Any Pipeline]&rdquo;. This attribute MUST be specified.</td>
</tr>
<tr>
<td><code class="prettyprint">stage</code></td>
<td>String</td>
<td>The stage name to match. Can also be &ldquo;[Any Stage]&rdquo;. This attribute MUST be specified.</td>
</tr>
<tr>
<td><code class="prettyprint">event</code></td>
<td>String</td>
<td>The event to match. Can be one of: &ldquo;All&rdquo;, &ldquo;Passes&rdquo;, &ldquo;Fails&rdquo;, &ldquo;Breaks&rdquo;, &ldquo;Fixed&rdquo;, &ldquo;Cancelled&rdquo;. This attribute MUST be specified.</td>
</tr>
<tr>
<td><code class="prettyprint">match_commits</code></td>
<td>Boolean</td>
<td>Should the filter only match the user&rsquo;s commits?.</td>
</tr>
</tbody></table>

<p class="http-request-return-description">Returns</p>

<p>An array of <a href="#the-notification-filter-object">notification filter objects</a> representing the current set the user&rsquo;s notification filters.</p>

<h2 id="delete-a-notification-filter">Delete a notification filter</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/notification_filters/10'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
      -X DELETE
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"filters"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Deletes a notification filter for the authenticated user.</p>

<p class='available-since'>
  Available since v17.5.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">DELETE /go/api/notification_filters/:id</code></p>

<p class='http-request-return-description'>Returns</p>

<p>An array of <a href="#the-notification-filter-object">notification filter objects</a> representing the user&rsquo;s remaining notification filters.</p>

          <h1 id="materials">Materials</h1>

<p>The materials API allows users to query and notify materials in the GoCD configuration.</p>

<h2 id="the-material-object">The material object</h2>

<p class='available-since'>
  Available since v14.3.0.
</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">description</code></td>
<td>String</td>
<td>The description of the material.</td>
</tr>
<tr>
<td><code class="prettyprint">fingerprint</code></td>
<td>String</td>
<td>The fingerprint of the material.</td>
</tr>
<tr>
<td><code class="prettyprint">type</code></td>
<td>String</td>
<td>The type of a material. Can be one of <code class="prettyprint">Git</code>, <code class="prettyprint">Mercurial</code>, <code class="prettyprint">Perforce</code>, <code class="prettyprint">Subversion</code>, <code class="prettyprint">Tfs</code>, <code class="prettyprint">Pipeline</code>, <code class="prettyprint">SCM</code>.</td>
</tr>
</tbody></table>

<h2 id="get-all-materials">Get all materials</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/config/materials'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"URL: https://github.com/gocd/gocd, Branch: master"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"03c8d2a131154436b6ef2d621c6f773837481aaea8c5c1bb9c0cb9b5bc64a2f1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Git"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>Lists all available materials, these are materials that are present in the in <code class="prettyprint">cruise-config.xml</code>.</p>

<p class='available-since'>
  Available since v14.3.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/config/materials</code></p>

<p class='http-request-return-description'>Returns</p>

<p>An array of <a href="#the-material-object">material objects</a>.</p>

<h2 id="get-material-modifications">Get material modifications</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/materials/03c8d2a131154436b6ef2d621c6f773837481aaea8c5c1bb9c0cb9b5bc64a2f1/modifications'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"modifications"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"email_address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">7225</span><span class="p">,</span><span class="w">
      </span><span class="nt">"modified_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1435728005000</span><span class="p">,</span><span class="w">
      </span><span class="nt">"user_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pick E Reader &lt;pick.e.reader@example.com&gt;"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my hola mundo changes"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"revision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a788f1876e2e1f6e5a1e91006e75cd1d467a0edb"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"offset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">1070</span><span class="p">,</span><span class="w">
    </span><span class="nt">"page_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get material modifications by fingerprint</p>

<p class='available-since'>
  Available since v14.3.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/materials/:fingerprint/modifications</code></p>

<p><strong>With pagination</strong></p>

<p><code class="prettyprint">GET /go/api/materials/:fingerprint/modifications[/:offset]</code></p>

<aside class="notice">
  <strong>Note:</strong> <code>:offset</code> is an optional parameter indicating the number of jobs to be skipped.
</aside>

<p class='http-request-return-description'>Returns</p>

<p>A list of modification objects.</p>

<h2 id="notify-svn-materials">Notify SVN materials</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/material/notify/svn'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Confirm: true'</span> <span class="se">\</span>
      -X POST <span class="se">\</span>
      -d <span class="s1">'uuid=svn-repository-uuid'</span>
</code></pre>

<blockquote>
<p>The above command returns the following response:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">202</span> <span class="ne">Accepted</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">text/plain; charset=UTF-8</span>
</code></pre>

<pre class="highlight plaintext"><code>The material is now scheduled for an update. Please check relevant pipeline(s) for status.
</code></pre>

<p>APIs that notify GoCD Server when a commit has been made in Version Control and GoCD needs to trigger relevant pipelines.</p>

<aside class="notice">
    When using this feature, uncheck <strong>Poll for new changes</strong> or set <code>autoUpdate</code> flag in cruise configuration to <code>false</code> for the relevant material.
</aside>

<p class='available-since'>
  Available since v14.3.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">POST /go/api/material/notify/svn</code></p>

<p>The following post parameters must be specified.</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">uuid</code></td>
<td>String</td>
<td>The subversion repository UUID.</td>
</tr>
</tbody></table>

<p class='http-request-return-description'>Returns</p>

<p>A text confirmation.</p>

<h3 id="notification-script">Notification script</h3>

<p>To notify GoCD via a SVN post commit hook, you may use the following post commit hook in your subversion repository.</p>

<p>The post commit hook is located at <code class="prettyprint">/path/to/repository/hooks/post-commit</code>.</p>

<pre class="highlight shell"><code><span class="c">#!/bin/sh</span>

<span class="nv">REPOS</span><span class="o">=</span><span class="s2">"</span><span class="nv">$1</span><span class="s2">"</span>
<span class="nv">REV</span><span class="o">=</span><span class="s2">"</span><span class="nv">$2</span><span class="s2">"</span>
<span class="nv">UUID</span><span class="o">=</span><span class="k">$(</span>svnlook uuid <span class="nv">$1</span><span class="k">)</span>

curl <span class="s1">'https://ci.example.com/go/api/material/notify/svn'</span> <span class="se">\</span>
    -u <span class="s1">'username:password'</span> <span class="se">\</span>
    -H <span class="s1">'Confirm: true'</span> <span class="se">\</span>
    -X POST <span class="se">\</span>
    -d <span class="s2">"uuid=</span><span class="nv">$UUID</span><span class="s2">"</span>
</code></pre>

<h2 id="notify-git-materials">Notify git materials</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/material/notify/git'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Confirm: true'</span> <span class="se">\</span>
      -X POST <span class="se">\</span>
      -d <span class="s2">"repository_url=git://git.example.com/git/funky-widgets.git"</span>
</code></pre>

<blockquote>
<p>The above command returns the following response:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">202</span> <span class="ne">Accepted</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">text/plain; charset=UTF-8</span>
</code></pre>

<pre class="highlight plaintext"><code>The material is now scheduled for an update. Please check relevant pipeline(s) for status.
</code></pre>

<p>APIs that notify GoCD Server when a commit has been made in Version Control and GoCD needs to trigger relevant pipelines.</p>

<aside class="notice">
    When using this feature, uncheck <strong>Poll for new changes</strong> or set <code>autoUpdate</code> flag in cruise configuration to <code>false</code> for the relevant material.
</aside>

<p class='available-since'>
  Available since v14.3.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">POST /go/api/material/notify/git</code></p>

<p>The following post parameters must be specified.</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">repository_url</code></td>
<td>String</td>
<td>The git repository url as defined in <code class="prettyprint">cruise-config.xml</code>.</td>
</tr>
</tbody></table>

<p class='http-request-return-description'>Returns</p>

<p>A text confirmation.</p>

<h3 id="notification-script">Notification script</h3>

<p>To notify GoCD via a Git post commit hook, you may use the following post commit hook in your git repository.</p>

<p>The post commit hook is located at <code class="prettyprint">/path/to/repository.git/hooks/post-receive</code>.</p>

<pre class="highlight shell"><code><span class="c">#!/bin/sh</span>

curl <span class="s1">'https://ci.example.com/go/api/material/notify/git'</span> <span class="se">\</span>
    -u <span class="s1">'username:password'</span> <span class="se">\</span>
    -H <span class="s1">'Confirm: true'</span> <span class="se">\</span>
    -X POST <span class="se">\</span>
    -d <span class="s2">"repository_url=git://git.example.com/git/funky-widgets.git"</span>
</code></pre>

<p><a id="bitbucket-webhook"></a></p>

<h3 id="hosting-your-repository-on-bitbucket">Hosting your repository on BitBucket?</h3>

<p class='available-since'>
  Available since v17.11.0.
</p>

<p>To notify GoCD of an push to BitBucket repository via a group or project webhook, configure BitBucket to use the webhooks api negating the need for basic authentication on each request.</p>

<p><strong>Note:</strong> Polling must be turned off for the pipeline associated with this material.</p>

<p><code class="prettyprint">https://{webhookSecret}:x@gocd.example.com:8154/go/api/webhooks/bitbucket/notify</code></p>

<p>To secure the http endpoint, the webhook configuration on bitbucket must specify a <em>Basic Authentication User</em>, the value of the <em>Basic Authentication User</em> should be same as the value of the <code class="prettyprint">webhookSecret</code> attribute on the <code class="prettyprint">&lt;server/&gt;</code> element in the file <code class="prettyprint">cruise-config.xml</code>. Do not specify any basic authentication credentials in the webhook URL.</p>

<h5 id="returns">Returns</h5>

<p>A text confirmation, with the http status <code class="prettyprint">202 Accepted</code>.</p>

<p><a id="github-webhook"></a></p>

<h3 id="hosting-your-repository-on-github-or-github-enterprise">Hosting your repository on GitHub, or GitHub Enterprise?</h3>

<p class='available-since'>
  Available since v17.6.0.
</p>

<p>To notify GoCD of a push to a GitHub repository via a repository or organization webhook, configure GitHub to use the webhooks api negating the need for basic authentication on each request.</p>

<p><strong>Note:</strong> Polling must be turned off for the pipeline associated with this material.</p>

<p><code class="prettyprint">https://gocd.example.com:8154/go/api/webhooks/github/notify</code></p>

<p>To secure the http endpoint, the webhook configuration on GitHub must specify a <em>Secret</em>, the value of the <em>Secret</em> should be same as the value of the <code class="prettyprint">webhookSecret</code> attribute on the <code class="prettyprint">&lt;server/&gt;</code> element in the file <code class="prettyprint">cruise-config.xml</code>. Do not specify any basic authentication credentials in the webhook URL.</p>

<h5 id="returns">Returns</h5>

<p>A text confirmation, with the http status <code class="prettyprint">202 Accepted</code>.</p>

<p><a id="gitlab-webhook"></a></p>

<h3 id="hosting-your-repository-on-gitlab">Hosting your repository on GitLab?</h3>

<p class='available-since'>
  Available since v17.11.0.
</p>

<p>To notify GoCD of an push to GitLab repository via a group or project webhook, configure GitLab to use the webhooks api negating the need for basic authentication on each request.</p>

<p><strong>Note:</strong> Polling must be turned off for the pipeline associated with this material.</p>

<p><code class="prettyprint">https://gocd.example.com:8154/go/api/webhooks/gitlab/notify</code></p>

<p>To secure the http endpoint, the webhook configuration on GitLab must specify a <em>Secret Token</em>, the value of the <em>Secret Token</em> should be same as the value of the <code class="prettyprint">webhookSecret</code> attribute on the <code class="prettyprint">&lt;server/&gt;</code> element in the file <code class="prettyprint">cruise-config.xml</code>. Do not specify any basic authentication credentials in the webhook URL.</p>

<h5 id="returns">Returns</h5>

<p>A text confirmation, with the http status <code class="prettyprint">202 Accepted</code>.</p>

<h2 id="notify-mercurial-materials">Notify Mercurial materials</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/material/notify/hg'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Confirm: true'</span> <span class="se">\</span>
      -X POST <span class="se">\</span>
      -d <span class="s2">"repository_url=ssh://hg.example.com//hg/repos/funky-widgets"</span>
</code></pre>

<blockquote>
<p>The above command returns the following response:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">202</span> <span class="ne">Accepted</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">text/plain; charset=UTF-8</span>
</code></pre>

<pre class="highlight plaintext"><code>The material is now scheduled for an update. Please check relevant pipeline(s) for status.
</code></pre>

<p>APIs that notify GoCD Server when a commit has been made in Version Control and GoCD needs to trigger relevant pipelines.</p>

<aside class="notice">
    When using this feature, uncheck <strong>Poll for new changes</strong> or set <code>autoUpdate</code> flag in cruise configuration to <code>false</code> for the relevant material.
</aside>

<p class='available-since'>
  Available since v14.3.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">POST /go/api/material/notify/hg</code></p>

<p>The following post parameters must be specified.</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">repository_url</code></td>
<td>String</td>
<td>The Mercurial repository URL as defined in <code class="prettyprint">cruise-config.xml</code>.</td>
</tr>
</tbody></table>

<p class='http-request-return-description'>Returns</p>

<p>A text confirmation.</p>

<h3 id="notification-script">Notification script</h3>

<p>To notify GoCD via a Mercurial changegroup hook, you may use the following in your Mercurial repository.</p>

<p>The hook goes into the <code class="prettyprint">hgrc</code> file, located at <code class="prettyprint">/path/to/hg/repository/.hg/hgrc</code>.</p>

<pre class="highlight plaintext"><code>[hooks]
changegroup = curl -sSL 'https://ci.example.com/go/api/material/notify/hg' \
    -u 'username:password' \
    -H 'Confirm: true' \
    -X POST \
    -d "repository_url=ssh://hg.example.com//hg/repos/funky-widgets"
</code></pre>

<h2 id="notify-other-scm-materials">Notify other scm materials</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/material/notify/scm'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Confirm: true'</span> <span class="se">\</span>
      -X POST <span class="se">\</span>
      -d <span class="s2">"scm_name=material_name"</span>
</code></pre>

<blockquote>
<p>The above command returns the following response:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">202</span> <span class="ne">Accepted</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">text/plain; charset=UTF-8</span>
</code></pre>

<pre class="highlight plaintext"><code>The material is now scheduled for an update. Please check relevant pipeline(s) for status.
</code></pre>

<p>APIs that notify GoCD Server when a commit has been made in Version Control and GoCD needs to trigger relevant pipelines.</p>

<aside class="notice">
    When using this feature, uncheck <strong>Poll for new changes</strong> or set <code>autoUpdate</code> flag in cruise configuration to <code>false</code> for the relevant material.
</aside>

<p class='available-since'>
  Available since v14.3.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">POST /go/api/material/notify/scm</code></p>

<p>The following post parameters must be specified.</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">scm_name</code></td>
<td>String</td>
<td>The scm_name is the material name as defined in pipeline material page.</td>
</tr>
</tbody></table>

<p class='http-request-return-description'>Returns</p>

<p>A text confirmation.</p>

          <h1 id="backups">Backups</h1>

<p>The backups API allows users with administrator role to manage GoCD server backups.</p>

<h2 id="the-backup-object">The backup object</h2>

<p class='available-since'>
  Available since v15.2.0.
</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">time</code></td>
<td>DateTime</td>
<td>The time of the backup.</td>
</tr>
<tr>
<td><code class="prettyprint">path</code></td>
<td>String</td>
<td>The filesystem location of the backup.</td>
</tr>
<tr>
<td><code class="prettyprint">user</code></td>
<td>Object</td>
<td>The user that performed this backup.</td>
</tr>
</tbody></table>

<h2 id="create-a-backup">Create a backup</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/backups'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Confirm: true'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
      -X POST
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#backups"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-08-07T10:07:19.868Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/var/lib/go-server/serverBackups/backup_20150807-153719"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#users"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/users/username"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/users/:login_name"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"login_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Create a server backup.</p>

<aside class="warning">
  The server may be unavailable during the time that the backup is being taken.
</aside>

<aside class="notice">
  The response from the call will not be received till the backup is complete
  (synchronous). If the data to be backed up is a lot, this can take minutes
  to complete.
</aside>

<p class='available-since'>
  Available since v15.2.0.
    <span
      data-popover
      data-title='Looking for older versions of this API?'
      data-content='&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;www.gocd.org&#x2F;documentation&#x2F;user&#x2F;15.1.0&#x2F;api&#x2F;backup_api.html&quot;&gt;Click here&lt;&#x2F;a&gt; for &lt;strong&gt;v15.1.0&lt;&#x2F;strong&gt; of this API.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;www.gocd.org&#x2F;documentation&#x2F;user&#x2F;14.4.0&#x2F;api&#x2F;backup_api.html&quot;&gt;Click here&lt;&#x2F;a&gt; for &lt;strong&gt;v14.4.0&lt;&#x2F;strong&gt; of this API.&lt;&#x2F;p&gt;

&lt;p&gt;&lt;a href=&quot;https:&#x2F;&#x2F;www.gocd.org&#x2F;documentation&#x2F;user&#x2F;14.3.0&#x2F;api&#x2F;backup_api.html&quot;&gt;Click here&lt;&#x2F;a&gt; for &lt;strong&gt;v14.3.0&lt;&#x2F;strong&gt; of this API.&lt;&#x2F;p&gt;
'
    ></span>
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">POST /go/api/backups</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A new <a href="#the-backup-object">backup object</a>.</p>

          <h1 id="pipeline-groups">Pipeline Groups</h1>

<p>The pipeline groups allows users to list pipeline groups along with the pipelines, stages and materials for each pipeline.</p>

<h2 id="config-listing">Config listing</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/config/pipeline_groups'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"pipelines"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"stages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"up42_stage"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"up42"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"materials"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"URL: https://github.com/gocd/gocd, Branch: master"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2d05446cd52a998fe3afd840fc2c46b7c7e421051f0209c7f619c95bedc28b88"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Git"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"${COUNT}"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"first"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>This API is built primarily to support rendering of value stream mapping. As such the information rendered in the configuration is kept to a minimum.</p>

<p class='available-since'>
  Available since v14.3.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/config/pipeline_groups</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A list of pipeline groups, pipelines in each group, stages and materials in each pipeline.</p>

          <h1 id="artifacts">Artifacts</h1>

<p>The artifacts API allows users to query and create artifacts of a job.</p>

<h2 id="the-artifact-object">The artifact object</h2>

<p class='available-since'>
  Available since v14.3.0.
</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code></td>
<td>String</td>
<td>The basename of the file/folder.</td>
</tr>
<tr>
<td><code class="prettyprint">url</code></td>
<td>String</td>
<td>The URL to the artifact.</td>
</tr>
<tr>
<td><code class="prettyprint">type</code></td>
<td>String</td>
<td>The type of the artifact. Can be one of <code class="prettyprint">file</code>, <code class="prettyprint">folder</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">files</code></td>
<td>Array</td>
<td>If the artifact is of type <code class="prettyprint">folder</code> then this property will contain files/folders inside this folder.</td>
</tr>
</tbody></table>

<h2 id="get-all-artifacts">Get all artifacts</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/files/PipelineName/541/StageName/1/JobName.json'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cruise-output"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/files/PipelineName/541/StageName/1/JobName/cruise-output"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"folder"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"files"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"console.log"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/files/PipelineName/541/StageName/1/JobName/cruise-output/console.log"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"file"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"md5.checksum"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/files/PipelineName/541/StageName/1/JobName/cruise-output/md5.checksum"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"file"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Lists all available artifacts in a job.</p>

<p class='available-since'>
  Available since v14.3.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/files/:pipeline_name/:pipeline_counter/:stage_name/:stage_counter/:job_name.json</code></p>

<p class='http-request-return-description'>Returns</p>

<p>An array of <a href="#the-artifact-object">artifact objects</a>.</p>

<h2 id="get-artifact-file">Get artifact file</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/files/PipelineName/541/StageName/1/JobName/path/to/file'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span>
</code></pre>

<blockquote>
<p>The above command returns the contents of the file you requested</p>
</blockquote>

<p>Gets an artifact file by its path.</p>

<p class='available-since'>
  Available since v14.3.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/files/:pipeline_name/:pipeline_counter/:stage_name/:stage_counter/:job_name/*path_to_file</code></p>

<aside class="notice">
  The <code>path_to_file</code> can be a nested file for e.g. <code>dist/foobar-widgets-1.2.0.jar</code>
</aside>

<p class='http-request-return-description'>Returns</p>

<p>An the contents of the requested file.</p>

<h2 id="get-artifact-directory">Get artifact directory</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/files/PipelineName/541/StageName/1/JobName/path/to/directory.zip'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span>
</code></pre>

<blockquote>
<p>The above command returns the contents of the directory you requested as a compressed zip file.</p>
</blockquote>

<p>Gets an artifact directory by its path.</p>

<p class='available-since'>
  Available since v14.3.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/files/:pipeline_name/:pipeline_counter/:stage_name/:stage_counter/:job_name/*path_to_directory.zip</code></p>

<aside class="notice">
  The <code>path_to_directory</code> can be a nested directory for e.g. <code>target/dist.zip</code>
</aside>

<aside class="warning">
  Since it may take an undetermined amount of time to compress a directory, the server <em>may</em> return a <code>202 Accepted</code> code to indicate that it is compressing the requested directory.
  <br/><br/>
  Users are expected to poll the url every few seconds to check if the directory is available.
</aside>

<p class='http-request-return-description'>Returns</p>

<p>One of -</p>

<ul>
<li>A status code <code class="prettyprint">202 Accepted</code> to acknowledge your request to compress the contents of the requested directory.</li>
<li>The requested directory contents in the form of a zip file.</li>
</ul>

<h2 id="create-artifact">Create artifact</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/files/PipelineName/541/StageName/1/JobName/pkg/foobar-widgets-1.2.3.jar'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Confirm:true'</span> <span class="se">\</span>
      -X POST <span class="se">\</span>
      -F <span class="s1">'file=@target/dist/foobar-widgets-1.2.3.jar'</span>
</code></pre>

<blockquote>
<p>The above command uploads the file <code class="prettyprint">target/dist/foobar-widgets-1.2.3.jar</code> to the specified job at the remote path <code class="prettyprint">pkg/foobar-widgets-1.2.3.jar</code> and returns the following response:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">text/plain; charset=UTF-8</span>

File pkg/foobar-widgets-1.2.3.jar was created successfully
</code></pre>

<p>Uploads a local file as an artifact.</p>

<p class='available-since'>
  Available since v14.3.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">POST /go/files/:pipeline_name/:pipeline_counter/:stage_name/:stage_counter/:job_name/*path_to_file</code></p>

<p>The following form parameter must be specified</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">file</code></td>
<td>String</td>
<td>The contents file to be uploaded as <code class="prettyprint">multipart/form-data</code>.</td>
</tr>
</tbody></table>

<p class='http-request-return-description'>Returns</p>

<p>An acknowledgement that the file was created.</p>

<h2 id="create-multiple-artifacts">Create multiple artifacts</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/files/PipelineName/541/StageName/1/JobName/path/in/destination'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Confirm: true'</span> <span class="se">\</span>
      -X POST <span class="se">\</span>
      -F <span class="s1">'zipfile=@target/dist/zip-of-files.zip'</span>
</code></pre>

<blockquote>
<p>The above command uploads the <em>contents</em> of the zip file <code class="prettyprint">target/dist/zip-of-files.zip</code> to the specified job at the remote directory <code class="prettyprint">path/in/destination/</code> and returns the following response:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">201</span> <span class="ne">Created</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">text/plain; charset=UTF-8</span>

File path/in/destination was created successfully
</code></pre>

<blockquote>
<p>Example:</p>
</blockquote>

<pre class="highlight plaintext"><code>$ unzip -l /location/of/test.zip
Archive:  location/of/test.zip
  Length      Date    Time    Name
---------  ---------- -----   ----
        0  04-06-2018 10:28   x/
        0  04-06-2018 10:29   x/y/
        6  04-06-2018 10:29   x/y/z.txt
        6  04-06-2018 10:29   x/y/a.txt
---------                     -------
       12                     4 files

$ pwd
/location/of/gocd/artifacts/pipelines/PipelineName/541/StageName/1/JobName

$ ls
cruise-output/


$ curl 'https://ci.example.com/go/files/PipelineName/541/StageName/1/JobName/path/in/destination' \
      ... \
      -F 'zipfile=@/location/of/test.zip'

$ ls
cruise-output/   path/

$ find path
path
path/in
path/in/destination
path/in/destination/x
path/in/destination/x/y
path/in/destination/x/y/z.txt
path/in/destination/x/y/a.txt
</code></pre>

<p>Uploads local files as artifacts to the GoCD server. This is done by creating a zip file of the files which need to be uploaded. The GoCD
server will unzip the files, once it is uploaded, allowing multiple files to be uploaded at a time.</p>

<p class='available-since'>
  Available since v14.3.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">POST /go/files/:pipeline_name/:pipeline_counter/:stage_name/:stage_counter/:job_name/*path_to_directory</code></p>

<p>The following form parameter must be specified</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">zipfile</code></td>
<td>String</td>
<td>The zip file to be uploaded as <code class="prettyprint">multipart/form-data</code>.</td>
</tr>
</tbody></table>

<p class='http-request-return-description'>Returns</p>

<p>An acknowledgement that the directory was created.</p>

<h2 id="append-to-artifact">Append to artifact</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/files/PipelineName/541/StageName/1/JobName/logs/operations.log'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -T logs/production.log
</code></pre>

<blockquote>
<p>The above command appends the file <code class="prettyprint">logs/production.log</code> to the specified job at the remote path <code class="prettyprint">logs/operations.log</code> and returns the following response:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">text/plain; charset=UTF-8</span>

File logs/operations.log was appended successfully
</code></pre>

<p>Appends a local file to an existing artifact.</p>

<p class='available-since'>
  Available since v14.3.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">PUT /go/files/:pipeline_name/:pipeline_counter/:stage_name/:stage_counter/:job_name/*path_to_file</code></p>

<p class='http-request-return-description'>Returns</p>

<p>An acknowledgement that the file was appended to.</p>

          <h1 id="pipelines">Pipelines</h1>

<p>The pipelines API allows users to view pipeline information and operate on it.</p>

<h2 id="get-pipeline-instance">Get pipeline instance</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://ci.example.com/go/api/pipelines/PipelineName/instance/1'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"build_cause"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"approver"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nt">"material_revisions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"modifications"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
             </span><span class="nt">"email_address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
             </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">7225</span><span class="p">,</span><span class="w">
             </span><span class="nt">"modified_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1435728005000</span><span class="p">,</span><span class="w">
             </span><span class="nt">"user_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pick E Reader &lt;pick.e.reader@example.com&gt;"</span><span class="p">,</span><span class="w">
             </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my hola mundo changes"</span><span class="p">,</span><span class="w">
             </span><span class="nt">"revision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a788f1876e2e1f6e5a1e91006e75cd1d467a0edb"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"material"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"URL: https://github.com/gocd/gocd, Branch: master"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"61e2da369d0207a7ef61f326eed837f964471b35072340a03f8f55d993afe01d"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Git"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"changed"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"trigger_forced"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"trigger_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"modified by Pick E Reader &lt;pick.e.reader@example.com&gt;"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PipelineName"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"natural_order"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"can_run"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"stages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stage1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"approved_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"changes"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"jobs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jsunit"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Passed"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Completed"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"scheduled_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1398332981981</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"can_run"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Passed"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"approval_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"counter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"operate_permission"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"rerun_of_counter"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"scheduled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"counter"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"preparing_to_schedule"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"14.1.0.1-b14a81825d081411993853ea5ea45266ced578b4"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Gets pipeline instance object.</p>

<p class='available-since'>
  Available since v15.1.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/pipelines/:pipeline_name/instance/:pipeline_counter</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A pipeline instance object.</p>

<h2 id="get-pipeline-history">Get pipeline history</h2>

<pre class="highlight shell"><code>
<span class="gp">$ </span>curl <span class="s1">'http://ci.example.com/go/api/pipelines/pipeline1/history/0'</span> <span class="se">\</span>
       -u <span class="s1">'username:password'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"pipelines"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"build_cause"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"approver"</span><span class="p">:</span><span class="w"> </span><span class="s2">"anonymous"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"material_revisions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"modifications"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nt">"email_address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nt">"modified_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1434957613000</span><span class="p">,</span><span class="w">
                </span><span class="nt">"user_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pick E Reader &lt;pick.e.reader@example.com&gt;"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my hola mundo changes"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"revision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c194b49db102b705ebc13e604e490ae13ac92d96"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"material"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"URL: https://github.com/gocd/gocd, Branch: master"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f6e7a3899c55e1682ffb00383bdf8f882bcee2141e79a8728254190a1fddcf4f"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Git"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"changed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"trigger_forced"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"trigger_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Forced by anonymous"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pipeline1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"natural_order"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
      </span><span class="nt">"can_run"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"stages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stage1"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"approved_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"jobs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"job1"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Failed"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Completed"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w">
              </span><span class="nt">"scheduled_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1436172201081</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="nt">"can_run"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Failed"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"approval_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"counter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w">
          </span><span class="nt">"operate_permission"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"rerun_of_counter"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"scheduled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"counter"</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w">
      </span><span class="nt">"preparing_to_schedule"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"build_cause"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"approver"</span><span class="p">:</span><span class="w"> </span><span class="s2">"anonymous"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"material_revisions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"modifications"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="nt">"email_address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="nt">"modified_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1434957613000</span><span class="p">,</span><span class="w">
                </span><span class="nt">"user_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pick E Reader &lt;pick.e.reader@example.com&gt;"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my hola mundo changes"</span><span class="p">,</span><span class="w">
                </span><span class="nt">"revision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c194b49db102b705ebc13e604e490ae13ac92d96"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nt">"material"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"URL: https://github.com/gocd/gocd, Branch: master"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f6e7a3899c55e1682ffb00383bdf8f882bcee2141e79a8728254190a1fddcf4f"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Git"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"changed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"trigger_forced"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"trigger_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Forced by anonymous"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pipeline1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"natural_order"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="nt">"can_run"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"comment"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"stages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"stage1"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"approved_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"jobs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"job1"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Passed"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Completed"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
              </span><span class="nt">"scheduled_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1436172122024</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="nt">"can_run"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Passed"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"approval_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"counter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
          </span><span class="nt">"operate_permission"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"rerun_of_counter"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="nt">"scheduled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"counter"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span><span class="w">
      </span><span class="nt">"preparing_to_schedule"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"offset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"page_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>The pipeline history allows users to list pipeline instances. Supports pagination using offset which tells the API how many instances to skip.</p>

<p class='available-since'>
  Available since v14.3.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/pipelines/:pipeline_name/history</code></p>

<p><strong>With pagination</strong></p>

<p><code class="prettyprint">GET /go/api/pipelines/:pipeline_name/history[/:offset]</code></p>

<aside class="notice">
  <strong>Note:</strong> <code>:offset</code> is an optional parameter indicating the number of pipeline instances to be skipped.
</aside>

<p class='http-request-return-description'>Returns</p>

<p>An array of pipeline instances.</p>

<h2 id="get-pipeline-status">Get pipeline status</h2>

<pre class="highlight shell"><code>
<span class="gp">$ </span>curl <span class="s1">'http://ci.example.com/go/api/pipelines/pipeline1/status'</span> <span class="se">\</span>
       -u <span class="s1">'username:password'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"pausedCause"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Reason for pausing this pipeline"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"pausedBy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"paused"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"schedulable"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"locked"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>The pipeline status allows users to check if the pipeline is paused, locked and schedulable.</p>

<p class='available-since'>
  Available since v14.3.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/pipelines/:pipeline_name/status</code></p>

<p class='http-request-return-description'>Returns</p>

<p>JSON containing information about pipeline state.</p>

<h2 id="pause-a-pipeline">Pause a pipeline</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/pipelines/pipeline1/pause'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
      -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
      -X POST <span class="se">\</span>
      -d <span class="s1">'{
            "pause_cause": "Investigating build failures"
          }'</span>
</code></pre>

<blockquote>
<p>The above command returns the following response:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Pipeline 'pipeline1' paused successfully."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Pause the specified pipeline.</p>

<p class='available-since'>
  Available since v18.2.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">POST /go/api/pipelines/:pipeline_name/pause</code></p>

<p>The following properties may be specified.</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">pause_cause</code></td>
<td>String</td>
<td>Reason for pausing the pipeline.</td>
</tr>
</tbody></table>

<aside class="notice">
  If you do not specify a JSON request body, you MUST set the http request header <code>X-GoCD-Confirm</code> with any random string. This is done to force the browser to perform a <a href='https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#Preflighted_requests'>CORS preflight</a> check.
</aside>

<p class='http-request-return-description'>Returns</p>

<p>A message confirming that the pipeline was paused.</p>

<h2 id="unpause-a-pipeline">Unpause a pipeline</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/pipelines/pipeline1/unpause'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
      -H <span class="s1">'X-GoCD-Confirm: true'</span> <span class="se">\</span>
      -X POST
</code></pre>

<blockquote>
<p>The above command returns the following response:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Pipeline 'pipeline1' unpaused successfully."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Unpause the specified pipeline.</p>

<p class='available-since'>
  Available since v18.2.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">POST /go/api/pipelines/:pipeline_name/unpause</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A message confirming that the pipeline was unpaused.</p>

<h2 id="releasing-a-pipeline-lock">Releasing a pipeline lock</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/pipelines/pipeline1/unlock'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
      -H <span class="s1">'X-GoCD-Confirm: true'</span> <span class="se">\</span>
      -X POST
</code></pre>

<blockquote>
<p>The above command returns the following response:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Pipeline lock released for pipeline1."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Release a lock on a pipeline so that you can start up a new instance without having to wait for the earlier instance to finish.</p>

<aside class="notice">
 A pipeline lock can only be released when a pipeline is locked, AND there is no running instance of the pipeline.
</aside>

<p class='available-since'>
  Available since v18.2.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">POST /go/api/pipelines/:pipeline_name/unlock</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A message confirming that the pipeline was unlocked.</p>

<h2 id="scheduling-pipelines">Scheduling pipelines</h2>

<pre class="highlight shell"><code>
<span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/pipelines/pipeline1/schedule'</span> <span class="se">\</span>
       -u <span class="s1">'username:password'</span> <span class="se">\</span>
       -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
       -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
       -X POST <span class="se">\</span>
       -d <span class="s1">'{
             "environment_variables": [
               {
                 "name": "USERNAME",
                 "secure": false,
                 "value": "bob"
               },
               {
                 "name": "SSH_PASSPHRASE",
                 "value": "some passphrase",
                 "secure": true,
               },
               {
                 "name": "PASSWORD",
                 "encrypted_value": "YEepp1G0C05SpP0fcp4Jh+kPmWwXH5Nq",
                 "secure": true,
               }
             ],
             "materials": [
               {
                 "fingerprint": "b5bb9d8014a0f9b1d61e21e796d78dccdf1352f23cd32812f4850b878ae4944c",
                 "revision": "123"
               },
               {
                 "fingerprint": "7d865e959b2466918c9863afca942d0fb89d7c9ac0c99bafc3749504ded97730",
                 "revision": "1058e75b18e8a645dd71702851994a010789f450"
               }
             ],
             "update_materials_before_scheduling": true
           }'</span>
</code></pre>

<blockquote>
<p>The above command returns the following response:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">202</span> <span class="ne">Accepted</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Request to schedule pipeline pipeline1 accepted"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Scheduling allows user to trigger a specific pipeline.</p>

<p class='available-since'>
  Available since v18.2.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">POST /go/api/pipelines/:pipeline_name/schedule</code></p>

<p>The following properties may be specified.</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">environment_variables</code></td>
<td>Array</td>
<td>A list of <a href="#the-environment-variable-object">environment variables</a> that can be overridden while scheduling the pipeline.</td>
</tr>
<tr>
<td><code class="prettyprint">materials</code></td>
<td>Array</td>
<td>A list of <a href="#the-scheduling-material-object">materials</a> that must be used to trigger a new instance of the pipeline. Defaults to triggering with the latest revision of all pipelines.</td>
</tr>
<tr>
<td><code class="prettyprint">update_materials_before_scheduling</code></td>
<td>Boolean</td>
<td>Whether a material update should be updated before scheduling. Defaults to true.</td>
</tr>
</tbody></table>

<aside class="notice">
  If you do not specify a JSON request body, you MUST set the http request header <code>X-GoCD-Confirm</code> with any random string. This is done to force the browser to perform a <a href='https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#Preflighted_requests'>CORS preflight</a> check.
</aside>

<p class='http-request-return-description'>Returns</p>

<p>A message indicating if the request was accepted.</p>

<p><a id='the-scheduling-material-object'></a></p>

<h3 id="the-scheduling-material-object">The scheduling material object</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"materials"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5ae0ad30a5daf288a5d5ad0779f5599e18628079db282b9979a5a1647e7d6064"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"revision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"06cd91c5bae482aef5b26d48e22e6f2e2dd7c9e880e02d55ce16e5aafc3c0c4b"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"revision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ccfbcd41f7d9dd2f10323d9a4f19c7f0aa5f6fe0"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bc3f161b22bef8b027446e0fb56a1c6dda5d02c14bbbe1415b428fcf949aaa09"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"revision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"upstream_foo/2/dist/1"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"fingerprint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"29f7131be1c8475331e17dbde34df03483d17c711ecbc36427ead6ec6408666f"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"revision"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gcc-4.4.7-3.el6.x86_64"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">fingerprint</code></td>
<td>String</td>
<td>The fingerprint of the <a href="#materials">material object</a>.</td>
</tr>
<tr>
<td><code class="prettyprint">revision</code></td>
<td>String</td>
<td>The revision of the material that should be used to trigger the pipeline:<ul><li>For git and hg repositories, this will be the SHA of the commit.</li><li>For subversion repositories, this will be the integer revision.</li><li>For perforce repositories, this will be the changelist number.</li><li>For TFS repositories, this will be the changeset ID.</li><li>For pipeline dependency materials, this will be the pipeline identifier in the form <code class="prettyprint">:pipeline_name/:pipeline_counter/:stage_name/:stage_counter</code>.</li><li>For package materials, this will be the revision identifier of the package as specified by the package material plugin.</li></ul>.</td>
</tr>
</tbody></table>

          <h1 id="stages">Stages</h1>

<p>The stages API allows users to view stage information and operate on it.</p>

<h2 id="cancel-stage">Cancel stage</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/stages/myPipeline/myStages/cancel'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Confirm: true'</span> <span class="se">\</span>
      -X POST
</code></pre>

<blockquote>
<p>The above command returns the following response:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">text/html; charset=utf-8</span>
</code></pre>

<pre class="highlight plaintext"><code>Stage cancelled successfully.
</code></pre>

<p>Cancel an active stage of a specified stage.</p>

<p class='available-since'>
  Available since v14.3.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">POST /go/api/stages/:pipeline_name/:stage_name/cancel</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A text confirmation.</p>

<h2 id="get-stage-instance">Get stage Instance</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/stages/myPipeline/myStages/instance/1/1'</span> <span class="se">\</span>
  -u <span class="s1">'username:password'</span> <span class="se">\</span>
  -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span>
</code></pre>

<blockquote>
<p>The above command returns the following response:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json;charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"defaultStage"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"clean_working_directory"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"approved_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"changes"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"jobs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"agent_uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"278fb0b6-d3b8-47e1-9443-67f26bfb5c15"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"defaultJob"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"job_state_transitions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"state_change_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1436509518752</span><span class="p">,</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Scheduled"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"state_change_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1436509524491</span><span class="p">,</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Assigned"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"state_change_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1436509534639</span><span class="p">,</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
          </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Preparing"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"state_change_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1436509542522</span><span class="p">,</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
          </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Building"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"state_change_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1436509642582</span><span class="p">,</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
          </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Completing"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"state_change_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1436509642631</span><span class="p">,</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
          </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Completed"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"scheduled_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1436509518752</span><span class="p">,</span><span class="w">
      </span><span class="nt">"original_job_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"pipeline_counter"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"rerun"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"pipeline_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cancelled"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Completed"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"stage_counter"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"stage_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"pipeline_counter"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"pipeline_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mypipeline"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"approval_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cancelled"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"cancelled_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"user"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"counter"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"rerun_of_counter"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"fetch_materials"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"artifacts_deleted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Gets stage instance object.</p>

<p class='available-since'>
  Available since v19.1.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/stages/:pipeline_name/:stage_name/instance/:pipeline_counter/:stage_counter</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A stage instance object.</p>

<h2 id="get-stage-history">Get stage history</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/stages/myPipeline/defaultStage/history'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"stages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"defaultStage"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"approved_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"jobs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"defaultJob"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cancelled"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Completed"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
          </span><span class="nt">"scheduled_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1436509881002</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"pipeline_counter"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nt">"pipeline_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mypipeline"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cancelled"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"approval_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
      </span><span class="nt">"counter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"rerun_of_counter"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"defaultStage"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"approved_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"jobs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"defaultJob"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cancelled"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Completed"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
          </span><span class="nt">"scheduled_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1436509783931</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"pipeline_counter"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"pipeline_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mypipeline"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cancelled"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"approval_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
      </span><span class="nt">"counter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"rerun_of_counter"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"defaultStage"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"approved_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"changes"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"jobs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"defaultJob"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Passed"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Completed"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"scheduled_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1436509518752</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"pipeline_counter"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"pipeline_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mypipeline"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Passed"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"approval_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"counter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"rerun_of_counter"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"offset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nt">"page_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>The stage history allows users to list stage instances of specified stage. Supports pagination using offset which tells the API how many instances to skip.</p>

<p class='available-since'>
  Available since v14.3.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/stages/:pipeline_name/:stage_name/history</code></p>

<p><strong>With pagination</strong></p>

<p><code class="prettyprint">GET /go/api/stages/:pipeline_name/:stage_name/history[/:offset]</code></p>

<aside class="notice">
  <strong>Note:</strong> <code>:offset</code> is an optional parameter indicating the number of stages to be skipped.
</aside>

<p class='http-request-return-description'>Returns</p>

<p>An array of stage instances.</p>

<h2 id="run-stage">Run stage</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/stages/myPipeline/myPipelineRunCounter/myStages/run'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'X-GoCD-Confirm: true'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
      -X POST
</code></pre>

<blockquote>
<p>The above command returns the following response:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">202</span> <span class="ne">Accepted</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json;charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Request to schedule stage testAPI/1/defaultStage accepted"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Runs a specified stage.</p>

<p class='available-since'>
  Available since v18.11.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">POST /go/api/stages/:pipeline_name/:pipeline_counter/:stage_name/run</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A text confirmation.</p>

<h2 id="run-failed-jobs">Run failed jobs</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/stages/myPipeline/myPipelineRunCounter/myStage/myStageCounter/run-failed-jobs'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'X-GoCD-Confirm: true'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
      -X POST
</code></pre>

<blockquote>
<p>The above command returns the following response:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">202</span> <span class="ne">Accepted</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json;charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Request to rerun jobs accepted"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Runs failed jobs in a completed stage.</p>

<p class='available-since'>
  Available since v18.11.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">POST /go/api/stages/:pipeline_name/:pipeline_counter/:stage_name/:stage_counter/run-failed-jobs</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A text confirmation.</p>

<h2 id="run-selected-jobs">Run selected jobs</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/stages/myPipeline/myPipelineRunCounter/myStage/myStageCounter/run-selected-jobs'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
      -X POST <span class="se">\</span>
      -d <span class="s1">'{
            jobs: ["job1", "job2"]
      }'</span>
</code></pre>

<blockquote>
<p>The above command returns the following response:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">202</span> <span class="ne">Accepted</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json;charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Request to rerun jobs accepted"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Runs specified jobs in a completed stage.</p>

<p class='available-since'>
  Available since v18.11.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">POST /go/api/stages/:pipeline_name/:pipeline_counter/:stage_name/:stage_counter/run-selected-jobs</code></p>

<p>Following property must be specified:</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">jobs</code></td>
<td>Array</td>
<td>A list job names that needs to be triggered again. This attribute MUST be specified.</td>
</tr>
</tbody></table>

<p class='http-request-return-description'>Returns</p>

<p>A text confirmation.</p>

          <h1 id="jobs">Jobs</h1>

<p>The jobs API allows users to view job information.</p>

<h2 id="get-scheduled-jobs">Get scheduled jobs</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/jobs/scheduled.xml'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span>
</code></pre>

<blockquote>
<p>The above command returns XML structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/xml; charset=utf-8</span>
</code></pre>

<pre class="highlight xml"><code><span class="nt">&lt;scheduledJobs&gt;</span>
  <span class="nt">&lt;job</span> <span class="na">name=</span><span class="s">"job1"</span> <span class="na">id=</span><span class="s">"6"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"self"</span> <span class="na">href=</span><span class="s">"https://ci.example.com/go/tab/build/detail/mypipeline/5/defaultStage/1/job1"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;buildLocator&gt;</span>mypipeline/5/defaultStage/1/job1<span class="nt">&lt;/buildLocator&gt;</span>
  <span class="nt">&lt;/job&gt;</span>
  <span class="nt">&lt;job</span> <span class="na">name=</span><span class="s">"job2"</span> <span class="na">id=</span><span class="s">"7"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"self"</span> <span class="na">href=</span><span class="s">"https://ci.example.com/go/tab/build/detail/mypipeline/5/defaultStage/1/job2"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;buildLocator&gt;</span>mypipeline/5/defaultStage/1/job2<span class="nt">&lt;/buildLocator&gt;</span>
  <span class="nt">&lt;/job&gt;</span>
<span class="nt">&lt;/scheduledJobs&gt;</span>
</code></pre>

<p>Lists all the current job instances which are scheduled but not yet assigned to any agent.</p>

<p class='available-since'>
  Available since v14.3.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/jobs/scheduled.xml</code></p>

<p class='http-request-return-description'>Returns</p>

<p>An array of scheduled job instances.</p>

<h2 id="get-job-history">Get job history</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/jobs/mypipeline/defaultStage/job1/history'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"jobs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"agent_uuid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"job1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"job_state_transitions"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="nt">"scheduled_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1436519914378</span><span class="p">,</span><span class="w">
      </span><span class="nt">"original_job_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"pipeline_counter"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="nt">"rerun"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"pipeline_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mypipeline"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unknown"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Scheduled"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
      </span><span class="nt">"stage_counter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"stage_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"defaultStage"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"agent_uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"278fb0b6-d3b8-47e1-9443-67f26bfb5c15"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"job1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"job_state_transitions"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
      </span><span class="nt">"scheduled_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1436519733253</span><span class="p">,</span><span class="w">
      </span><span class="nt">"original_job_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"pipeline_counter"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
      </span><span class="nt">"rerun"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"pipeline_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mypipeline"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Passed"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Completed"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
      </span><span class="nt">"stage_counter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"stage_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"defaultStage"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"pagination"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"offset"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"page_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>The job history allows users to list job instances of specified job. Supports pagination using offset which tells the API how many instances to skip.</p>

<p class='available-since'>
  Available since v14.3.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/jobs/:pipeline_name/:stage_name/:job_name/history</code></p>

<p><strong>With pagination</strong></p>

<p><code class="prettyprint">GET /go/api/jobs/:pipeline_name/:stage_name/:job_name/history[/:offset]</code></p>

<aside class="notice">
  <strong>Note:</strong> <code>:offset</code> is an optional parameter indicating the number of jobs to be skipped.
</aside>

<p class='http-request-return-description'>Returns</p>

<p>An array of jobs instances.</p>

          <h1 id="properties">Properties</h1>

<p>The properties API allows managing of job properties.</p>

<h2 id="get-all-job-properties">Get all job properties</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://ci.example.com/go/properties/PipelineName/541/StageName/1/JobName'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span>
</code></pre>

<blockquote>
<p>The above command returns CSV structure like this (indented for readability):</p>
</blockquote>

<pre class="highlight plaintext"><code>cruise_agent,   cruise_timestamp_01_scheduled,  cruise_timestamp_02_assigned
myLocalAgent, 2015-07-09T11:59:08+05:30,      2015-07-09T11:59:16+05:30
</code></pre>

<p>Lists all job properties.</p>

<p class='available-since'>
  Available since v14.3.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/properties/:pipeline_name/:pipeline_counter/:stage_name/:stage_counter/:job_name</code></p>

<aside class="notice">
  <strong>Note:</strong>
  You can use keyword &lsquo;latest&rsquo; as a pipeline counter or a stage counter.
</aside>

<p class='http-request-return-description'>Returns</p>

<p>CSV list containing property names and their corresponding value.</p>

<h2 id="get-one-property">Get one property</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://ci.example.com/go/properties/PipelineName/541/StageName/1/JobName/cruise_agent'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span>
</code></pre>

<blockquote>
<p>The above command returns CSV structure like this:</p>
</blockquote>

<p>Gets a property by its name.</p>

<pre class="highlight shell"><code>cruise_agent
myLocalAgent
</code></pre>

<p class='available-since'>
  Available since v14.3.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/properties/:pipeline_name/:pipeline_counter/:stage_name/:stage_counter/:job_name/:property_name</code></p>

<aside class="notice">
  <strong>Note:</strong>
  You can use keyword &lsquo;latest&rsquo; as a pipeline counter or a stage counter.
</aside>

<p class='http-request-return-description'>Returns</p>

<p>Property name and its value.</p>

<h2 id="get-historical-properties">Get historical properties</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://ci.example.com/go/properties/search?pipelineName=PipelineName&amp;stageName=StageName&amp;jobName=JobName&amp;limitPipeline=latest&amp;limitCount=2'</span> <span class="se">\</span>
        -u <span class="s1">'username:password'</span>
</code></pre>

<blockquote>
<p>The above command returns CSV structure like this:</p>
</blockquote>

<pre class="highlight shell"><code>cruise_agent,cruise_job_duration,cruise_job_id,cruise_job_result,cruise_pipeline_counter,cruise_pipeline_label,cruise_stage_counter,cruise_timestamp_01_scheduled,cruise_timestamp_02_assigned,cruise_timestamp_03_preparing,cruise_timestamp_04_building,cruise_timestamp_05_completing,cruise_timestamp_06_completed

myLocalAgent,0,13,Passed,8,4f9e580347b2e259fe030a775771359cdc984346,1,2015-07-07T09:44:27+05:30,2015-07-07T09:44:34+05:30,2015-07-07T09:44:44+05:30,2015-07-07T09:44:46+05:30,2015-07-07T09:44:46+05:30,2015-07-07T09:44:46+05:30

myLocalAgent,0,14,Passed,9,4f9e580347b2e259fe030a775771359cdc984346,1,2015-07-07T10:17:37+05:30,2015-07-07T10:17:45+05:30,2015-07-07T10:17:55+05:30,2015-07-07T10:17:56+05:30,2015-07-07T10:17:56+05:30,2015-07-07T10:17:56+05:30
</code></pre>

<p class='available-since'>
  Available since v14.3.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/properties/search?pipelineName=:pipeline_name&amp;stageName=:stage_name&amp;jobName=:job_name&amp;limitPipeline=:pipeline_counter&amp;limitCount=:number</code></p>

<aside class="notice">
  <strong>Note:</strong>
  <code>limitPipeline</code> and <code>limitCount</code> are optional parameters. The default value of <code>limitPipeline</code> is latest pipeline instance&rsquo;s counter. The default value of <code>limitCount</code> is <code>100</code>.
</aside>

<p class='http-request-return-description'>Returns</p>

<p>Job properties as CSV.</p>

<h2 id="create-property">Create property</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'http://ci.example.com/go/properties/PipelineName/541/StageName/1/JobName/PropertyName'</span> <span class="se">\</span>
        -u <span class="s1">'username:password'</span> <span class="se">\</span>
        -H <span class="s1">'Confirm: true'</span> <span class="se">\</span>
        -X POST <span class="se">\</span>
        -d <span class="s1">'value=PropertyValue'</span>
</code></pre>

<blockquote>
<p>The above command defines a property &lsquo;PropertyName&rsquo; for &lsquo;PipelineName/541/StageName/1/JobName&rsquo; and returns the following response:</p>
</blockquote>

<pre class="highlight shell"><code>Property <span class="s1">'PropertyName'</span> created with value <span class="s1">'PropertyValue'</span>
</code></pre>

<p class='available-since'>
  Available since v14.3.0.
</p>

<p>Defines a property on a specific job instance.</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">POST /go/properties/:pipeline_name/:pipeline_counter/:stage_name/:stage_counter/:job_name/:property_name</code></p>

<p>The following post parameter must be specified :</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">value</code></td>
<td>String</td>
<td>The value of property.</td>
</tr>
</tbody></table>

<p class='http-request-return-description'>Returns</p>

<p>An acknowledgement that the property was created.</p>

          <h1 id="configuration">Configuration</h1>

<p>The configuration API allows users with administration role to view and manage configuration.</p>

<h2 id="list-all-modifications">List all modifications</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/config/revisions'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"md5"</span><span class="p">:</span><span class="w"> </span><span class="s2">"893d30ab646489d882f2350b10f47d0e"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"commitSHA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d2f9091145e2e4b3b22d938c4819610467ae20c1"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"goEdition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OpenSource"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1436253610465</span><span class="p">,</span><span class="w">
    </span><span class="nt">"schemaVersion"</span><span class="p">:</span><span class="w"> </span><span class="mi">75</span><span class="p">,</span><span class="w">
    </span><span class="nt">"goVersion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"N/A"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"md5"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a2285d3304a51508c88e5479e327553c"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"commitSHA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f27b48594645c9f15f55bb56d0100dd60e4cbacc"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"goEdition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OpenSource"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"time"</span><span class="p">:</span><span class="w"> </span><span class="mi">1436253595701</span><span class="p">,</span><span class="w">
    </span><span class="nt">"schemaVersion"</span><span class="p">:</span><span class="w"> </span><span class="mi">75</span><span class="p">,</span><span class="w">
    </span><span class="nt">"goVersion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"N/A"</span><span class="w">
  </span><span class="p">}</span><span class="w">
 </span><span class="p">]</span><span class="w">
</span></code></pre>

<p>Lists the config repository modifications.</p>

<p class='available-since'>
  Available since v14.3.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/config/revisions</code></p>

<p class='http-request-return-description'>Returns</p>

<p>An array of repository modifications.</p>

<h2 id="get-repository-modification-diff">Get repository modification diff</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/config/diff/d2f9091145e2e4b3b22d938c4819610467ae20c1/f27b48594645c9f15f55bb56d0100dd60e4cbacc'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span>
</code></pre>

<blockquote>
<p>The above command returns the following response:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">text/plain; charset=utf-8</span>
</code></pre>

<pre class="highlight diff"><code><span class="gu">@@ -29,7 +29,7 @@
</span>           &lt;job name="up42_job"&gt;
             &lt;tasks&gt;
               &lt;exec command="sleep"&gt;
<span class="gd">-                &lt;arg&gt;40000&lt;/arg&gt;
</span><span class="gi">+                &lt;arg&gt;100&lt;/arg&gt;
</span>                 &lt;runif status="passed" /&gt;
               &lt;/exec&gt;
             &lt;/tasks&gt;
</code></pre>

<p>Gets the diff between two config repository modifications.</p>

<p class='available-since'>
  Available since v14.3.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/config/diff/:from_commit_sha/:to_commit_sha</code></p>

<p class='http-request-return-description'>Returns</p>

<p>The diff between two config repo modifications.</p>

<h2 id="get-configuration">Get configuration</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/config.xml'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span>
</code></pre>

<blockquote>
<p>The above command returns the contents of the config file</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">X-CRUISE-CONFIG-MD5</span><span class="p">:</span> <span class="s">c21b6c9f1b24a816cddf457548a987a9</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">text/xml</span>
</code></pre>

<pre class="highlight xml"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;cruise</span>
    <span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
    <span class="na">xsi:noNamespaceSchemaLocation=</span><span class="s">"cruise-config.xsd"</span>
    <span class="na">schemaVersion=</span><span class="s">"75"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;server</span> <span class="na">serverId=</span><span class="s">"9C0C0282-A554-457D-A0F8-9CF8A754B4AB"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;security&gt;</span>
      <span class="nt">&lt;passwordFile</span> <span class="na">path=</span><span class="s">"/etc/go/password.properties"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/security&gt;</span>
  <span class="nt">&lt;/server&gt;</span>
  <span class="nt">&lt;pipelines</span> <span class="na">group=</span><span class="s">"defaultGroup"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/cruise&gt;</span>
</code></pre>

<p>Gets the current configuration file.</p>

<p class='available-since'>
  Available since v14.3.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/admin/config.xml</code></p>

<p><strong>Other convenience APIs</strong></p>

<p><code class="prettyprint">GET /go/api/admin/config/current.xml</code></p>

<p>or</p>

<p><code class="prettyprint">GET /go/api/admin/config/:md5.xml</code></p>

<p class='http-request-return-description'>Returns</p>

<p>The contents of the configuration file.</p>

          <h1 id="configuration-repository">Configuration Repository</h1>

<p>This endpoint allows you to clone and fetch a copy of the configuration repository.</p>

<aside class='notice'>
  <strong>Note:</strong> Only git clone/fetch operations are allowed. Git push operations
  are NOT allowed.
</aside>

<h2 id="clone-the-configuration-repository">Clone the configuration repository</h2>
<pre class="highlight shell"><code>git clone <span class="s1">'https://username:password@ci.example.com/go/api/config-repository.git'</span>
</code></pre>

<p class='available-since'>
  Available since v16.6.0.
</p>

          <h1 id="feeds">Feeds</h1>

<p>The feed API allows users to view feed information.</p>

<h2 id="get-all-pipelines">Get all pipelines</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/pipelines.xml'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span>
</code></pre>

<blockquote>
<p>The above command returns XML structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/xml; charset=utf-8</span>
</code></pre>

<pre class="highlight xml"><code><span class="nt">&lt;pipelines&gt;</span>
 <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"self"</span> <span class="na">href=</span><span class="s">"https://ci.example.com/go/api/pipelines.xml"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;pipeline</span> <span class="na">href=</span><span class="s">"https://ci.example.com/go/api/pipelines/pipeline1/stages.xml"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;pipeline</span> <span class="na">href=</span><span class="s">"https://ci.example.com/go/api/pipelines/pipeline2/stages.xml"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/pipelines&gt;</span>
</code></pre>

<p>Lists all pipelines.</p>

<p class='available-since'>
  Available since v14.3.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/pipelines.xml</code></p>

<p class='http-request-return-description'>Returns</p>

<p>An array of pipelines.</p>

<h2 id="get-feed-of-all-stages">Get feed of all stages</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/pipelines/mypipeline/stages.xml'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span>
</code></pre>

<blockquote>
<p>The above command returns XML structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/xml; charset=utf-8</span>
</code></pre>

<pre class="highlight xml"><code><span class="nt">&lt;feed</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/2005/Atom"</span> <span class="na">xmlns:go=</span><span class="s">"http://www.thoughtworks-studios.com/ns/go"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;title&gt;</span><span class="cp">&lt;![CDATA[mypipeline]]&gt;</span><span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;id&gt;</span>https://ci.example.com/go/api/pipelines/mypipeline/stages.xml<span class="nt">&lt;/id&gt;</span>
    <span class="nt">&lt;author&gt;</span>
        <span class="nt">&lt;name&gt;</span>Go<span class="nt">&lt;/name&gt;</span>
    <span class="nt">&lt;/author&gt;</span>
    <span class="nt">&lt;updated&gt;</span>2015-07-13T10:59:49+05:30<span class="nt">&lt;/updated&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"self"</span> <span class="na">href=</span><span class="s">"https://ci.example.com/go/api/pipelines/mypipeline/stages.xml"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"next"</span> <span class="na">href=</span><span class="s">"https://ci.example.com/go/api/pipelines/mypipeline/stages.xml?before=6"</span><span class="nt">/&gt;</span>

        <span class="nt">&lt;entry&gt;</span>
            <span class="nt">&lt;title&gt;</span><span class="cp">&lt;![CDATA[mypipeline(2) stage defaultStage(1) Cancelled]]&gt;</span><span class="nt">&lt;/title&gt;</span>
            <span class="nt">&lt;updated&gt;</span>2015-07-10T12:00:04+05:30<span class="nt">&lt;/updated&gt;</span>
            <span class="nt">&lt;id&gt;</span>https://ci.example.com/go/pipelines/mypipeline/2/defaultStage/1<span class="nt">&lt;/id&gt;</span>

            <span class="nt">&lt;author&gt;</span>
                <span class="nt">&lt;name&gt;</span><span class="cp">&lt;![CDATA[Pick E Reader &lt;pick.e.reader@example.com&gt;]]&gt;</span><span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;/author&gt;</span>

            <span class="nt">&lt;link</span> <span class="na">title=</span><span class="s">"defaultStage Stage Detail"</span> <span class="na">href=</span><span class="s">"https://ci.example.com/go/api/stages/2.xml"</span> <span class="na">rel=</span><span class="s">"alternate"</span> <span class="na">type=</span><span class="s">"application/vnd.go+xml"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;link</span> <span class="na">title=</span><span class="s">"defaultStage Stage Detail"</span> <span class="na">href=</span><span class="s">"https://ci.example.com/go/pipelines/mypipeline/2/defaultStage/1"</span> <span class="na">rel=</span><span class="s">"alternate"</span> <span class="na">type=</span><span class="s">"text/html"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;link</span> <span class="na">title=</span><span class="s">"mypipeline Pipeline Detail"</span> <span class="na">href=</span><span class="s">"https://ci.example.com/go/api/pipelines/mypipeline/2.xml"</span> <span class="na">rel=</span><span class="s">"http://www.thoughtworks-studios.com/ns/relations/go/pipeline"</span> <span class="na">type=</span><span class="s">"application/vnd.go+xml"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;link</span> <span class="na">title=</span><span class="s">"mypipeline Pipeline Detail"</span> <span class="na">href=</span><span class="s">"https://ci.example.com/go/pipelines/mypipeline/2/defaultStage/1/pipeline"</span> <span class="na">rel=</span><span class="s">"http://www.thoughtworks-studios.com/ns/relations/go/pipeline"</span> <span class="na">type=</span><span class="s">"text/html"</span><span class="nt">/&gt;</span>

            <span class="nt">&lt;category</span> <span class="na">scheme=</span><span class="s">"http://www.thoughtworks-studios.com/ns/categories/go"</span> <span class="na">term=</span><span class="s">"stage"</span> <span class="na">label=</span><span class="s">"Stage"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;category</span> <span class="na">scheme=</span><span class="s">"http://www.thoughtworks-studios.com/ns/categories/go"</span> <span class="na">term=</span><span class="s">"completed"</span> <span class="na">label=</span><span class="s">"Completed"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;category</span> <span class="na">scheme=</span><span class="s">"http://www.thoughtworks-studios.com/ns/categories/go"</span> <span class="na">term=</span><span class="s">"cancelled"</span> <span class="na">label=</span><span class="s">"Cancelled"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/entry&gt;</span>
        <span class="nt">&lt;entry&gt;</span>
            <span class="nt">&lt;title&gt;</span><span class="cp">&lt;![CDATA[mypipeline(1) stage defaultStage(1) Passed]]&gt;</span><span class="nt">&lt;/title&gt;</span>
            <span class="nt">&lt;updated&gt;</span>2015-07-10T11:57:22+05:30<span class="nt">&lt;/updated&gt;</span>
            <span class="nt">&lt;id&gt;</span>https://ci.example.com/go/pipelines/mypipeline/1/defaultStage/1<span class="nt">&lt;/id&gt;</span>

            <span class="nt">&lt;author&gt;</span>
                <span class="nt">&lt;name&gt;</span><span class="cp">&lt;![CDATA[Pick E Reader &lt;pick.e.reader@example.com&gt;]]&gt;</span><span class="nt">&lt;/name&gt;</span>
            <span class="nt">&lt;/author&gt;</span>

            <span class="nt">&lt;link</span> <span class="na">title=</span><span class="s">"defaultStage Stage Detail"</span> <span class="na">href=</span><span class="s">"https://ci.example.com/go/api/stages/1.xml"</span> <span class="na">rel=</span><span class="s">"alternate"</span> <span class="na">type=</span><span class="s">"application/vnd.go+xml"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;link</span> <span class="na">title=</span><span class="s">"defaultStage Stage Detail"</span> <span class="na">href=</span><span class="s">"https://ci.example.com/go/pipelines/mypipeline/1/defaultStage/1"</span> <span class="na">rel=</span><span class="s">"alternate"</span> <span class="na">type=</span><span class="s">"text/html"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;link</span> <span class="na">title=</span><span class="s">"mypipeline Pipeline Detail"</span> <span class="na">href=</span><span class="s">"https://ci.example.com/go/api/pipelines/mypipeline/1.xml"</span> <span class="na">rel=</span><span class="s">"http://www.thoughtworks-studios.com/ns/relations/go/pipeline"</span> <span class="na">type=</span><span class="s">"application/vnd.go+xml"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;link</span> <span class="na">title=</span><span class="s">"mypipeline Pipeline Detail"</span> <span class="na">href=</span><span class="s">"https://ci.example.com/go/pipelines/mypipeline/1/defaultStage/1/pipeline"</span> <span class="na">rel=</span><span class="s">"http://www.thoughtworks-studios.com/ns/relations/go/pipeline"</span> <span class="na">type=</span><span class="s">"text/html"</span><span class="nt">/&gt;</span>

            <span class="nt">&lt;category</span> <span class="na">scheme=</span><span class="s">"http://www.thoughtworks-studios.com/ns/categories/go"</span> <span class="na">term=</span><span class="s">"stage"</span> <span class="na">label=</span><span class="s">"Stage"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;category</span> <span class="na">scheme=</span><span class="s">"http://www.thoughtworks-studios.com/ns/categories/go"</span> <span class="na">term=</span><span class="s">"completed"</span> <span class="na">label=</span><span class="s">"Completed"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;category</span> <span class="na">scheme=</span><span class="s">"http://www.thoughtworks-studios.com/ns/categories/go"</span> <span class="na">term=</span><span class="s">"passed"</span> <span class="na">label=</span><span class="s">"Passed"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/entry&gt;</span>
<span class="nt">&lt;/feed&gt;</span>
</code></pre>

<p>Gets feed of all stages for the specified pipeline with links to the pipeline and stage details.</p>

<p class='available-since'>
  Available since v14.3.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/pipelines/:pipeline_name/stages.xml</code></p>

<p class='http-request-return-description'>Returns</p>

<p>An array of feed of stages.</p>

<h2 id="get-pipeline">Get pipeline</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/pipelines/mypipeline/1.xml'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span>
</code></pre>

<blockquote>
<p>The above command returns XML structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/xml; charset=utf-8</span>
</code></pre>

<pre class="highlight xml"><code><span class="nt">&lt;pipeline</span> <span class="na">name=</span><span class="s">"mypipeline"</span> <span class="na">counter=</span><span class="s">"1"</span> <span class="na">label=</span><span class="s">"1"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"self"</span> <span class="na">href=</span><span class="s">"https://ci.example.com/go/api/pipelines/mypipeline/1.xml"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;id&gt;</span><span class="cp">&lt;![CDATA[urn:x-go.studios.thoughtworks.com:job-id:mypipeline:1]]&gt;</span><span class="nt">&lt;/id&gt;</span>
  <span class="nt">&lt;scheduleTime&gt;</span>2015-07-10T11:55:18+05:30<span class="nt">&lt;/scheduleTime&gt;</span>
  <span class="nt">&lt;materials&gt;</span>
    <span class="nt">&lt;material</span> <span class="na">materialUri=</span><span class="s">"https://ci.example.com/go/api/materials/405.xml"</span> <span class="na">type=</span><span class="s">"GitMaterial"</span> <span class="na">url=</span><span class="s">"URL: https://github.com/gocd/gocd"</span> <span class="na">branch=</span><span class="s">"master"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;modifications&gt;</span>
        <span class="nt">&lt;changeset</span> <span class="na">changesetUri=</span><span class="s">"https://ci.example.com/go/api/materials/405/changeset/c194b49db102b705ebc13e604e490ae13ac92d96.xml"</span><span class="nt">&gt;</span>
          <span class="nt">&lt;user&gt;</span><span class="cp">&lt;![CDATA[Pick E Reader &lt;pick.e.reader@example.com&gt;]]&gt;</span><span class="nt">&lt;/user&gt;</span>
          <span class="nt">&lt;checkinTime&gt;</span>2015-06-22T12:50:13+05:30<span class="nt">&lt;/checkinTime&gt;</span>
          <span class="nt">&lt;revision&gt;</span><span class="cp">&lt;![CDATA[c194b49db102b705ebc13e604e490ae13ac92d96]]&gt;</span><span class="nt">&lt;/revision&gt;</span>
          <span class="nt">&lt;message&gt;</span><span class="cp">&lt;![CDATA[Update README]]&gt;</span><span class="nt">&lt;/message&gt;</span>
          <span class="nt">&lt;file</span> <span class="na">name=</span><span class="s">"README"</span> <span class="na">action=</span><span class="s">"modified"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/changeset&gt;</span>
      <span class="nt">&lt;/modifications&gt;</span>
    <span class="nt">&lt;/material&gt;</span>
  <span class="nt">&lt;/materials&gt;</span>
  <span class="nt">&lt;stages&gt;</span>
    <span class="nt">&lt;stage</span> <span class="na">href=</span><span class="s">"https://ci.example.com/go/api/stages/1.xml"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/stages&gt;</span>
  <span class="nt">&lt;approvedBy&gt;</span><span class="cp">&lt;![CDATA[changes]]&gt;</span><span class="nt">&lt;/approvedBy&gt;</span>
<span class="nt">&lt;/pipeline&gt;</span>
</code></pre>

<p>Gets XML representation of pipeline.</p>

<p class='available-since'>
  Available since v14.3.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/pipelines/:pipeline_name/:pipeline_id.xml</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A pipeline object.</p>

<h2 id="get-stage">Get stage</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/stages/2.xml'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span>
</code></pre>

<blockquote>
<p>The above command returns XML structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/xml; charset=utf-8</span>
</code></pre>

<pre class="highlight xml"><code><span class="nt">&lt;stage</span> <span class="na">name=</span><span class="s">"defaultStage"</span> <span class="na">counter=</span><span class="s">"1"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"self"</span> <span class="na">href=</span><span class="s">"https://ci.example.com/go/api/stages/2.xml"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;id&gt;</span><span class="cp">&lt;![CDATA[urn:x-go.studios.thoughtworks.com:stage-id:mypipeline:2:defaultStage:1]]&gt;</span><span class="nt">&lt;/id&gt;</span>
  <span class="nt">&lt;pipeline</span> <span class="na">name=</span><span class="s">"mypipeline"</span> <span class="na">counter=</span><span class="s">"2"</span> <span class="na">label=</span><span class="s">"2"</span> <span class="na">href=</span><span class="s">"https://ci.example.com/go/api/pipelines/mypipeline/2.xml"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;updated&gt;</span>2015-07-10T12:00:04+05:30<span class="nt">&lt;/updated&gt;</span>
  <span class="nt">&lt;result&gt;</span>Cancelled<span class="nt">&lt;/result&gt;</span>
  <span class="nt">&lt;state&gt;</span>Completed<span class="nt">&lt;/state&gt;</span>
  <span class="nt">&lt;approvedBy&gt;</span><span class="cp">&lt;![CDATA[admin]]&gt;</span><span class="nt">&lt;/approvedBy&gt;</span>
  <span class="nt">&lt;jobs&gt;</span>
    <span class="nt">&lt;job</span> <span class="na">href=</span><span class="s">"https://ci.example.com/go/api/jobs/2.xml"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;/jobs&gt;</span>
<span class="nt">&lt;/stage&gt;</span>
</code></pre>

<p>Gets XML representation of stage.</p>

<p class='available-since'>
  Available since v14.3.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/stages/:stage_id.xml</code></p>

<p><strong>Alternate APIs</strong></p>

<p><code class="prettyprint">GET /go/pipelines/:pipeline:name/:pipeline_counter/:stage_name/:stage_counter.xml</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A stage object.</p>

<h2 id="get-job">Get job</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/jobs/2.xml'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span>
</code></pre>

<blockquote>
<p>The above command returns XML structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/xml; charset=utf-8</span>
</code></pre>

<pre class="highlight xml"><code><span class="nt">&lt;job</span> <span class="na">name=</span><span class="s">"defaultJob"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"self"</span> <span class="na">href=</span><span class="s">"https://ci.example.com/go/api/jobs/2.xml"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;id&gt;</span><span class="cp">&lt;![CDATA[urn:x-go.studios.thoughtworks.com:job-id:mypipeline:2:defaultStage:1:defaultJob]]&gt;</span><span class="nt">&lt;/id&gt;</span>
  <span class="nt">&lt;pipeline</span> <span class="na">name=</span><span class="s">"mypipeline"</span> <span class="na">counter=</span><span class="s">"2"</span> <span class="na">label=</span><span class="s">"2"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;stage</span> <span class="na">name=</span><span class="s">"defaultStage"</span> <span class="na">counter=</span><span class="s">"1"</span> <span class="na">href=</span><span class="s">"https://ci.example.com/go/api/stages/2.xml"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;result&gt;</span>Cancelled<span class="nt">&lt;/result&gt;</span>
  <span class="nt">&lt;state&gt;</span>Completed<span class="nt">&lt;/state&gt;</span>
  <span class="nt">&lt;properties&gt;</span>
    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"cruise_agent"</span><span class="nt">&gt;</span><span class="cp">&lt;![CDATA[INpicke.local]]&gt;</span><span class="nt">&lt;/property&gt;</span>
    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"cruise_job_duration"</span><span class="nt">&gt;</span><span class="cp">&lt;![CDATA[0]]&gt;</span><span class="nt">&lt;/property&gt;</span>
    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"cruise_job_id"</span><span class="nt">&gt;</span><span class="cp">&lt;![CDATA[2]]&gt;</span><span class="nt">&lt;/property&gt;</span>
    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"cruise_job_result"</span><span class="nt">&gt;</span><span class="cp">&lt;![CDATA[Cancelled]]&gt;</span><span class="nt">&lt;/property&gt;</span>
    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"cruise_pipeline_counter"</span><span class="nt">&gt;</span><span class="cp">&lt;![CDATA[2]]&gt;</span><span class="nt">&lt;/property&gt;</span>
    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"cruise_pipeline_label"</span><span class="nt">&gt;</span><span class="cp">&lt;![CDATA[2]]&gt;</span><span class="nt">&lt;/property&gt;</span>
    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"cruise_stage_counter"</span><span class="nt">&gt;</span><span class="cp">&lt;![CDATA[1]]&gt;</span><span class="nt">&lt;/property&gt;</span>
    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"cruise_timestamp_01_scheduled"</span><span class="nt">&gt;</span><span class="cp">&lt;![CDATA[2015-07-10T11:59:43+05:30]]&gt;</span><span class="nt">&lt;/property&gt;</span>
    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"cruise_timestamp_02_assigned"</span><span class="nt">&gt;</span><span class="cp">&lt;![CDATA[2015-07-10T11:59:52+05:30]]&gt;</span><span class="nt">&lt;/property&gt;</span>
    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"cruise_timestamp_03_preparing"</span><span class="nt">&gt;</span><span class="cp">&lt;![CDATA[2015-07-10T12:00:02+05:30]]&gt;</span><span class="nt">&lt;/property&gt;</span>
    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"cruise_timestamp_06_completed"</span><span class="nt">&gt;</span><span class="cp">&lt;![CDATA[2015-07-10T12:00:04+05:30]]&gt;</span><span class="nt">&lt;/property&gt;</span>
  <span class="nt">&lt;/properties&gt;</span>
  <span class="nt">&lt;agent</span> <span class="na">uuid=</span><span class="s">"278fb0b6-d3b8-47e1-9443-67f26bfb5c15"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;artifacts</span> <span class="na">baseUri=</span><span class="s">"https://ci.example.com/go/files/mypipeline/2/defaultStage/1/defaultJob"</span> <span class="na">pathFromArtifactRoot=</span><span class="s">"pipelines/mypipeline/2/defaultStage/1/defaultJob"</span><span class="nt">/&gt;</span>
  <span class="nt">&lt;resources/&gt;</span>
  <span class="nt">&lt;environmentvariables/&gt;</span>
<span class="nt">&lt;/job&gt;</span>
</code></pre>

<p>Gets XML representation of job.</p>

<p class='available-since'>
  Available since v14.3.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/jobs/:job_id.xml</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A job object.</p>

          <h1 id="dashboard">Dashboard</h1>

<p>The Dashboard API allows users to view dashboard information.</p>

<h2 id="dashboard-object">Dashboard object</h2>

<p class='available-since'>
  Available since v18.12.0.
</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">pipelines</code></td>
<td>Object</td>
<td>The list of <a href="#dashboard-pipeline">pipelines</a>.</td>
</tr>
<tr>
<td><code class="prettyprint">environments</code></td>
<td>Object</td>
<td>The list of <a href="#dashboard-environment">environments</a>.</td>
</tr>
<tr>
<td><code class="prettyprint">pipeline_groups</code></td>
<td>Object</td>
<td>The list of <a href="#dashboard-pipeline-group">dashboard pipeline groups</a>.</td>
</tr>
</tbody></table>

<p><a id='dashboard-pipeline'></a></p>

<h3 id="dashboard-pipeline-object">Dashboard pipeline object</h3>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code></td>
<td>String</td>
<td>The name of the pipeline.</td>
</tr>
<tr>
<td><code class="prettyprint">last_updated_timestamp</code></td>
<td>Number</td>
<td>The dashboard pipeline instance&rsquo;s last updated timestamp.</td>
</tr>
<tr>
<td><code class="prettyprint">locked</code></td>
<td>Boolean</td>
<td>Whether the current pipeline instance is locked.</td>
</tr>
<tr>
<td><code class="prettyprint">pause_info</code></td>
<td>Object</td>
<td>The <a href="#dashboard-pipeline-pause-info">pause information</a> of the pipeline.</td>
</tr>
<tr>
<td><code class="prettyprint">can_operate</code></td>
<td>Boolean</td>
<td>Whether the current user has permission to trigger the pipeline.</td>
</tr>
<tr>
<td><code class="prettyprint">can_administer</code></td>
<td>Boolean</td>
<td>Whether the current user has permission to edit the pipeline configurations.</td>
</tr>
<tr>
<td><code class="prettyprint">can_unlock</code></td>
<td>Boolean</td>
<td>Whether the current user has permission to unlock a locked pipeline isntance.</td>
</tr>
<tr>
<td><code class="prettyprint">can_pause</code></td>
<td>Boolean</td>
<td>Whether the current user has permission to pause the pipeline.</td>
</tr>
<tr>
<td><code class="prettyprint">from_config_repo</code></td>
<td>Boolean</td>
<td>Whether the pipeline&rsquo;s configuration is defined using pipeline as code.</td>
</tr>
<tr>
<td><code class="prettyprint">instances</code></td>
<td>Object</td>
<td>The list of <a href="#dashboard-pipeline-pipeline-instance">pipeline instances</a>.</td>
</tr>
</tbody></table>

<p><a id='dashboard-pipeline-pause-info'></a></p>

<h3 id="dashboard-pipeline-pause-information-object">Dashboard pipeline pause information object</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"pause_info"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"paused"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"paused_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"pause_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pipeline Under Maintenance"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"paused_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-03-01T06:43:38Z"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">paused</code></td>
<td>Boolean</td>
<td>Whether the current pipeline instance is paused.</td>
</tr>
<tr>
<td><code class="prettyprint">paused_by</code></td>
<td>String</td>
<td>The name of the user who paused the pipeline.</td>
</tr>
<tr>
<td><code class="prettyprint">pause_reason</code></td>
<td>String</td>
<td>The pause cause of the pipeline.</td>
</tr>
<tr>
<td><code class="prettyprint">paused_at</code></td>
<td>String</td>
<td>The pipeline paused at time.</td>
</tr>
</tbody></table>

<p><a id='dashboard-pipeline-pipeline-instance'></a></p>

<h3 id="dashboard-pipeline-pipeline-instance-object">Dashboard pipeline pipeline-instance object</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"instances"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"counter"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
      </span><span class="nt">"triggered_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Triggered by changes"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"scheduled_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-21T09:43:07Z"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"_embedded"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"stages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"up42_stage"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"counter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Building"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"approved_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"changes"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"scheduled_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-21T09:43:07Z"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">label</code></td>
<td>String</td>
<td>The label of the current pipeline instance.</td>
</tr>
<tr>
<td><code class="prettyprint">counter</code></td>
<td>Number</td>
<td>The pipeline counter of the current pipeline instance.</td>
</tr>
<tr>
<td><code class="prettyprint">triggered_by</code></td>
<td>String</td>
<td>The name of the user who triggered the current pipeline instance.</td>
</tr>
<tr>
<td><code class="prettyprint">scheduled_at</code></td>
<td>Date</td>
<td>The schedule time of the current pipeline instance.</td>
</tr>
<tr>
<td><code class="prettyprint">stages</code></td>
<td>Object</td>
<td>The list of <a href="#dashboard-pipeline-pipeline-instance-stage">stages</a> of the current pipeline instance.</td>
</tr>
</tbody></table>

<p><a id='dashboard-pipeline-pipeline-instance-stage'></a></p>

<h3 id="dashboard-pipeline-39-s-stage-object">Dashboard pipeline&rsquo;s stage object</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"stages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"up42_stage"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"counter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cancelled"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"approved_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"changes"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"cancelled_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bob"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"scheduled_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-21T09:43:07Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code></td>
<td>String</td>
<td>The name of the stage.</td>
</tr>
<tr>
<td><code class="prettyprint">counter</code></td>
<td>Number</td>
<td>The stage counter of the current stage instance.</td>
</tr>
<tr>
<td><code class="prettyprint">status</code></td>
<td>String</td>
<td>The status of the current stage instance. Can be one of <code class="prettyprint">Building</code>, <code class="prettyprint">Cancelled</code>, <code class="prettyprint">Passed</code>, <code class="prettyprint">Failed</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">approved_by</code></td>
<td>String</td>
<td>The approver of the current stage instance.</td>
</tr>
<tr>
<td><code class="prettyprint">cancelled_by</code></td>
<td>String</td>
<td>Indicates who cancelled the stage if stage status is <code class="prettyprint">Cancelled</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">scheduled_at</code></td>
<td>Date</td>
<td>The schedule time of the current stage instance.</td>
</tr>
</tbody></table>

<p><a id='dashboard-environment'></a></p>

<h3 id="dashboard-environment-object">Dashboard environment object</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"environments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"QA"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"pipelines"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"up42"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"can_administer"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code></td>
<td>String</td>
<td>The name of the environment.</td>
</tr>
<tr>
<td><code class="prettyprint">pipelines</code></td>
<td>Object</td>
<td>The list of pipelines which belongs to the current environment.</td>
</tr>
<tr>
<td><code class="prettyprint">can_administer</code></td>
<td>Boolean</td>
<td>Whether the current has permission to edit the environment configurations.</td>
</tr>
</tbody></table>

<p><a id='dashboard-pipeline-group'></a></p>

<h3 id="dashboard-pipeline-group-object">Dashboard Pipeline Group object</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"pipeline_groups"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UAT"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"pipelines"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"up42"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"can_administer"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code></td>
<td>String</td>
<td>The name of the pipeline group.</td>
</tr>
<tr>
<td><code class="prettyprint">pipelines</code></td>
<td>Object</td>
<td>The list of pipelines which belongs to the current pipeline group.</td>
</tr>
<tr>
<td><code class="prettyprint">can_administer</code></td>
<td>Boolean</td>
<td>Whether the current user have permissions to edit the pipeline group configurations.</td>
</tr>
</tbody></table>

<h2 id="get-dashboard">Get Dashboard</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/dashboard'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v3+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v3+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/dashboard"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.go.cd/current/#dashboard"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"_personalization"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2356e5d4241f22987d8f8cb8920913fda237385b423bd7eec7e97b2a9eb1be1a"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"_embedded"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"pipeline_groups"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"doc"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.go.cd/current/#pipeline-groups"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/config/pipeline_groups"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"first"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"pipelines"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"up42"</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"can_administer"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"environments"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"doc"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/current/#environment-config"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/environments/asd"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"asd"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"pipelines"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"up42"</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"can_administer"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"pipelines"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/pipelines/up42/history"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"doc"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.go.cd/current/#pipelines"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"up42"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"last_updated_timestamp"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1542863609039</span><span class="p">,</span><span class="w">
      </span><span class="nt">"locked"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"pause_info"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"paused"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"paused_by"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"pause_reason"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"can_operate"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"can_administer"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"can_unlock"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"can_pause"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"from_config_repo"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"_embedded"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"instances"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/pipelines/up42/instance/1"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"label"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"counter"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="nt">"triggered_by"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Triggered by changes"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"scheduled_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-21T09:43:07Z"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"_embedded"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"stages"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/stages/up42/1/up42_stage/1"</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"up42_stage"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"counter"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"status"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Building"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"approved_by"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"changes"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"scheduled_at"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-21T09:43:07Z"</span><span class="w">
            </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Lists pipelines on Dashboard along with pipeline groups and environments information.</p>

<p class='available-since'>
  Available since v18.12.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/dashboard</code></p>

<p class='http-request-return-description'>Returns</p>

<p>An array of pipelines on Dashboard.</p>

          <h1 id="encryption">Encryption</h1>

<p>The encryption API allows users with any administrator privilege to get the cipher text(encrypted text) corresponding to any plain text value. You may use this cipher text in other APIs that allow you to configure the pipelines and templates.</p>

<aside class="notice">
  <strong>Important:</strong>This API is rate limited to 30 requests per minute to prevent brute force attacks that may allow attackers to guess the cipher key. The number of requests is configurable by the system property
  <code>go.encryption.api.max.requests</code>. Please check <a href="https://docs.gocd.org/current/advanced_usage/other_config_options.html">this</a> documentation on how to configure system properties.
</aside>

<h2 id="encrypt-a-plain-text-value">Encrypt a plain text value</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/encrypt'</span> <span class="se">\</span>
-u <span class="s1">'username:password'</span> <span class="se">\</span>
-H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
-H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
-X POST -d <span class="s1">'{
  "value": "badger"
}'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://ci.example.com/go/api/admin/encrypt"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#encryption"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"encrypted_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aSdiFgRRZ6A="</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Returns the encrypted value for the plain text passed.</p>

<p class='available-since'>
  Available since v17.1.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">POST /go/api/admin/encrypt</code></p>

<p class='http-request-return-description'>Returns</p>

<p>The encrypted value of the plain text.</p>

          <h1 id="pipeline-config">Pipeline Config</h1>

<p>The pipeline config API allows users with administrator role to manage pipeline config.</p>

<aside class="notice">
  <strong>Important:</strong> Please note that this API requires using <code>v6</code> of the API using <code>Accept: application/vnd.go.cd.v6+json</code>
</aside>

<h2 id="the-pipeline-config-object">The pipeline config object</h2>

<p class='available-since'>
  Available since v15.3.0.
</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">label_template</code></td>
<td>String</td>
<td>The label template to customise the pipeline instance label. Both of material names and <code class="prettyprint">${COUNT}</code> are available in the <code class="prettyprint">label_template</code>. Defaults to <code class="prettyprint">${COUNT}</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">lock_behavior</code></td>
<td>String</td>
<td>Define the pipeline lock behavior. Can be one of <code class="prettyprint">lockOnFailure</code>, <code class="prettyprint">unlockWhenFinished</code> or <code class="prettyprint">none</code> (default). <strong>Since v17.12.0</strong>.</td>
</tr>
<tr>
<td><code class="prettyprint">name</code></td>
<td>String</td>
<td>The name of the pipeline.</td>
</tr>
<tr>
<td><code class="prettyprint">template</code></td>
<td>String</td>
<td>The name of the template used by pipeline. You MUST specify atleast one stage in <code class="prettyprint">stages</code>, or <code class="prettyprint">template</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">origin</code></td>
<td>Object</td>
<td>The <a href="#pipeline-config-origin-object">origin</a> of the pipeline. Can be either <code class="prettyprint">gocd</code> origin for pipelines defined in cruise-config.xml or <code class="prettyprint">config_repo</code> origin for pipelines defined remotely in config repository. <strong>Since v17.4.0</strong>.</td>
</tr>
<tr>
<td><code class="prettyprint">parameters</code></td>
<td>Array</td>
<td>The list of <a href="#pipeline-config-parameters">parameters</a> to be used for substitution in a pipeline or pipeline template.</td>
</tr>
<tr>
<td><code class="prettyprint">environment_variables</code></td>
<td>Array</td>
<td>The list of <a href="#pipeline-config-environment-variables">environment variables</a> that will be passed to all tasks (commands) that are part of this pipeline.</td>
</tr>
<tr>
<td><code class="prettyprint">materials</code></td>
<td>Array</td>
<td>The list of <a href="#pipeline-config-material-object">materials</a> to be used by pipeline. You MUST specify atleast one material.</td>
</tr>
<tr>
<td><code class="prettyprint">stages</code></td>
<td>Array</td>
<td>The list of <a href="#pipeline-config-stage-object">stages</a>. You MUST specify atleast one stage in <code class="prettyprint">stages</code>, or <code class="prettyprint">template</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">tracking_tool</code></td>
<td>Object</td>
<td>The <a href="#pipeline-config-tracking-tool-object">tracking tool</a> can be used to specify links to an issue tracker.</td>
</tr>
<tr>
<td><code class="prettyprint">timer</code></td>
<td>Object</td>
<td>The <a href="#pipeline-config-timer-object">timer</a> specifies cron-like schedule to build pipeline.</td>
</tr>
</tbody></table>

<p><a id='pipeline-config-parameters'></a></p>

<h3 id="the-pipeline-parameter-object">The pipeline parameter object</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"parameters"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VERSION"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15.2.0"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code></td>
<td>String</td>
<td>The name of the parameter.</td>
</tr>
<tr>
<td><code class="prettyprint">value</code></td>
<td>String</td>
<td>The value of the parameter.</td>
</tr>
</tbody></table>

<p><a id='pipeline-config-environment-variables'></a></p>

<h3 id="the-environment-variable-object">The environment variable object</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"environment_variables"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USERNAME"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PASSWORD"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"encrypted_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1f3rrs9uhn63hd"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SSH_PASSPHRASE"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"p@ssw0rd"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code></td>
<td>String</td>
<td>The name of the environment variable.</td>
</tr>
<tr>
<td><code class="prettyprint">value</code></td>
<td>String</td>
<td>The value of the environment variable. You MUST specify one of <code class="prettyprint">value</code> or <code class="prettyprint">encrypted_value</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">encrypted_value</code></td>
<td>String</td>
<td>The encrypted value of the environment variable. You MUST specify one of <code class="prettyprint">value</code> or <code class="prettyprint">encrypted_value</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">secure</code></td>
<td>Boolean</td>
<td>Whether environment variable is secure or not. When set to <code class="prettyprint">true</code>, encrypts the <code class="prettyprint">value</code> if one is specified. The default value is false.</td>
</tr>
</tbody></table>

<p><a id='pipeline-config-material-object'></a></p>

<h3 id="the-pipeline-material-object">The pipeline material object</h3>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">type</code></td>
<td>String</td>
<td>The type of a material. Can be one of <code class="prettyprint">git</code>, <code class="prettyprint">svn</code>, <code class="prettyprint">hg</code>, <code class="prettyprint">p4</code>, <code class="prettyprint">tfs</code>, <code class="prettyprint">dependency</code>, <code class="prettyprint">package</code>, <code class="prettyprint">plugin</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">attributes</code></td>
<td>Object</td>
<td>The <a href="#the-git-material-attributes">attributes</a> for each material type.</td>
</tr>
</tbody></table>

<p><a id='pipeline-config-git-material'></a></p>

<h3 id="the-git-material-attributes">The git material attributes</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"materials"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"git"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api-docs"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://github.com/gocd/api.go.cd"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"branch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"master"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api.go.cd"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"auto_update"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"filter"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"ignore"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"**/*.xml"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"**/*.html"</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"invert_filter"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"submodule_folder"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"shallow_clone"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code></td>
<td>String</td>
<td>The name of this material.</td>
</tr>
<tr>
<td><code class="prettyprint">url</code></td>
<td>String</td>
<td>The URL of the git repository.</td>
</tr>
<tr>
<td><code class="prettyprint">branch</code></td>
<td>String</td>
<td>The git branch to build.</td>
</tr>
<tr>
<td><code class="prettyprint">destination</code></td>
<td>String</td>
<td>The directory (relative to the pipeline directory) in which source code will be checked out.</td>
</tr>
<tr>
<td><code class="prettyprint">auto_update</code></td>
<td>Boolean</td>
<td>Whether to poll for new changes or not.</td>
</tr>
<tr>
<td><code class="prettyprint">filter</code></td>
<td>Object</td>
<td>The <a href="#pipeline-config-filter-object">filter</a> specifies files in changesets that should not trigger a pipeline automatically.</td>
</tr>
<tr>
<td><code class="prettyprint">invert_filter</code></td>
<td>Boolean</td>
<td>Invert filter to enable whitelist. <strong>Since v16.7.0</strong>.</td>
</tr>
<tr>
<td><code class="prettyprint">submodule_folder</code></td>
<td>String</td>
<td>The git submodule in the git repository.</td>
</tr>
<tr>
<td><code class="prettyprint">shallow_clone</code></td>
<td>Boolean</td>
<td>Clone with -n (&ndash;depth) option if set to true. <strong>Since v16.3.0</strong>.</td>
</tr>
</tbody></table>

<p><a id='pipeline-config-svn-material'></a></p>

<h3 id="the-subversion-material-attributes">The subversion material attributes</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"materials"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"svn"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"svn"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"svn://svn.example.com/myProject/trunk"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"encrypted_password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aSdiFgRRZ6A="</span><span class="p">,</span><span class="w">
        </span><span class="nt">"destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"myProject"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"filter"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"invert_filter"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"auto_update"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"check_externals"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code></td>
<td>String</td>
<td>The name of this material.</td>
</tr>
<tr>
<td><code class="prettyprint">url</code></td>
<td>String</td>
<td>The URL of the subversion repository.</td>
</tr>
<tr>
<td><code class="prettyprint">username</code></td>
<td>String</td>
<td>The user account for the remote repository.</td>
</tr>
<tr>
<td><code class="prettyprint">password</code></td>
<td>String</td>
<td>The password for the specified user.</td>
</tr>
<tr>
<td><code class="prettyprint">encrypted_password</code></td>
<td>String</td>
<td>The encrypted password for the specified user.</td>
</tr>
<tr>
<td><code class="prettyprint">destination</code></td>
<td>String</td>
<td>The directory (relative to the pipeline directory) in which source code will be checked out.</td>
</tr>
<tr>
<td><code class="prettyprint">filter</code></td>
<td>Object</td>
<td>The <a href="#pipeline-config-filter-object">filter</a> specifies files in changesets that should not trigger a pipeline automatically.</td>
</tr>
<tr>
<td><code class="prettyprint">invert_filter</code></td>
<td>Boolean</td>
<td>Invert filter to enable whitelist. <strong>Since v16.7.0</strong>.</td>
</tr>
<tr>
<td><code class="prettyprint">auto_update</code></td>
<td>Boolean</td>
<td>Whether to poll for new changes or not.</td>
</tr>
<tr>
<td><code class="prettyprint">check_externals</code></td>
<td>Boolean</td>
<td>Whether the changes of the externals will trigger the pipeline automatically or not.</td>
</tr>
</tbody></table>

<p><a id='pipeline-config-hg-material'></a></p>

<h3 id="the-mercurial-material-attributes">The mercurial material attributes</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"materials"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hg"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api-docs"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://username:password@hg.example.com/hg/api.go.cd"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api-docs"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"filter"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"invert_filter"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"auto_update"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code></td>
<td>String</td>
<td>The name of this material.</td>
</tr>
<tr>
<td><code class="prettyprint">url</code></td>
<td>String</td>
<td>The URL of the mercurial repository.</td>
</tr>
<tr>
<td><code class="prettyprint">destination</code></td>
<td>String</td>
<td>The directory (relative to the pipeline directory) in which source code will be checked out.</td>
</tr>
<tr>
<td><code class="prettyprint">filter</code></td>
<td>Object</td>
<td>The <a href="#pipeline-config-filter-object">filter</a> specifies files in changesets that should not trigger a pipeline automatically.</td>
</tr>
<tr>
<td><code class="prettyprint">invert_filter</code></td>
<td>Boolean</td>
<td>Invert filter to enable whitelist. <strong>Since v16.7.0</strong>.</td>
</tr>
<tr>
<td><code class="prettyprint">auto_update</code></td>
<td>Boolean</td>
<td>Whether to poll for new changes or not.</td>
</tr>
</tbody></table>

<p><a id='pipeline-config-p4-material'></a></p>

<h3 id="the-perforce-material-attributes">The perforce material attributes</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"materials"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"p4"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api-docs"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"port"</span><span class="p">:</span><span class="w"> </span><span class="s2">"p4.example.com:8080"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"use_tickets"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"view"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample_view"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"encrypted_password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aSdiFgRRZ6A="</span><span class="p">,</span><span class="w">
        </span><span class="nt">"destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api-docs"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"filter"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"invert_filter"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"auto_update"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code></td>
<td>String</td>
<td>The name of this material.</td>
</tr>
<tr>
<td><code class="prettyprint">port</code></td>
<td>String</td>
<td>Perforce server connection to use (<code class="prettyprint">[transport:]host:port</code>).</td>
</tr>
<tr>
<td><code class="prettyprint">use_tickets</code></td>
<td>Boolean</td>
<td>Whether to work with the Perforce tickets or not.</td>
</tr>
<tr>
<td><code class="prettyprint">view</code></td>
<td>String</td>
<td>The Perforce view.</td>
</tr>
<tr>
<td><code class="prettyprint">username</code></td>
<td>String</td>
<td>The username to be used.</td>
</tr>
<tr>
<td><code class="prettyprint">password</code></td>
<td>String</td>
<td>The password for the specified user.</td>
</tr>
<tr>
<td><code class="prettyprint">encrypted_password</code></td>
<td>String</td>
<td>The encrypted password for the specified user.</td>
</tr>
<tr>
<td><code class="prettyprint">destination</code></td>
<td>String</td>
<td>The directory (relative to the pipeline directory) in which source code will be checked out.</td>
</tr>
<tr>
<td><code class="prettyprint">filter</code></td>
<td>Object</td>
<td>The <a href="#pipeline-config-filter-object">filter</a> specifies files in changesets that should not trigger a pipeline automatically.</td>
</tr>
<tr>
<td><code class="prettyprint">invert_filter</code></td>
<td>Boolean</td>
<td>Invert filter to enable whitelist. <strong>Since v16.7.0</strong>.</td>
</tr>
<tr>
<td><code class="prettyprint">auto_update</code></td>
<td>Boolean</td>
<td>Whether to poll for new changes or not.</td>
</tr>
</tbody></table>

<p><a id='pipeline-config-tfs-material'></a></p>

<h3 id="the-tfs-material-attributes">The tfs material attributes</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"materials"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tfs"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tfs"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://tfs.exampe.com:8000/tfs"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"project_path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$/"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"domain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"corporate/domain"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"encrypted_password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aSdiFgRRZ6A="</span><span class="p">,</span><span class="w">
        </span><span class="nt">"destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tfs_destination"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"auto_update"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"filter"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"invert_filter"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code></td>
<td>String</td>
<td>The name of this material.</td>
</tr>
<tr>
<td><code class="prettyprint">url</code></td>
<td>String</td>
<td>The URL for the Collection on the TFS Server.</td>
</tr>
<tr>
<td><code class="prettyprint">project_path</code></td>
<td>String</td>
<td>The project path within the TFS collection.</td>
</tr>
<tr>
<td><code class="prettyprint">domain</code></td>
<td>String</td>
<td>The domain name for TFS authentication credentials.</td>
</tr>
<tr>
<td><code class="prettyprint">username</code></td>
<td>String</td>
<td>The username of the account to access the TFS collection.</td>
</tr>
<tr>
<td><code class="prettyprint">password</code></td>
<td>String</td>
<td>The password of the account to access the TFS collection.</td>
</tr>
<tr>
<td><code class="prettyprint">encrypted_password</code></td>
<td>String</td>
<td>The encrypted password of the account to access the TFS collection.</td>
</tr>
<tr>
<td><code class="prettyprint">destination</code></td>
<td>String</td>
<td>The directory (relative to the pipeline directory) in which source code will be checked out.</td>
</tr>
<tr>
<td><code class="prettyprint">auto_update</code></td>
<td>Boolean</td>
<td>Whether to poll for new changes or not.</td>
</tr>
<tr>
<td><code class="prettyprint">filter</code></td>
<td>Object</td>
<td>The <a href="#pipeline-config-filter-object">filter</a> specifies files in changesets that should not trigger a pipeline automatically.</td>
</tr>
<tr>
<td><code class="prettyprint">invert_filter</code></td>
<td>Boolean</td>
<td>Invert filter to enable whitelist. <strong>Since v16.7.0</strong>.</td>
</tr>
</tbody></table>

<p><a id='pipeline-config-dependency-material'></a></p>

<h3 id="the-dependency-material-attributes">The dependency material attributes</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"materials"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dependency"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dependency"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"pipeline"</span><span class="p">:</span><span class="w"> </span><span class="s2">"upstream"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"stage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"upstream_stage"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"auto_update"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code></td>
<td>String</td>
<td>The name of this material.</td>
</tr>
<tr>
<td><code class="prettyprint">pipeline</code></td>
<td>String</td>
<td>The name of a pipeline that this pipeline depends on.</td>
</tr>
<tr>
<td><code class="prettyprint">stage</code></td>
<td>String</td>
<td>The name of a stage which will trigger this pipeline once it is successful.</td>
</tr>
<tr>
<td><code class="prettyprint">auto_update</code></td>
<td>Boolean</td>
<td>Whether to poll for new changes or not.</td>
</tr>
</tbody></table>

<p><a id='pipeline-config-package-material'></a></p>

<h3 id="the-package-material-attributes">The package material attributes</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"materials"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"package"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"ref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e289f497-057b-46bc-bb69-8043454f5c1b"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">ref</code></td>
<td>String</td>
<td>The unique package repository id.</td>
</tr>
</tbody></table>

<p><a id='pipeline-config-plugin-material'></a></p>

<h3 id="the-plugin-material-attributes">The plugin material attributes</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"materials"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"plugin"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"ref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5e3612f7-6aa1-4d75-a9b7-6aeb52d98012"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"filter"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"invert_filter"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">ref</code></td>
<td>String</td>
<td>The unique svn plugin repository id.</td>
</tr>
<tr>
<td><code class="prettyprint">destination</code></td>
<td>String</td>
<td>The directory (relative to the pipeline directory) in which source code will be checked out.</td>
</tr>
<tr>
<td><code class="prettyprint">filter</code></td>
<td>Object</td>
<td>The <a href="#pipeline-config-filter-object">filter</a> specifies files in changesets that should not trigger a pipeline automatically.</td>
</tr>
<tr>
<td><code class="prettyprint">invert_filter</code></td>
<td>Boolean</td>
<td>Invert filter to enable whitelist. <strong>Since v16.7.0</strong>.</td>
</tr>
</tbody></table>

<p><a id='pipeline-config-filter-object'></a></p>

<h3 id="the-filter-object">The filter object</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"filter"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"ignore"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"README.md"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"docs/**.html"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">ignore</code></td>
<td>String</td>
<td>The pattern for the files to be ignored.</td>
</tr>
</tbody></table>

<p><a id='pipeline-config-stage-object'></a></p>

<h3 id="the-stage-object">The stage object</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"stages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_stage"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"fetch_materials"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"clean_working_directory"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"never_cleanup_artifacts"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"approval"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"authorization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">

          </span><span class="p">],</span><span class="w">
          </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">

          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"environment_variables"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">

      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"jobs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">

      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code></td>
<td>String</td>
<td>The name of the stage.</td>
</tr>
<tr>
<td><code class="prettyprint">fetch_materials</code></td>
<td>Boolean</td>
<td>Whether to perform material update/checkout.</td>
</tr>
<tr>
<td><code class="prettyprint">clean_working_directory</code></td>
<td>Boolean</td>
<td>Whether to delete the working directory every time.</td>
</tr>
<tr>
<td><code class="prettyprint">never_cleanup_artifacts</code></td>
<td>Boolean</td>
<td>Never cleanup artifacts for this stage, if purging artifacts is configured at the Server Level.</td>
</tr>
<tr>
<td><code class="prettyprint">approval</code></td>
<td>Object</td>
<td>The <a href="#pipeline-config-approval-object">approval</a> specifies how stage should be triggered. Can be one of <code class="prettyprint">manual</code>, <code class="prettyprint">success</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">environment_variables</code></td>
<td>Array</td>
<td>The list of of <a href="#pipeline-config-environment-variables">environment variables</a> defined here are set on the agents and can be used within your stage.</td>
</tr>
<tr>
<td><code class="prettyprint">jobs</code></td>
<td>Array</td>
<td>The list of <a href="#pipeline-config-jobs">jobs</a>.</td>
</tr>
</tbody></table>

<p><a id='pipeline-config-approval-object'></a></p>

<h3 id="the-approval-object">The approval object</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"approval"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"authorization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">

      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">

      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">type</code></td>
<td>String</td>
<td>The type of the approval on which stage will trigger. Can be one of <code class="prettyprint">success</code>, <code class="prettyprint">manual</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">authorization</code></td>
<td>Object</td>
<td>The <a href="#pipeline-config-approval-authorization">authorization</a> under an approval with a <code class="prettyprint">manual</code> or <code class="prettyprint">success</code> type to specify who can approve this stage.</td>
</tr>
</tbody></table>

<p><a id='pipeline-config-approval-authorization'></a></p>

<h3 id="the-authorization-object">The authorization object</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"authorization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">

    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">

    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">users</code></td>
<td>Array</td>
<td>The list of users authorized to operate (run) on this stage.</td>
</tr>
<tr>
<td><code class="prettyprint">roles</code></td>
<td>Array</td>
<td>The list of roles authorized to operate (run) on this stage.</td>
</tr>
</tbody></table>

<p><a id='pipeline-config-jobs'></a></p>

<h3 id="the-job-object">The job object</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"jobs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_job"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"run_instance_count"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"environment_variables"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">

      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"resources"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"Linux"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Java"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">

      </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unit_test"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"run_instance_count"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="nt">"environment_variables"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">

      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"elastic_profile_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"docker.unit-test"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">

      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code></td>
<td>String</td>
<td>The name of the job.</td>
</tr>
<tr>
<td><code class="prettyprint">run_instance_count</code></td>
<td>Number/String</td>
<td>The number of jobs to run. If set to <code class="prettyprint">null</code> (default), one job will be created. If set to the literal string <code class="prettyprint">all</code>, the job will be run on all agents. If set to a positive integer, the specified number of jobs will be created. Can be one of <code class="prettyprint">null</code>, <code class="prettyprint">Integer</code>, <code class="prettyprint">all</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">timeout</code></td>
<td>Number</td>
<td>The time period(in minute) after which the job will be terminated by GoCD if it has not generated any output.</td>
</tr>
<tr>
<td><code class="prettyprint">environment_variables</code></td>
<td>Array</td>
<td>The list of <a href="#pipeline-config-environment-variables">environment variables</a> defined here are set on the agents and can be used within your tasks.</td>
</tr>
<tr>
<td><code class="prettyprint">resources</code></td>
<td>Array</td>
<td>The list of (String) resources that specifies the resource which the job requires to build. MUST NOT be specified along with <code class="prettyprint">elastic_profile_id</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">tasks</code></td>
<td>Array</td>
<td>The list of <a href="#pipeline-config-task">tasks</a> that will run as part of the job.</td>
</tr>
<tr>
<td><code class="prettyprint">tabs</code></td>
<td>Array</td>
<td>The list of <a href="#the-tab-object">tabs</a> which let you add custom tabs within the job details page.</td>
</tr>
<tr>
<td><code class="prettyprint">artifacts</code></td>
<td>Array</td>
<td>The list of <a href="#the-pipeline-config-artifact-object">artifacts</a> specifies what files the agent will publish to the server.</td>
</tr>
<tr>
<td><code class="prettyprint">properties</code></td>
<td>Array</td>
<td>The list of <a href="#the-property-object">properties</a> of the build from XML files or artifacts created during your build.</td>
</tr>
<tr>
<td><code class="prettyprint">elastic_profile_id</code></td>
<td>String</td>
<td>The id of the elastic profile, specifying this attribute would run the job on an elastic agent asociated with this profile. MUST NOT be specified along with <code class="prettyprint">resources</code>. <strong>Since v16.10.0</strong>.</td>
</tr>
</tbody></table>

<p><a id='pipeline-config-task'></a></p>

<h3 id="the-task-object">The task object</h3>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">type</code></td>
<td>String</td>
<td>The type of a task. Can be one of <code class="prettyprint">exec</code>, <code class="prettyprint">ant</code>, <code class="prettyprint">nant</code>, <code class="prettyprint">rake</code>, <code class="prettyprint">fetch</code>, <code class="prettyprint">pluggable_task</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">attributes</code></td>
<td>Object</td>
<td>The <a href="#the-exec-task-attributes">attributes</a> for each task type.</td>
</tr>
</tbody></table>

<p><a id='pipeline-config-exec-task'></a></p>

<h3 id="the-exec-task-attributes">The exec task attributes</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"exec"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"run_if"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"passed"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"command"</span><span class="p">:</span><span class="w"> </span><span class="s2">"make"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"arguments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"-j3"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"docs"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"instal"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"working_directory"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">run_if</code></td>
<td>Array</td>
<td>The <code class="prettyprint">run_if</code> condition specifies when a task should be allowed to run. Can be one of <code class="prettyprint">passed</code>, <code class="prettyprint">failed</code>, <code class="prettyprint">any</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">command</code></td>
<td>String</td>
<td>The name of the executable. If the executable is not on <code class="prettyprint">PATH</code>, you may also specify the full path.</td>
</tr>
<tr>
<td><code class="prettyprint">arguments</code></td>
<td>Array</td>
<td>The list of arguments to be passed to the executable.</td>
</tr>
<tr>
<td><code class="prettyprint">working_directory</code></td>
<td>String</td>
<td>The directory in which the executable is to be executed.</td>
</tr>
<tr>
<td><code class="prettyprint">on_cancel</code></td>
<td>Object</td>
<td>The <a href="#pipeline-config-task">task</a> specifies a task to execute when a stage is cancelled.</td>
</tr>
</tbody></table>

<p><a id='pipeline-config-ant-task'></a></p>

<h3 id="the-ant-task-attributes">The ant task attributes</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ant"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"run_if"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"passed"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"working_directory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"script/build"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"build_file"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"target"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">run_if</code></td>
<td>Array</td>
<td>The <code class="prettyprint">run_if</code> condition specifies when a task should be allowed to run. Can be one of <code class="prettyprint">passed</code>, <code class="prettyprint">failed</code>, <code class="prettyprint">any</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">build_file</code></td>
<td>String</td>
<td>The path to Ant build file.</td>
</tr>
<tr>
<td><code class="prettyprint">target</code></td>
<td>String</td>
<td>The Ant target(s) to run.</td>
</tr>
<tr>
<td><code class="prettyprint">working_directory</code></td>
<td>String</td>
<td>The directory in which Ant is invoked.</td>
</tr>
<tr>
<td><code class="prettyprint">on_cancel</code></td>
<td>Object</td>
<td>The <a href="#pipeline-config-task">task</a> specifies a task to execute when a stage is cancelled.</td>
</tr>
</tbody></table>

<p><a id='pipeline-config-nant-task'></a></p>

<h3 id="the-nant-task-attributes">The nant task attributes</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"nant"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"run_if"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"passed"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"working_directory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"script/build/123"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"build_file"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"target"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"nant_path"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">run_if</code></td>
<td>Array</td>
<td>The <code class="prettyprint">run_if</code> condition specifies when a task should be allowed to run. Can be one of <code class="prettyprint">passed</code>, <code class="prettyprint">failed</code>, <code class="prettyprint">any</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">build_file</code></td>
<td>String</td>
<td>The path to NAnt build file.</td>
</tr>
<tr>
<td><code class="prettyprint">target</code></td>
<td>String</td>
<td>The NAnt target(s) to run.</td>
</tr>
<tr>
<td><code class="prettyprint">nant_path</code></td>
<td>String</td>
<td>This is the directory where the <code class="prettyprint">nant.exe</code> executable is located. By default GoCD will look for <code class="prettyprint">nant.exe</code> in the <code class="prettyprint">PATH</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">working_directory</code></td>
<td>String</td>
<td>The directory in which NAnt is invoked.</td>
</tr>
<tr>
<td><code class="prettyprint">on_cancel</code></td>
<td>Object</td>
<td>The <a href="#pipeline-config-task">task</a> specifies a task to execute when a stage is cancelled.</td>
</tr>
</tbody></table>

<p><a id='pipeline-config-rake-task'></a></p>

<h3 id="the-rake-task-attributes">The rake task attributes</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rake"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"run_if"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"passed"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"working_directory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample-project"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"build_file"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"target"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">run_if</code></td>
<td>Array</td>
<td>The <code class="prettyprint">run_if</code> condition specifies when a task should be allowed to run. Can be one of <code class="prettyprint">passed</code>, <code class="prettyprint">failed</code>, <code class="prettyprint">any</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">build_file</code></td>
<td>String</td>
<td>The path to rake file. Defaults to <code class="prettyprint">rakefile</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">target</code></td>
<td>String</td>
<td>The rake target(s) to run. If not specified, rake runs the <code class="prettyprint">default</code> target in the file specified by <code class="prettyprint">build_file</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">working_directory</code></td>
<td>String</td>
<td>The directory from which rake is invoked.</td>
</tr>
<tr>
<td><code class="prettyprint">on_cancel</code></td>
<td>Object</td>
<td>The <a href="#pipeline-config-task">task</a> specifies a task to execute when a stage is cancelled.</td>
</tr>
</tbody></table>

<p><a id='pipeline-config-fetch-task'></a></p>

<h3 id="the-fetch-task-attributes">The fetch task attributes</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fetch"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"artifact_origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gocd"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"run_if"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"passed"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"pipeline"</span><span class="p">:</span><span class="w"> </span><span class="s2">"upstream"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"stage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"upstream_stage"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"job"</span><span class="p">:</span><span class="w"> </span><span class="s2">"upstream_job"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"is_source_a_file"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"result"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fetch"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"artifact_origin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"external"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"pipeline"</span><span class="p">:</span><span class="w"> </span><span class="s2">"some-upstream-pipeline"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"stage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"defaultStage"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"job"</span><span class="p">:</span><span class="w"> </span><span class="s2">"defaultJob"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"artifact_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"s3"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"configuration"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dest_on_agent"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"artifact"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">artifact_origin</code></td>
<td>String</td>
<td>Origin indicates whether the artifact to fetch is on the GoCD server or in an external repository. Can be one of <code class="prettyprint">gocd</code>, <code class="prettyprint">external</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">run_if</code></td>
<td>Array</td>
<td>The <code class="prettyprint">run_if</code> condition specifies when a task should be allowed to run. Can be one of <code class="prettyprint">passed</code>, <code class="prettyprint">failed</code>, <code class="prettyprint">any</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">pipeline</code></td>
<td>String</td>
<td>The name of direct upstream pipeline or ancestor pipeline of one of the upstream pipelines on which the pipeline of the job depends on. .</td>
</tr>
<tr>
<td><code class="prettyprint">stage</code></td>
<td>String</td>
<td>The name of the stage to fetch artifacts from.</td>
</tr>
<tr>
<td><code class="prettyprint">job</code></td>
<td>String</td>
<td>The name of the job to fetch artifacts from.</td>
</tr>
<tr>
<td><code class="prettyprint">source</code></td>
<td>String</td>
<td>The path of the artifact directory or file of a specific job, relative to the sandbox directory. If the directory or file does not exist, the job is failed. Should be specified if origin is <code class="prettyprint">gocd</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">is_source_a_file</code></td>
<td>Boolean</td>
<td>Whether source is a file or directory. Should be specified if origin is <code class="prettyprint">gocd</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">destination</code></td>
<td>String</td>
<td>The path of the directory where the artifact is fetched to. Should be specified if origin is <code class="prettyprint">gocd</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">on_cancel</code></td>
<td>Object</td>
<td>The <a href="#pipeline-config-task">task</a> specifies a task to execute when a stage is cancelled.</td>
</tr>
<tr>
<td><code class="prettyprint">artifact_id</code></td>
<td>String</td>
<td>The external artifact that was published by an upstream pipeline or stage. Should be specified if origin is <code class="prettyprint">external</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">configuration</code></td>
<td>Array</td>
<td>A list of <code class="prettyprint">key</code>-<code class="prettyprint">value</code> pairs which defines the plugin configuration. Should be specified if origin is <code class="prettyprint">external</code>.</td>
</tr>
</tbody></table>

<p><a id='pipeline-config-pluggable-task'></a></p>

<h3 id="the-pluggable-task-object">The pluggable task object</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"tasks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pluggable_task"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"configuration"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ConverterType"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jsunit"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"run_if"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"passed"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"plugin_configuration"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xunit.converter.task.plugin"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"on_cancel"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">run_if</code></td>
<td>Array</td>
<td>The <code class="prettyprint">run_if</code> condition specifies when a task should be allowed to run. Can be one of <code class="prettyprint">passed</code>, <code class="prettyprint">failed</code>, <code class="prettyprint">any</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">plugin_configuration</code></td>
<td>Object</td>
<td>The plugin configuration contains <code class="prettyprint">id</code> of the plugin and <code class="prettyprint">version</code> number.</td>
</tr>
<tr>
<td><code class="prettyprint">configuration</code></td>
<td>Array</td>
<td>A list of <code class="prettyprint">key</code>-<code class="prettyprint">value</code> pairs which defines the plugin configuration.</td>
</tr>
<tr>
<td><code class="prettyprint">on_cancel</code></td>
<td>Object</td>
<td>The <a href="#pipeline-config-task">task</a> specifies a task to execute when a stage is cancelled.</td>
</tr>
</tbody></table>

<p><a id='pipeline-config-job-tab'></a></p>

<h3 id="the-tab-object">The tab object</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"tabs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cobertura"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"target/site/cobertura/index.html"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code></td>
<td>String</td>
<td>The name of the tab which will appear in the Job detail page.</td>
</tr>
<tr>
<td><code class="prettyprint">path</code></td>
<td>String</td>
<td>The relative path of a file in the server artifact destination directory of the job that will be render in the tab.</td>
</tr>
</tbody></table>

<p><a id='pipeline-config-job-artifact'></a></p>

<h3 id="the-pipeline-config-artifact-object">The pipeline config artifact object</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"artifacts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"target"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"result"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"build"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"destination"</span><span class="p">:</span><span class="w"> </span><span class="s2">"res1"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"artifact_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"docker-image"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"store_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dockerhub"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"external"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"configuration"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Image"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gocd/gocd-server"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tag"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v${GO_PIPELINE_COUNTER}"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">type</code></td>
<td>String</td>
<td>The type of the artifact. Can be one of <code class="prettyprint">test</code>, <code class="prettyprint">build</code>, <code class="prettyprint">external</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">source</code></td>
<td>String</td>
<td>The file or folder to publish to the server. Should be specified if type is either <code class="prettyprint">test</code> or <code class="prettyprint">build</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">destination</code></td>
<td>String</td>
<td>The destination is relative to the artifacts folder of the current job instance on the server side. If it is not specified, the artifact will be stored in the root of the artifacts directory. Should be specified if type is either <code class="prettyprint">test</code> or <code class="prettyprint">build</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">id</code></td>
<td>String</td>
<td>The artifact id for an external artifact. This id can be used later in a downstream fetch task. Should be specified if type is <code class="prettyprint">external</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">store_id</code></td>
<td>String</td>
<td>The artifact store id referencing an existing global artifact store. Should be specified if type is <code class="prettyprint">external</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">configuration</code></td>
<td>Array</td>
<td>A list of <code class="prettyprint">key</code>-<code class="prettyprint">value</code> pairs which defines the plugin configuration. Should be specified if type is <code class="prettyprint">external</code>.</td>
</tr>
</tbody></table>

<p><a id='pipeline-config-job-property'></a></p>

<h3 id="the-property-object">The property object</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"coverage.class"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"target/emma/coverage.xml"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"xpath"</span><span class="p">:</span><span class="w"> </span><span class="s2">"substring-before(//report/data/all/coverage[starts-with(@type,'class')]/@value, '%')"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code></td>
<td>String</td>
<td>The name of the property.</td>
</tr>
<tr>
<td><code class="prettyprint">source</code></td>
<td>String</td>
<td>The relative path to the XML file containing the data that you want to use to create the property.</td>
</tr>
<tr>
<td><code class="prettyprint">xpath</code></td>
<td>String</td>
<td>The xpath that will be used to create property.</td>
</tr>
</tbody></table>

<p><a id='pipeline-config-timer-object'></a></p>

<h3 id="the-timer-object">The timer object</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"timer"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"spec"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0 0 22 ? * MON-FRI"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"only_on_changes"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">spec</code></td>
<td>String</td>
<td>The cron-like schedule to build the pipeline.</td>
</tr>
<tr>
<td><code class="prettyprint">only_on_changes</code></td>
<td>Boolean</td>
<td>Run only if the pipeline hasn&rsquo;t previously run with the latest material(s).</td>
</tr>
</tbody></table>

<p><a id='pipeline-config-tracking-tool-object'></a></p>

<h3 id="the-tracking-tool-object">The tracking tool object</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"tracking_tool"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"generic"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"url_pattern"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://github.com/gocd/api.go.cd/issues/${ID}"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"regex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"##(d+)"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">type</code></td>
<td>String</td>
<td>The type of the tracking tool. Can be one of <code class="prettyprint">mingle</code>, <code class="prettyprint">generic</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">attributes</code></td>
<td>Object</td>
<td>The attributes of the tracking tool. See attributes for <a href="#pipeline-config-tracking-tool-generic">generic</a> and <a href="#pipeline-config-tracking-tool-mingle">mingle</a> tracking tools.</td>
</tr>
</tbody></table>

<p><a id='pipeline-config-tracking-tool-generic'></a></p>

<h3 id="the-generic-tracking-tool-object">The generic tracking tool object</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"url_pattern"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://github.com/gocd/api.go.cd/issues/${ID}"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"regex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"##(d+)"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">url_pattern</code></td>
<td>String</td>
<td>In generic tracking tool, the URI to your tracking tool.</td>
</tr>
<tr>
<td><code class="prettyprint">regex</code></td>
<td>String</td>
<td>In generic tracking tool, the regular expression to identify card or bug numbers from your checkin comments.</td>
</tr>
</tbody></table>

<p><a id='pipeline-config-tracking-tool-mingle'></a></p>

<h3 id="the-mingle-tracking-tool-object">The mingle tracking tool object</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"base_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://mingle.example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"project_identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foobar_widgets"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mql_grouping_conditions"</span><span class="p">:</span><span class="w"> </span><span class="s2">"status &gt; 'In Dev'"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">base_url</code></td>
<td>String</td>
<td>The base URL of the Mingle server.</td>
</tr>
<tr>
<td><code class="prettyprint">project_identifier</code></td>
<td>String</td>
<td>The project identfier can be found under the mingle project&rsquo;s <strong>Project admin</strong> tab in the section titled <strong>Basic Information</strong>.</td>
</tr>
<tr>
<td><code class="prettyprint">mql_grouping_conditions</code></td>
<td>String</td>
<td>The MQL string that determines the &lsquo;passing criteria&rsquo; for cards displayed.</td>
</tr>
</tbody></table>

<p><a id='pipeline-config-origin-object'></a></p>

<h3 id="the-config-repo-origin-object">The config repo origin object</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:8153/go/api/admin/config_repos/repo1"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#config-repos"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:8153/go/api/admin/config_repos/:id"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"config_repo"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"repo1"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">type</code></td>
<td>String</td>
<td>The type of origin. Can be either <code class="prettyprint">gocd</code> or <code class="prettyprint">config_repo</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">id</code></td>
<td>String</td>
<td>The identifier of the config repository. This attribute is only available if type of the origin is <code class="prettyprint">config_repo</code>.</td>
</tr>
</tbody></table>

<h2 id="get-pipeline-config">Get pipeline config</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/pipelines/my_pipeline'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v6+json'</span> <span class="se">\</span>
      -i
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v6+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"e064ca0fe5d8a39602e19666454b8d77"</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/pipelines/my_pipeline"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#pipeline-config"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/pipelines/:name"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"label_template"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"${COUNT}"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lock_behavior"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"lockOnFailure"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"new_pipeline"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"template"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"origin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/admin/config_xml"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"doc"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/current/#get-configuration"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"gocd"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"parameters"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"environment_variables"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"materials"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"git"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"attributes"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"git@github.com:sample_repo/example.git"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"destination"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"dest"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"filter"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"invert_filter"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"auto_update"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"branch"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"master"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"submodule_folder"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"shallow_clone"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"stages"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"defaultStage"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fetch_materials"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"clean_working_directory"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"never_cleanup_artifacts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"approval"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"authorization"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"roles"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
        </span><span class="nt">"users"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"environment_variables"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"jobs"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"defaultJob"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"run_instance_count"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"timeout"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"environment_variables"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"resources"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"tasks"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"exec"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"attributes"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"run_if"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"passed"</span><span class="w"> </span><span class="p">],</span><span class="w">
          </span><span class="nt">"command"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ls"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"args"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"tabs"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"artifacts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"external"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"artifact_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"docker-image"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"store_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"dockerhub"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"configuration"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"key"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Image"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"gocd/gocd-server"</span><span class="w">
        </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"key"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Tag"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"v${GO_PIPELINE_LABEL}"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"properties"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"s2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fetch_materials"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"clean_working_directory"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"never_cleanup_artifacts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"approval"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"authorization"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"roles"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
        </span><span class="nt">"users"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"environment_variables"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"jobs"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"j2"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"run_instance_count"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"timeout"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"environment_variables"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"resources"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"tasks"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"fetch"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"attributes"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"artifact_origin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"external"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"pipeline"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="nt">"stage"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"defaultStage"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"job"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"defaultJob"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"run_if"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
          </span><span class="nt">"artifact_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"docker-image"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"tabs"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"artifacts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"properties"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"tracking_tool"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timer"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Gets pipeline config for specified pipeline name.</p>

<aside class="notice">
  <strong>Note:</strong> Please remember to save the value of the `ETag` header
  for conditional posts, see the
  <a href='#edit-pipeline-config'>edit pipeline config</a>
  documentation for more details.
</aside>

<p class='available-since'>
  Available since v15.3.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/admin/pipelines/:pipeline_name</code></p>

<p class='http-request-return-description'>Returns</p>

<p>The <a href="#the-pipeline-config-object">pipeline config object</a>.</p>

<h2 id="edit-pipeline-config">Edit pipeline config</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/pipelines/my_pipeline'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v6+json'</span> <span class="se">\</span>
      -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
      -H <span class="s1">'If-Match: "e064ca0fe5d8a39602e19666454b8d77"'</span> <span class="se">\</span>
      -X PUT <span class="se">\</span>
      -d <span class="s1">'{
            "label_template": "${COUNT}",
            "lock_behavior": "unlockWhenFinished",
            "name": "my_pipeline",
            "template": null,
            "materials": [
              {
                "type": "git",
                "attributes": {
                  "url": "git@github.com:sample_repo/example.git",
                  "destination": "dest",
                  "filter": null,
                  "invert_filter": false,
                  "name": null,
                  "auto_update": true,
                  "branch": "master",
                  "submodule_folder": null,
                  "shallow_clone": true
                }
              }
            ],
            "stages": [
              {
                "name": "defaultStage",
                "fetch_materials": true,
                "clean_working_directory": false,
                "never_cleanup_artifacts": false,
                "approval": {
                  "type": "success",
                  "authorization": {
                    "roles": [],
                    "users": []
                  }
                },
                "environment_variables": [],
                "jobs": [
                  {
                    "name": "defaultJob",
                    "run_instance_count": null,
                    "timeout": 0,
                    "environment_variables": [],
                    "resources": [],
                    "tasks": [
                      {
                        "type": "exec",
                        "attributes": {
                          "run_if": [
                            "passed"
                          ],
                          "command": "ls",
                          "working_directory": null
                        }
                      }
                    ],
                    "artifacts": [
                      {
                        "type": "external",
                        "artifact_id": "docker-image",
                        "store_id": "dockerhub",
                        "configuration": [
                          {
                            "key": "Image",
                            "value": "gocd/gocd-server"
                          },
                          {
                            "key": "Tag",
                            "value": "v${GO_PIPELINE_COUNTER}"
                          }
                        ]
                      }
                    ]
                  }
                ]
              },
              {
                "name": "s2",
                "jobs": [
                  {
                    "name": "j2",
                    "tasks": [
                      {
                        "type": "fetch",
                        "attributes": {
                          "artifact_origin": "external",
                          "pipeline": "",
                          "stage": "defaultStage",
                          "job": "defaultJob",
                          "artifact_id": "docker-image"
                        }
                      }
                    ]
                  }
                ]
              }
            ]
          }'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v6+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"e89135b38ddbcd9380c83eb524647bdd"</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/pipelines/my_pipeline"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#pipeline-config"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/pipelines/:name"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"label_template"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"${COUNT}"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lock_behavior"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"lockOnFailure"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"new_pipeline"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"template"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"origin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/admin/config_xml"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"doc"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/current/#get-configuration"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"gocd"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"parameters"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"environment_variables"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"materials"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"git"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"attributes"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"git@github.com:sample_repo/example.git"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"destination"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"dest"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"filter"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"invert_filter"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"auto_update"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"branch"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"master"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"submodule_folder"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"shallow_clone"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"stages"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"defaultStage"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fetch_materials"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"clean_working_directory"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"never_cleanup_artifacts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"approval"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"authorization"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"roles"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
        </span><span class="nt">"users"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"environment_variables"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"jobs"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"defaultJob"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"run_instance_count"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"timeout"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"environment_variables"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"resources"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"tasks"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"exec"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"attributes"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"run_if"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"passed"</span><span class="w"> </span><span class="p">],</span><span class="w">
          </span><span class="nt">"command"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ls"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"args"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"tabs"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"artifacts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"external"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"artifact_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"docker-image"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"store_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"dockerhub"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"configuration"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"key"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Image"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"gocd/gocd-server"</span><span class="w">
        </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"key"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Tag"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"v${GO_PIPELINE_LABEL}"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"properties"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"s2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fetch_materials"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"clean_working_directory"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"never_cleanup_artifacts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"approval"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"authorization"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"roles"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
        </span><span class="nt">"users"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"environment_variables"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"jobs"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"j2"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"run_instance_count"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"timeout"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"environment_variables"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"resources"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"tasks"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"fetch"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"attributes"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"artifact_origin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"external"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"pipeline"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="nt">"stage"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"defaultStage"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"job"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"defaultJob"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"run_if"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
          </span><span class="nt">"artifact_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"docker-image"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"tabs"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"artifacts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"properties"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"tracking_tool"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timer"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Update pipeline config for specified pipeline name.</p>

<aside class="notice">
  <strong>Note:</strong>
  The update pipeline API requires that you submit the <code>If-Match</code>
  header with the latest ETag value that is representative of the current
  pipeline config resource.
  <br/><br/>
  This is required in order to avoid the &ldquo;lost update&rdquo; problem, where a client
  `GET`s a resource&rsquo;s state, modifies it and `PUT`s it back to the server, while
  another user has modified the state of the pipeline config, leading to a
  conflict.
</aside>

<p class='available-since'>
  Available since v15.3.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">PUT /go/api/admin/pipelines/:pipeline_name</code></p>

<p class='http-request-return-description'>Returns</p>

<p>The updated <a href="#the-pipeline-config-object">pipeline config object</a>.</p>

<h2 id="create-a-pipeline">Create a pipeline</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/pipelines'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v6+json'</span> <span class="se">\</span>
      -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
      -X POST -d <span class="s1">'{ "group": "first",
                    "pipeline": {
                    "label_template": "${COUNT}",
                    "lock_behavior": "lockOnFailure",
                    "name": "new_pipeline",
                    "template": null,
                    "materials": [
                      {
                        "type": "git",
                        "attributes": {
                          "url": "git@github.com:sample_repo/example.git",
                          "destination": "dest",
                          "filter": null,
                          "invert_filter": false,
                          "name": null,
                          "auto_update": true,
                          "branch": "master",
                          "submodule_folder": null,
                          "shallow_clone": true
                        }
                      }
                    ],
                    "stages": [
                      {
                        "name": "defaultStage",
                        "fetch_materials": true,
                        "clean_working_directory": false,
                        "never_cleanup_artifacts": false,
                        "approval": {
                          "type": "success",
                          "authorization": {
                            "roles": [],
                            "users": []
                          }
                        },
                        "environment_variables": [],
                        "jobs": [
                          {
                            "name": "defaultJob",
                            "run_instance_count": null,
                            "timeout": 0,
                            "environment_variables": [],
                            "resources": [],
                            "tasks": [
                              {
                                "type": "exec",
                                "attributes": {
                                  "run_if": [
                                    "passed"
                                  ],
                                  "command": "ls",
                                  "working_directory": null
                                }
                              }
                            ],
                            "artifacts": [
                              {
                                "type": "external",
                                "artifact_id": "docker-image",
                                "store_id": "dockerhub",
                                "configuration": [
                                  {
                                    "key": "Image",
                                    "value": "gocd/gocd-server"
                                  },
                                  {
                                    "key": "Tag",
                                    "value": "v${GO_PIPELINE_COUNTER}"
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      },
                      {
                        "name": "s2",
                        "jobs": [
                          {
                            "name": "j2",
                            "tasks": [
                              {
                                "type": "fetch",
                                "attributes": {
                                  "artifact_origin": "external",
                                  "pipeline": "",
                                  "stage": "defaultStage",
                                  "job": "defaultJob",
                                  "artifact_id": "docker-image"
                                }
                              }
                            ]
                          }
                        ]
                      }
                    ]
                }
              }'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v6+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/pipelines/new_pipeline"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#pipeline-config"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/pipelines/:name"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"label_template"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"${COUNT}"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"lock_behavior"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"lockOnFailure"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"new_pipeline"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"template"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"origin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/admin/config_xml"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"doc"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/current/#get-configuration"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"gocd"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"parameters"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"environment_variables"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"materials"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"git"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"attributes"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"url"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"git@github.com:sample_repo/example.git"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"destination"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"dest"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"filter"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"invert_filter"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"auto_update"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"branch"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"master"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"submodule_folder"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"shallow_clone"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"stages"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"defaultStage"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fetch_materials"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"clean_working_directory"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"never_cleanup_artifacts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"approval"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"authorization"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"roles"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
        </span><span class="nt">"users"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"environment_variables"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"jobs"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"defaultJob"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"run_instance_count"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"timeout"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"environment_variables"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"resources"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"tasks"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"exec"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"attributes"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"run_if"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"passed"</span><span class="w"> </span><span class="p">],</span><span class="w">
          </span><span class="nt">"command"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ls"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"args"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"tabs"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"artifacts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"external"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"artifact_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"docker-image"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"store_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"dockerhub"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"configuration"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"key"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Image"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"gocd/gocd-server"</span><span class="w">
        </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"key"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Tag"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"v${GO_PIPELINE_LABEL}"</span><span class="w">
        </span><span class="p">}]</span><span class="w">
      </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"properties"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"s2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fetch_materials"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"clean_working_directory"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"never_cleanup_artifacts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"approval"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"authorization"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"roles"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
        </span><span class="nt">"users"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"environment_variables"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"jobs"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"j2"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"run_instance_count"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"timeout"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"environment_variables"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"resources"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"tasks"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"fetch"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"attributes"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"artifact_origin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"external"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"pipeline"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="nt">"stage"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"defaultStage"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"job"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"defaultJob"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"run_if"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
          </span><span class="nt">"artifact_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"docker-image"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"tabs"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"artifacts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"properties"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"tracking_tool"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="nt">"timer"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Create a pipeline.</p>

<p class='available-since'>
  Available since v15.3.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">POST /go/api/admin/pipelines</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A new <a href="#the-pipeline-config-object">pipeline config object</a>.</p>

<h2 id="delete-a-pipeline">Delete a pipeline</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/pipelines/my_pipeline'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v6+json'</span> <span class="se">\</span>
      -X DELETE

</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v6+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pipeline 'my_pipeline' was deleted successfully."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Deletes a pipeline from the config XML.</p>

<aside class="warning">
  The history of the pipeline, that is, the data for each pipeline run will still be stored in the database. This data will not be removed.
</aside>

<p class='available-since'>
  Available since v16.6.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">DELETE /go/api/admin/pipelines/:pipeline_name</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A message confirmation if the pipeline was deleted.</p>

          <h1 id="template-config">Template Config</h1>

<p>The template config API allows users with administrator role to manage template config.</p>

<aside class="notice">
  <strong>Important:</strong> Please note that this API requires using <code>v4</code> of the API using <code>Accept: application/vnd.go.cd.v4+json</code>
</aside>

<h2 id="the-template-config-object">The template config object</h2>

<p class='available-since'>
  Available since v16.10.0.
</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code></td>
<td>String</td>
<td>The name of the template.</td>
</tr>
<tr>
<td><code class="prettyprint">stages</code></td>
<td>Array</td>
<td>The list of <a href="#pipeline-config-stage-object">stages</a>. You MUST specify atleast one stage in <code class="prettyprint">stages</code>, or <code class="prettyprint">template</code>.</td>
</tr>
</tbody></table>

<h2 id="the-template-authorization-object">The template authorization object</h2>

<p class='available-since'>
  Available since v18.2.0.
</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">all_group_admins_are_view_users</code></td>
<td>Boolean</td>
<td>This property specifies whether the group admins are allowed to view the template configuration.</td>
</tr>
<tr>
<td><code class="prettyprint">admin</code></td>
<td>Object</td>
<td>The users and roles that have <a href="#template-auth">admin</a> permissions to edit the template configuration.</td>
</tr>
<tr>
<td><code class="prettyprint">view</code></td>
<td>Object</td>
<td>The explicitly configured users and roles that have permissions to <a href="#template-auth">view</a> the template configuration.</td>
</tr>
</tbody></table>

<p><a id='template-auth'></a></p>

<h3 id="the-authorization-object">The authorization object</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"role1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"role2"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"user1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"user2"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">users</code></td>
<td>Array</td>
<td>List of user names that should be granted the specified permission.</td>
</tr>
<tr>
<td><code class="prettyprint">roles</code></td>
<td>Array</td>
<td>List of roles that should be granted the specified permission.</td>
</tr>
</tbody></table>

<h2 id="get-all-templates">Get all templates</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/templates'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v4+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/templates"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#template-config"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/templates/:template_name"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"_embedded"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"templates"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/templates/template1"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#template-config"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/templates/:template_name"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"template1"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"_embedded"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"pipelines"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/pipelines/up42"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#pipeline-config"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/pipelines/:pipeline_name"</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"up42"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Lists all available templates with the associated pipelines&rsquo; names.</p>

<p class='available-since'>
  Available since v16.10.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/admin/templates</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A list of <a href="#the-template-config-object">template</a> objects</p>

<h2 id="get-template-config">Get template config</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/templates/template.name'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept:application/vnd.go.cd.v4+json'</span> <span class="se">\</span>
      -i
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v4+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"05548388f7ef5042cd39f7fe42e85735"</span>

</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/templates/template.name"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#template-config"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/templates/:template_name"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"template.name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"stages"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"defaultStage"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fetch_materials"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"clean_working_directory"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"never_cleanup_artifacts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"approval"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"authorization"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"roles"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
        </span><span class="nt">"users"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"environment_variables"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"jobs"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"defaultJob"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"run_instance_count"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"timeout"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"environment_variables"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"resources"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"tasks"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"exec"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"attributes"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"run_if"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"passed"</span><span class="w"> </span><span class="p">],</span><span class="w">
          </span><span class="nt">"command"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ls"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"args"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"tabs"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"artifacts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"external"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"artifact_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"docker-image"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"store_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"dockerhub"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"configuration"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"key"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Image"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"gocd/gocd-server"</span><span class="w">
        </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"key"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Tag"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"v${GO_PIPELINE_LABEL}"</span><span class="w">
        </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"properties"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"s2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fetch_materials"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"clean_working_directory"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"never_cleanup_artifacts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"approval"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"authorization"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"roles"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
        </span><span class="nt">"users"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"environment_variables"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"jobs"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"j2"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"run_instance_count"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"timeout"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"environment_variables"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"resources"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"tasks"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"fetch"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"attributes"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"origin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"external"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"pipeline"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="nt">"stage"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"defaultStage"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"job"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"defaultJob"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"run_if"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
          </span><span class="nt">"artifact_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"docker-image"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"tabs"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"artifacts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"properties"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Gets template config for specified template name.</p>

<aside class="notice">
  <strong>Note:</strong> Please remember to save the value of the `ETag` header
  for conditional posts, see the
  <a href='#edit-template-config'>edit template config</a>
  documentation for more details.
</aside>

<p class='available-since'>
  Available since v16.10.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/admin/templates/:template_name</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A <a href="#the-template-config-object">template</a> object</p>

<h2 id="create-template-config">Create template config</h2>

<pre class="highlight shell"><code><span class="gp">$   </span>curl <span class="s1">'https://ci.example.com/go/api/admin/templates'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v4+json'</span> <span class="se">\</span>
      -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
      -X POST -d <span class="s1">'{
        "name": "template",
        "stages": [
          {
            "name": "defaultStage",
            "fetch_materials": true,
            "clean_working_directory": false,
            "never_cleanup_artifacts": false,
            "environment_variables": [],
            "jobs": [
              {
                "name": "defaultJob",
                "run_instance_count": null,
                "elastic_profile_id": "elastic_profile_id",
                "timeout": 0,
                "environment_variables": [],
                "resources": [],
                "tasks": [
                  {
                    "type": "exec",
                    "attributes": {
                      "run_if": [
                        "passed"
                      ],
                      "command": "ls",
                      "working_directory": null
                    }
                  }
                ],
                "artifacts": [
                  {
                    "type": "external",
                    "artifact_id": "docker-image",
                    "store_id": "dockerhub",
                    "configuration": [
                      {
                        "key": "Image",
                        "value": "goose"
                      },
                      {
                        "key": "Tag",
                        "value": "v${GO_PIPELINE_LABEL}"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "name": "s2",
            "jobs": [
              {
                "name": "j2",
                "tasks": [
                  {
                    "type": "fetch",
                    "attributes": {
                      "origin": "external",
                      "pipeline": "",
                      "stage": "defaultStage",
                      "job": "defaultJob",
                      "artifact_id": "docker-image"
                    }
                  }
                ]
              }
            ]
          }
        ]
      }'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v4+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/templates/template"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#template-config"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/templates/:template_name"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"template"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"stages"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"defaultStage"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fetch_materials"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"clean_working_directory"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"never_cleanup_artifacts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"approval"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"authorization"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"roles"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
        </span><span class="nt">"users"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"environment_variables"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"jobs"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"defaultJob"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"run_instance_count"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"timeout"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"environment_variables"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"resources"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"tasks"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"exec"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"attributes"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"run_if"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"passed"</span><span class="w"> </span><span class="p">],</span><span class="w">
          </span><span class="nt">"command"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ls"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"args"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"tabs"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"artifacts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"external"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"artifact_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"docker-image"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"store_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"dockerhub"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"configuration"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"key"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Image"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"gocd/gocd-server"</span><span class="w">
        </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"key"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Tag"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"v${GO_PIPELINE_LABEL}"</span><span class="w">
        </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"properties"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"s2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fetch_materials"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"clean_working_directory"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"never_cleanup_artifacts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"approval"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"authorization"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"roles"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
        </span><span class="nt">"users"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"environment_variables"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"jobs"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"j2"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"run_instance_count"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"timeout"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"environment_variables"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"resources"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"tasks"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"fetch"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"attributes"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"origin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"external"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"pipeline"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="nt">"stage"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"defaultStage"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"job"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"defaultJob"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"run_if"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
          </span><span class="nt">"artifact_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"docker-image"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"tabs"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"artifacts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"properties"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Creates a template config object.</p>

<p class='available-since'>
  Available since v16.10.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">POST /go/api/admin/templates</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A new <a href="#the-template-config-object">template</a> object.</p>

<h2 id="edit-template-config">Edit template config</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/templates/template'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v4+json'</span> <span class="se">\</span>
      -H <span class="s1">'If-Match: "05548388f7ef5042cd39f7fe42e85735"'</span> <span class="se">\</span>
      -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
      -X PUT -d <span class="s1">'{
        "name": "template",
        "stages": [
          {
            "name": "defaultStage",
            "fetch_materials": true,
            "clean_working_directory": false,
            "never_cleanup_artifacts": false,
            "environment_variables": [],
            "jobs": [
              {
                "name": "defaultJob",
                "run_instance_count": null,
                "elastic_profile_id": "elastic_profile_id",
                "timeout": 0,
                "environment_variables": [],
                "resources": [],
                "tasks": [
                  {
                    "type": "exec",
                    "attributes": {
                      "run_if": [
                        "passed"
                      ],
                      "command": "ls",
                      "working_directory": null
                    }
                  }
                ],
                "artifacts": [
                  {
                    "type": "external",
                    "artifact_id": "docker-image",
                    "store_id": "dockerhub",
                    "configuration": [
                      {
                        "key": "Image",
                        "value": "goose"
                      },
                      {
                        "key": "Tag",
                        "value": "v${GO_PIPELINE_LABEL}"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          {
            "name": "s2",
            "jobs": [
              {
                "name": "j2",
                "tasks": [
                  {
                    "type": "fetch",
                    "attributes": {
                      "origin": "external",
                      "pipeline": "",
                      "stage": "defaultStage",
                      "job": "defaultJob",
                      "artifact_id": "docker-image"
                    }
                  }
                ]
              }
            ]
          }
        ]
      }'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v4+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"e89135b38ddbcd9380c83eb524647bdd"</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/templates/template"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#template-config"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/templates/:template_name"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"template"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"stages"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"defaultStage"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fetch_materials"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"clean_working_directory"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"never_cleanup_artifacts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"approval"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"authorization"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"roles"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
        </span><span class="nt">"users"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"environment_variables"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"jobs"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"defaultJob"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"run_instance_count"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"timeout"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"environment_variables"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"resources"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"tasks"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"exec"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"attributes"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"run_if"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"passed"</span><span class="w"> </span><span class="p">],</span><span class="w">
          </span><span class="nt">"command"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"ls"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"args"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"tabs"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"artifacts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"external"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"artifact_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"docker-image"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"store_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"dockerhub"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"configuration"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"key"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Image"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"gocd/gocd-server"</span><span class="w">
        </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"key"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Tag"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"v${GO_PIPELINE_LABEL}"</span><span class="w">
        </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"properties"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"s2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"fetch_materials"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"clean_working_directory"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"never_cleanup_artifacts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"approval"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"authorization"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"roles"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
        </span><span class="nt">"users"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"environment_variables"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
    </span><span class="nt">"jobs"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"j2"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"run_instance_count"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"timeout"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
      </span><span class="nt">"environment_variables"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"resources"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"tasks"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"fetch"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"attributes"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"origin"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"external"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"pipeline"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="nt">"stage"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"defaultStage"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"job"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"defaultJob"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"run_if"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
          </span><span class="nt">"artifact_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"docker-image"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"tabs"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"artifacts"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"properties"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Update template config for specified template name.</p>

<aside class="notice">
  <strong>Note:</strong>
  The update template config API requires that you submit the <code>If-Match</code>
  header with the latest ETag value that is representative of the current
  template resource.
  <br/><br/>
  This is required in order to avoid the &ldquo;lost update&rdquo; problem, where a client
  `GET`s a resource&rsquo;s state, modifies it and `PUT`s it back to the server, while
  another user has modified the state of the template config, leading to a
  conflict.
</aside>

<p class='available-since'>
  Available since v16.10.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">PUT /go/api/admin/template/:template_name</code></p>

<p class='http-request-return-description'>Returns</p>

<p>The updated <a href="#the-template-config-object">template</a> object.</p>

<h2 id="delete-a-template">Delete a template</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/templates/template_name'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v4+json'</span> <span class="se">\</span>
      -X DELETE

</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v4+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The template 'template_name' was deleted successfully."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Deletes a template from the config XML if it is not associated with any pipeline.</p>

<p class='available-since'>
  Available since v16.10.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">DELETE /go/api/admin/templates/:template_name</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A message confirmation if the template was deleted.</p>

<h2 id="get-template-authorization">Get template authorization</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl -i <span class="s1">'https://ci.example.com/go/api/admin/templates/template_name/authorization'</span> <span class="se">\</span>
-u <span class="s1">'username:password'</span> <span class="se">\</span>
-H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span>

</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"all_group_admins_are_view_users"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"admin"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"xyz"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">

    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"view"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">

    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"user"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Returns template authorization for the specified template name.</p>

<aside class="notice">
  <strong>Note:</strong> Please remember to save the value of the `ETag` header
  for conditional posts, see the
  <a href='#update-template-authorization'>update template authorization</a>
  documentation for more details.
</aside>

<p class='available-since'>
  Available since v18.2.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/admin/templates/:template_name/authorization</code></p>

<p class='http-request-return-description'>Returns</p>

<p>The template <a href="#the-template-authorization-object">authorization</a> object.</p>

<h2 id="update-template-authorization">Update template authorization</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/templates/template_name/authorization'</span> <span class="se">\</span>
-u <span class="s1">'username:password'</span> <span class="se">\</span>
-H <span class="s1">'Accept:  application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
-H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
-H <span class="s1">'If-Match: "d124ed4db70c23110924f488a031c8c9"'</span> <span class="se">\</span>
-X PUT -d <span class="s1">'{
"all_group_admins_are_view_users": true,
"admin": {
  "roles": [],
  "users": [
    "user"
  ]
},
"view": {
  "roles": [
    "xyz"
  ],
  "users": [
    "view"
  ]
}
}'</span>

</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"all_group_admins_are_view_users"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"admin"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">

    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"user"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"view"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"xyz"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"view"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Update template authorization for the specified template.</p>

<aside class="notice">
  <strong>Note:</strong>
  The update template authorization API requires that you submit the <code>If-Match</code>
  header with the latest ETag value that is representative of the current
  template resource.
  <br/><br/>
  This is required in order to avoid the &ldquo;lost update&rdquo; problem, where a client
  `GET`s a resource&rsquo;s state, modifies it and `PUT`s it back to the server, while
  another user has modified the state of the template config, leading to a
  conflict.
</aside>

<p class='available-since'>
  Available since v18.2.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">PUT /go/api/admin/templates/:template_name/authorization</code></p>

<p class='http-request-return-description'>Returns</p>

<p>The template <a href="#the-template-authorization-object">authorization</a> object.</p>

          <h1 id="pipeline-group-config">Pipeline Group Config</h1>

<p>The Pipeline Group Config API allows admin users to manage pipeline groups.</p>

<p><h2 id="the-pipeline-group-object">The pipeline group object</h2></p>

<p class='available-since'>
  Available since v18.10.0.
</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code></td>
<td>String</td>
<td>The name of the pipeline group.</td>
</tr>
<tr>
<td><code class="prettyprint">authorization</code></td>
<td>Object</td>
<td>The <a href="#the-pipeline-group-authorization-configuration">authorization configuration</a> for the pipeline group.</td>
</tr>
<tr>
<td><code class="prettyprint">pipelines</code></td>
<td>Array</td>
<td>The list of pipelines that belong to the pipeline group.</td>
</tr>
</tbody></table>

<h2 id="the-pipeline-group-authorization-configuration">The pipeline group authorization configuration</h2>

<p class='available-since'>
  Available since v18.10.0.
</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">view</code></td>
<td>Object</td>
<td>The list of <code class="prettyprint">users</code> and <code class="prettyprint">roles</code> with view permission for this pipeline group.</td>
</tr>
<tr>
<td><code class="prettyprint">operate</code></td>
<td>Object</td>
<td>The list of <code class="prettyprint">users</code> and <code class="prettyprint">roles</code> with operate permission for this pipeline group.</td>
</tr>
<tr>
<td><code class="prettyprint">admins</code></td>
<td>Object</td>
<td>The list of <code class="prettyprint">users</code> and <code class="prettyprint">roles</code> with admin permission for this pipeline group.</td>
</tr>
</tbody></table>

<h2 id="get-all-pipeline-groups">Get all pipeline groups</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/pipeline_groups'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/pipeline_groups"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.go.cd/current/#pipeline-group-config"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/pipeline_groups/:group"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"_embedded"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"groups"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/pipeline_groups/first"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"doc"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.go.cd/current/#pipeline-group-config"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"find"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/pipeline_groups/:group"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"first"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"authorization"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"view"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"users"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"operate"</span><span class="w"> </span><span class="p">],</span><span class="w">
          </span><span class="nt">"roles"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"admins"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"users"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"operate"</span><span class="w"> </span><span class="p">],</span><span class="w">
          </span><span class="nt">"roles"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"pipelines"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/pipelines/up42"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"doc"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#pipeline-config"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"find"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/pipelines/:pipeline_name"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"up42"</span><span class="w">
      </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='available-since'>
  Available since v18.10.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/admin/pipeline_groups</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A list of <a href="#the-pipeline-group-object">pipeline group objects</a>.</p>

<h2 id="get-a-pipeline-group">Get a pipeline group</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/pipeline_groups/first'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"17f5a9edf150884e5fc4315b4a7814cd"</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/pipeline_groups/first"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.go.cd/current/#pipeline-group-config"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/pipeline_groups/:group"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"first"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"authorization"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"view"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"users"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"operate"</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"roles"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"admins"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"users"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"operate"</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"roles"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"pipelines"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/pipelines/up42"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"doc"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#pipeline-config"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"find"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/pipelines/:pipeline_name"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"up42"</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Gets config for specified pipeline group.</p>

<aside class="notice">
  <strong>Note:</strong> Please remember to save the value of the `ETag` header for conditional posts, see the <a href='#update-a-pipeline-group'>update pipeline group</a> documentation for more details.
</aside>

<p class='available-since'>
  Available since v18.10.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/admin/pipeline_groups/:group_name</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A <a href="#the-pipeline-group-object">pipeline group object</a>.</p>

<h2 id="create-a-pipeline-group">Create a pipeline group</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/pipeline_groups'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
      -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
      -X POST -d <span class="s1">'{
        "name": "second",
        "authorization": {
          "view": {
            "users": ["alice"],
            "roles": ["role"]
          },
          "operate": {
            "users": ["alice"]
          },
          "admins": {
            "users": ["bob"]
          }
        }
      }'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"f35e562b555dbbba2c92f44ebcf58c83"</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/pipeline_groups/second"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.go.cd/current/#pipeline-group-config"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://ci.example.com/go/api/admin/pipeline_groups/:group_name"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"second"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"authorization"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"view"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"alice"</span><span class="p">],</span><span class="w">
      </span><span class="nt">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"role"</span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"operate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"alice"</span><span class="p">],</span><span class="w">
      </span><span class="nt">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"admins"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"bob"</span><span class="p">],</span><span class="w">
      </span><span class="nt">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"pipelines"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Create a pipeline group.</p>

<aside class="notice">
  <strong>Note:</strong> This endpoint will not create pipelines, please use the <a href="#create-a-pipeline">pipeline config API</a> to create them once the group is created.
</aside>

<p class='available-since'>
  Available since v18.10.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">POST /go/api/admin/pipeline_groups</code></p>

<p class='http-request-return-description'>Returns</p>

<p>The new <a href="#the-pipeline-group-object">pipeline group object</a>.</p>

<h2 id="update-a-pipeline-group">Update a pipeline group</h2>

<p>Update authorization config of the specified pipeline group.</p>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/pipeline_groups/first'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
      -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
      -H <span class="s1">'If-Match: "17f5a9edf150884e5fc4315b4a7814cd"'</span> <span class="se">\</span>
      -X PUT <span class="se">\</span>
      -d <span class="s1">'{
        "name": "first",
        "authorization": {
          "view": {
            "users": ["alice"],
            "roles": ["role"]
          },
          "operate": {
            "users": ["alice"]
          },
          "admins": {
            "users": ["bob"]
          }
        }
      }'</span>

</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"ae1d9184358c297a23118fe0e0e64c50"</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/pipeline_groups/first"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.go.cd/current/#pipeline-group-config"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/pipeline_groups/:group"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"first"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"authorization"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"view"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"users"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"alice"</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"roles"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"role"</span><span class="w"> </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"operate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"users"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"alice"</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"roles"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"admins"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"users"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"bob"</span><span class="w"> </span><span class="p">],</span><span class="w">
      </span><span class="nt">"roles"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"pipelines"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/pipelines/up42"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"doc"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#pipeline-config"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"find"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/pipelines/:pipeline_name"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"up42"</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<aside class="notice">
  <strong>Note:</strong>
  The update pipeline group API requires that you submit the <code>If-Match</code>
  header with the latest ETag value that is representative of the current
  role.
  <br/><br/>
  This is required in order to avoid the &ldquo;lost update&rdquo; problem, where a client
  `GET`s a resource&rsquo;s state, modifies it and `PUT`s it back to the server, while
  another user has modified the state of the pipeline group config, leading to a
  conflict.
</aside>

<p class='available-since'>
  Available since v18.10.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">PUT /go/api/admin/pipeline_groups/:group_name</code></p>

<p class='http-request-return-description'>Returns</p>

<p>The updated <a href="#the-pipeline-group-object">pipeline group object</a>.</p>

<h2 id="delete-a-pipeline-group">Delete a pipeline group</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/pipeline_groups/first'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
      -X DELETE
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Pipeline group 'first' was deleted successfully."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Deletes the pipeline group.</p>

<aside class="notice">
  <strong>Note:</strong> This endpoint only deletes an empty pipeline group (without any pipelines). Use the <a href="#delete-a-pipeline">pipeline config API</a> to delete them first before deleting the group.
</aside>

<p class='available-since'>
  Available since v18.10.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">DELETE /go/api/admin/pipeline_groups/:group_name</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A message confirmation if the pipeline group was deleted.</p>

          <h1 id="version">Version</h1>

<p>The Version API allows users to get the GoCD server version details.</p>

<h2 id="the-version-object">The version object</h2>

<p class='available-since'>
  Available since v16.6.0.
</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">version</code></td>
<td>String</td>
<td>The GoCD server version.</td>
</tr>
<tr>
<td><code class="prettyprint">build_number</code></td>
<td>Integer</td>
<td>The GoCD server build number.</td>
</tr>
<tr>
<td><code class="prettyprint">git_sha</code></td>
<td>String</td>
<td>The git SHA from which this server version was built.</td>
</tr>
<tr>
<td><code class="prettyprint">full_version</code></td>
<td>String</td>
<td>The GoCD server full version.</td>
</tr>
<tr>
<td><code class="prettyprint">commit_url</code></td>
<td>String</td>
<td>TThe GitHub url to the <code class="prettyprint">git_sha</code>.</td>
</tr>
</tbody></table>

<h2 id="get-version">Get version</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/version'</span> <span class="se">\</span>
    -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://build.go.cd/go/api/version"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#version"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16.6.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"build_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3348"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"git_sha"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a7a5717cbd60c30006314fb8dd529796c93adaf0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"full_version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16.6.0 (3348-a7a5717cbd60c30006314fb8dd529796c93adaf0)"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"commit_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://github.com/gocd/gocd/commits/a7a5717cbd60c30006314fb8dd529796c93adaf0"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Gets the current GoCD server details</p>

<p class='available-since'>
  Available since v16.6.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/version</code></p>

<p class='http-request-return-description'>Returns</p>

<p>The <a href="#the-version-object">version object</a>.</p>

          <h1 id="environment-config">Environment Config</h1>

<p>The environment config API allows users with administrator role to manage environment config.</p>

<h2 id="the-environment-config-object">The environment config object</h2>

<p class='available-since'>
  Available since v16.7.0.
</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code></td>
<td>String</td>
<td>The name of environment.</td>
</tr>
<tr>
<td><code class="prettyprint">pipelines</code></td>
<td>Array</td>
<td>List of pipeline names that should be added to this environment.</td>
</tr>
<tr>
<td><code class="prettyprint">agents</code></td>
<td>Array</td>
<td>List of agent uuids that should be added to this environment.</td>
</tr>
<tr>
<td><code class="prettyprint">environment_variables</code></td>
<td>Array</td>
<td>The list of <a href="#pipeline-config-environment-variables">environment variables</a> that will be passed to all tasks (commands) that are part of this environment.</td>
</tr>
</tbody></table>

<h2 id="get-all-environments">Get all environments</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/environments'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v2+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v2+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"3924a894cf0e5bef02abe9de0df3bb84"</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/environments"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#environment-config"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"_embedded"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"environments"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/environments/foobar"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#environment-config"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/environments/:environment_name"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foobar"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"pipelines"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/pipelines/up42"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#pipeline-config"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/pipelines/:pipeline_name"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"up42"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"agents"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/agents/adb9540a-b954-4571-9d9b-2f330739d4da"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#agents"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/agents/:uuid"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678-e2f6-4c78-123456789012"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"environment_variables"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"encrypted_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LSd1TI0eLa+DjytHjj0qjA=="</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Lists all available environments.</p>

<p class='available-since'>
  Available since v16.7.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/admin/environments</code></p>

<p class='http-request-return-description'>Returns</p>

<p>An array of <a href="#the-environment-config-object">environment config objects</a>.</p>

<h2 id="get-environment-config">Get environment config</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/environments/my_environment'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v2+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v2+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"4167e3ec81fdac0fb29d854b36ceb981"</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/environments/my_environment"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#environment-config"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/environments/:environment_name"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_environment"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"pipelines"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/pipelines/up42"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#pipeline-config"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/pipelines/:pipeline_name"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"up42"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"agents"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/agents/adb9540a-b954-4571-9d9b-2f330739d4da"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#agents"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/agents/:uuid"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678-e2f6-4c78-123456789012"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"environment_variables"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"encrypted_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LSd1TI0eLa+DjytHjj0qjA=="</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Gets environment config for specified environment name.</p>

<aside class="notice">
  <strong>Note:</strong> Please remember to save the value of the `ETag` header
  for conditional posts, see the
  <a href='#update-an-environment'>edit environment config</a>
  documentation for more details.
</aside>

<p class='available-since'>
  Available since v16.7.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/admin/environments/:environment_name</code></p>

<p class='http-request-return-description'>Returns</p>

<p>The <a href="#the-environment-config-object">environment config object</a>.</p>

<h2 id="create-an-environment">Create an environment</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/environments'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v2+json'</span> <span class="se">\</span>
      -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
      -X POST -d <span class="s1">'{
        "name" : "new_environment",
        "pipelines" : [
          {
          "name" : "up2"
          }
        ],
        "agents" : [
          {
            "uuid" : "12345678-e2f6-4c78-123456789012"
          }
        ],
        "environment_variables" : [
          {
            "name" : "username",
            "value" : "admin",
            "secure" : false
          }
        ]
      }'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v2+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"d3b07384d113edec49eaa6238ad5ff00"</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/environments/new_environment"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#environment-config"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/environments/:environment_name"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new_environment"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"pipelines"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/pipelines/up42"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#pipeline-config"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/pipelines/:pipeline_name"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"up42"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"agents"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/agents/12345678-e2f6-4c78-123456789012"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#agents"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/agents/:uuid"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678-e2f6-4c78-123456789012"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"environment_variables"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"encrypted_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LSd1TI0eLa+DjytHjj0qjA=="</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Creates an environment</p>

<p class='available-since'>
  Available since v16.7.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">POST /go/api/admin/environments</code></p>

<p>The following properties may be specified:</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code></td>
<td>String</td>
<td>The environment config name.</td>
</tr>
<tr>
<td><code class="prettyprint">pipelines</code></td>
<td>Array</td>
<td>The list of pipeline names that belongs to the specified environment.</td>
</tr>
<tr>
<td><code class="prettyprint">agents</code></td>
<td>Array</td>
<td>The list of agent uuids that belongs to the specified environment.</td>
</tr>
<tr>
<td><code class="prettyprint">environment_variables</code></td>
<td>Array</td>
<td>The list of <a href="#the-environment-variable-object">environment variables</a> that will be passed to all tasks (commands) that are part of this environment.</td>
</tr>
</tbody></table>

<p class='http-request-return-description'>Returns</p>

<p>An <a href="#the-environment-config-object">environment config object</a>.</p>

<h2 id="update-an-environment">Update an environment</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/environments/new_environment'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v2+json'</span> <span class="se">\</span>
      -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
      -H <span class="s1">'If-Match: "26b227605daf6f2d7768c8edaf61b861"'</span> <span class="se">\</span>
      -X PUT <span class="se">\</span>
      -d <span class="s1">'{
        "name" : "new_environment",
        "pipelines" : [ { "name" : "pipeline1" } ]
      }'</span>

</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v2+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"4167e3ec81fdac0fb29d854b36ceb981"</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/environments/new_environment"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#environment-config"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/environments/:environment_name"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new_environment"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"pipelines"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/pipelines/pipeline1"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#pipeline-config"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/pipelines/:pipeline_name"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"up42"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"agents"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">

  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"environment_variables"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">

  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Update some attributes of an environment.</p>

<aside class="notice">
  <strong>Note:</strong>
  The update environment API requires that you submit the <code>If-Match</code>
  header with the latest ETag value that is representative of the current
  environment config resource.
  <br/><br/>
  This is required in order to avoid the &ldquo;lost update&rdquo; problem, where a client
  `GET`s a resource&rsquo;s state, modifies it and `PUT`s it back to the server, while
  another user has modified the state of the environment config, leading to a
  conflict.
</aside>

<p class='available-since'>
  Available since v16.7.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">PUT /go/api/admin/environments/:environment_name</code></p>

<p>All of the following properties must be specified. Not specifying a property will either fail the request or make that value blank during the update.</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code></td>
<td>String</td>
<td>The name of environment.</td>
</tr>
<tr>
<td><code class="prettyprint">pipelines</code></td>
<td>Array</td>
<td>List of pipeline names that should be part of this environment.</td>
</tr>
<tr>
<td><code class="prettyprint">agents</code></td>
<td>Array</td>
<td>List of agent uuids that should be part of this environment.</td>
</tr>
<tr>
<td><code class="prettyprint">environment_variables</code></td>
<td>Array</td>
<td>The list of <a href="#pipeline-config-environment-variables">environment variables</a> that will be passed to all tasks (commands) that are part of this environment.</td>
</tr>
</tbody></table>

<p class='http-request-return-description'>Returns</p>

<p>The updated <a href="#the-environment-config-object">environment config object</a>.</p>

<h2 id="patch-an-environment">Patch an environment</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/environments/new_environment'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v2+json'</span> <span class="se">\</span>
      -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
      -X PATCH <span class="se">\</span>
      -d <span class="s1">'{
      "pipelines": {
        "add": ["up42"],
        "remove": ["sample"]
      },
      "agents": {
        "add": ["12345678-e2f6-4c78-123456789012"],
        "remove": ["87654321-e2f6-4c78-123456789012"]
      },
      "environment_variables": {
          "add": [
            {
              "name": "GO_SERVER_URL",
              "value": "https://ci.example.com/go"
            }
          ],
          "remove": ["URL"]
      }
}'</span>

</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v2+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"4167e3ec81fdac0fb29d854b36ceb981"</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/environments/new_environment"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#environment-config"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/environments/:environment_name"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new_environment"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"pipelines"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/pipelines/pipeline1"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#pipeline-config"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/pipelines/:pipeline_name"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"up42"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"agents"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/agents/adb9540a-b954-4571-9d9b-2f330739d4da"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#agents"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/agents/:uuid"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678-e2f6-4c78-123456789012"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"environment_variables"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GO_SERVER_URL"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Update some attributes of an environment.</p>

<p class='available-since'>
  Available since v16.10.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">PATCH /go/api/admin/environments/:environment_name</code></p>

<p>At least one of the following properties must be specified, not specifying the property will leave it unchanged.</p>

<p><a id='the-environments-patch-operations'></a></p>

<h3 id="the-environments-patch-operation-attributes">The environments patch operation attributes</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"pipelines"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"add"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"Dev"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"Test"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"remove"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"Production"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"agents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"add"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"agent05"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"agent02"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"remove"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"agent01"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"environment_variables"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"add"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GO_SERVER_URL"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"remove"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"URL"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">pipelines</code></td>
<td>Object</td>
<td>The <a href="#the-environments-pipeline-update-operation">pipelines update operation</a> to be performed on the set of pipelines.</td>
</tr>
<tr>
<td><code class="prettyprint">agents</code></td>
<td>Object</td>
<td>The <a href="#the-environments-agent-update-operation">agents update operation</a> to be performed on the set of agents.</td>
</tr>
<tr>
<td><code class="prettyprint">environment_variables</code></td>
<td>Object</td>
<td>The <a href="#the-environments-environment-variables-update-operation">environment variables update operation</a> to be performed on the set of environment variables.</td>
</tr>
</tbody></table>

<p><a id='the-environments-pipeline-update-operation'></a></p>

<h3 id="the-environments-pipeline-update-operation-attributes">The environments pipeline-update operation attributes</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"add"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"Dev"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Test"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"remove"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"Production"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">add</code></td>
<td>Array</td>
<td>The list of pipelines which needs to be added to the specified environment.</td>
</tr>
<tr>
<td><code class="prettyprint">remove</code></td>
<td>Array</td>
<td>The list of pipelines which needs to be removed to the specified environment.</td>
</tr>
</tbody></table>

<p><a id='the-environments-agent-update-operation'></a></p>

<h3 id="the-environments-agent-update-operation-attributes">The environments agent-update operation attributes</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"add"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"agent05"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"agent02"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"remove"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"agent01"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">add</code></td>
<td>Array</td>
<td>The list of agents which needs to be added to the specified environment.</td>
</tr>
<tr>
<td><code class="prettyprint">remove</code></td>
<td>Array</td>
<td>The list of agents which needs to be removed to the specified environment.</td>
</tr>
</tbody></table>

<p><a id='the-environments-environment-variables-update-operation'></a></p>

<h3 id="the-environments-environment-variable-update-operation-attributes">The environments environment-variable-update operation attributes</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"add"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USERNAME"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"go-user"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PASSWORD"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"encrypted_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1f3rrs9uhn63hd"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"remove"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"URL"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">add</code></td>
<td>Array</td>
<td>The list of <a href="#pipeline-config-environment-variables">environment variables</a> which needs to be added to the specified environment.</td>
</tr>
<tr>
<td><code class="prettyprint">remove</code></td>
<td>Array</td>
<td>The list of environment variable names which needs to be removed to the specified environment.</td>
</tr>
</tbody></table>

<p class='http-request-return-description'>Returns</p>

<p>The updated <a href="#the-environment-config-object">environment config object</a>.</p>

<h2 id="delete-an-environment">Delete an environment</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/environments/my_environment'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v2+json'</span> <span class="se">\</span>
      -X DELETE
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v2+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Environment 'my_environment' was deleted successfully."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Deletes an environment.</p>

<p class='available-since'>
  Available since v16.7.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">DELETE /go/api/admin/environments/:environment_name</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A message confirmation if the environment was deleted.</p>

          <h1 id="elastic-agent-profiles">Elastic Agent Profiles</h1>

<p>The elastic agent profile API allows users with admin and group admin authorization to manage profiles that allow creation elastic agents.</p>

<h2 id="the-elastic-agent-profile-object">The elastic agent profile object</h2>

<p class='available-since'>
  Available since v16.11.0.
</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td>String</td>
<td>The identifier of the elastic agent profile.</td>
</tr>
<tr>
<td><code class="prettyprint">plugin_id</code></td>
<td>String</td>
<td>The plugin identifier of the elastic agent profile.</td>
</tr>
<tr>
<td><code class="prettyprint">properties</code></td>
<td>Array</td>
<td>The list of <a href="#the-configuration-property-object">configuration properties</a> that represent the configuration of this profile.</td>
</tr>
</tbody></table>

<h2 id="get-all-elastic-agent-profiles">Get all elastic agent profiles</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/elastic/profiles'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"32628084ef10b0c82a55f8f2f867d8d0"</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/elastic/profiles"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#elastic-agent-profiles"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/elastic/profiles/:profile_id"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"_embedded"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"profiles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/elastic/profiles/unit-tests"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#elastic-profiles"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/elastic/profiles/:profile_id"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unit-tests"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"plugin_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cd.go.contrib.elastic-agent.docker"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Image"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"alpine:latest"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Command"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Environment"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MaxMemory"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200M"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ReservedMemory"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"150M"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Lists all available elastic agent profiles.</p>

<p class='available-since'>
  Available since v16.11.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/elastic/profiles</code></p>

<p class='http-request-return-description'>Returns</p>

<p>An array of <a href="#the-elastic-agent-profile-object">elastic agent profiles</a>.</p>

<h2 id="get-an-elastic-agent-profile">Get an elastic agent profile</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/elastic/profiles/unit-tests'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"cbc5f2d5b9c13a2cc1b1efb3d8a6155d"</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/elastic/profiles/unit-tests"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#elastic-agent-profiles"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/elastic/profiles/:profile_id"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unit-tests"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"plugin_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cd.go.contrib.elastic-agent.docker"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Image"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gocdcontrib/gocd-dev-build"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Environment"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JAVA_HOME=/opt/java\nMAKE_OPTS=-j8"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Gets elastic agent profile config for specified profile.</p>

<aside class="notice">
  <strong>Note:</strong> Please remember to save the value of the `ETag` header for conditional posts, see the <a href='#update-an-elastic-agent-profile'>edit elastic agent profile</a> documentation for more details.
</aside>

<p class='available-since'>
  Available since v16.11.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/elastic/profiles/:profile_id</code></p>

<p class='http-request-return-description'>Returns</p>

<p>The <a href="#the-elastic-agent-profile-object">elastic agent profile object</a>.</p>

<h2 id="create-an-elastic-agent-profile">Create an elastic agent profile</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/elastic/profiles'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
      -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
      -X POST -d <span class="s1">'{
        "id": "unit-tests",
        "plugin_id": "cd.go.contrib.elastic-agent.docker",
        "properties": [
          {
            "key": "Image",
            "value": "gocdcontrib/gocd-dev-build"
          },
          {
            "key": "Environment",
            "value": "JAVA_HOME=/opt/java\nMAKE_OPTS=-j8"
          }
        ]
      }'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"cbc5f2d5b9c13a2cc1b1efb3d8a6155d"</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/elastic/profiles/unit-tests"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#elastic-profiles"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/elastic/profiles/:profile_id"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unit-tests"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"plugin_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cd.go.contrib.elastic-agent.docker"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Image"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gocdcontrib/gocd-dev-build"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Environment"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JAVA_HOME=/opt/java\nMAKE_OPTS=-j8"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Creates an elastic agent profile</p>

<p class='available-since'>
  Available since v16.11.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">POST /go/api/elastic/profiles</code></p>

<p class='http-request-return-description'>Returns</p>

<p>The <a href="#the-elastic-agent-profile-object">elastic agent profile object</a>.</p>

<h2 id="update-an-elastic-agent-profile">Update an elastic agent profile</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/elastic/profiles/unit-tests'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
      -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
      -H <span class="s1">'If-Match: "cbc5f2d5b9c13a2cc1b1efb3d8a6155d"'</span> <span class="se">\</span>
      -X PUT <span class="se">\</span>
      -d <span class="s1">'{
        "plugin_id": "cd.go.contrib.elastic-agent.docker",
        "properties": [
          {
            "key": "Image",
            "value": "gocdcontrib/gocd-dev-build:1.0.0"
          },
          {
            "key": "Environment",
            "value": "JAVA_HOME=/opt/java\nMAKE_OPTS=-j8"
          }
        ]
      }'</span>

</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"61406622382e51c2079c11dcbdb978fb"</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/elastic/profiles/unit-tests"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#elastic-agent-profiles"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/elastic/profiles/:profile_id"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"unit-tests"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"plugin_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cd.go.contrib.elastic-agent.docker"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Image"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gocdcontrib/gocd-dev-build:1.0.0"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Environment"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JAVA_HOME=/opt/java\nMAKE_OPTS=-j8"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Update some attributes of an elastic agent profile.</p>

<aside class="notice">
  <strong>Note:</strong>
  The update elastic agent profile API requires that you submit the <code>If-Match</code>
  header with the latest ETag value that is representative of the current
  elastic agent resource.
  <br/><br/>
  This is required in order to avoid the &ldquo;lost update&rdquo; problem, where a client
  `GET`s a resource&rsquo;s state, modifies it and `PUT`s it back to the server, while
  another user has modified the state of the elastic agent config, leading to a
  conflict.
</aside>

<p class='available-since'>
  Available since v16.11.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">PUT /go/api/elastic/profiles/:profile_id</code></p>

<p class='http-request-return-description'>Returns</p>

<p>The updated <a href="#the-elastic-agent-profile-object">elastic agent profile object</a>.</p>

<h2 id="delete-an-elastic-agent-profile">Delete an elastic agent profile</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/elastic/profiles/unit-tests'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
      -X DELETE
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Elastic agent profile 'unit-test' was deleted successfully."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Deletes the profile.</p>

<p class='available-since'>
  Available since v16.11.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">DELETE /go/api/elastic/profiles/:profile_id</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A message if the elastic agent profile is deleted or not.</p>

          <h1 id="plugin-info">Plugin Info</h1>

<p>The plugin info API allows users with administrator role to fetch information about installed plugins.</p>

<h2 id="the-plugin-info-object">The plugin info object</h2>

<p class='available-since'>
  Available since v16.7.0.
</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td>String</td>
<td>Plugin unique identifier.</td>
</tr>
<tr>
<td><code class="prettyprint">status</code></td>
<td>Object</td>
<td>The <a href="#plugin-status">status</a> of the plugin.</td>
</tr>
<tr>
<td><code class="prettyprint">plugin_file_location</code></td>
<td>String</td>
<td>The location where the plugin is installed.</td>
</tr>
<tr>
<td><code class="prettyprint">bundled_plugin</code></td>
<td>Boolean</td>
<td>Indicates whether the plugin is bundled with GoCD.</td>
</tr>
<tr>
<td><code class="prettyprint">about</code></td>
<td>Object</td>
<td><a href="#plugin-about">Additional details</a> about the plugin.</td>
</tr>
<tr>
<td><code class="prettyprint">extensions</code></td>
<td>Array</td>
<td>A list of <a href="#config-repo-extension-info">extension information</a> pertaining to the list of extensions the plugin implements.</td>
</tr>
</tbody></table>

<p><a id='plugin-status'></a></p>

<h3 id="the-plugin-status-object">The plugin status object</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"invalid"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"messages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"Plugin not supported"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">state</code></td>
<td>String</td>
<td>Status of the plugin. Can be one of <code class="prettyprint">active</code>, <code class="prettyprint">invalid</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">messages</code></td>
<td>Array</td>
<td>Array of messages stating the reason why the plugin isn&rsquo;t loaded. The messages are shown only if the status is  <em>invalid</em>.</td>
</tr>
</tbody></table>

<p><a id='plugin-vendor'></a></p>

<h3 id="the-plugin-vendor-object">The plugin vendor object</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GoCD contributors"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://thoughtworks.com"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code></td>
<td>String</td>
<td>Name of the plugin author.</td>
</tr>
<tr>
<td><code class="prettyprint">url</code></td>
<td>String</td>
<td>Link to know more details about the plugin author.</td>
</tr>
</tbody></table>

<p><a id='plugin-about'></a></p>

<h3 id="the-plugin-about-object">The plugin about object</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GitHub Pull Requests Builder"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.3.3"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"target_go_version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15.1.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plugin that polls a GitHub repository for pull requests and triggers a build for each of them"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"target_operating_systems"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">

  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"vendor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GoCD contributors"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://thoughtworks.com"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code></td>
<td>String</td>
<td>Name of the plugin.</td>
</tr>
<tr>
<td><code class="prettyprint">version</code></td>
<td>String</td>
<td>Version of the plugin that&rsquo;s installed.</td>
</tr>
<tr>
<td><code class="prettyprint">target_go_version</code></td>
<td>String</td>
<td>Minimal version of GoCD required for the plugin to work.</td>
</tr>
<tr>
<td><code class="prettyprint">description</code></td>
<td>String</td>
<td>Short description about what the plugin does.</td>
</tr>
<tr>
<td><code class="prettyprint">target_operating_systems</code></td>
<td>Array</td>
<td>List of operating systems on which the plugin is expected to work.</td>
</tr>
<tr>
<td><code class="prettyprint">vendor</code></td>
<td>Object</td>
<td>Details about the <a href="#plugin-vendor">plugin author</a>.</td>
</tr>
</tbody></table>

<p><a id='config-repo-extension-info'></a></p>

<h3 id="extension-information-object-config-repo">Extension information object: Config repo</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"extensions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"configrepo"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"plugin_settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"configurations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"url"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
              </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"view"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"template"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;div&gt;Plugin view template&lt;/div&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">type</code></td>
<td>String</td>
<td>The type of the extension, which is <code class="prettyprint">configrepo</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">plugin_settings</code></td>
<td>Object</td>
<td>The <a href="#the-plugin-info-view-object">html view</a> for the plugin and the list of <a href="#the-plugin-info-configurations-object">properties</a> required to be configured.</td>
</tr>
</tbody></table>

<p><a id='elastic-agent-extension-info'></a></p>

<h3 id="extension-information-object-elastic-agent">Extension information object: Elastic agent</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"extensions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"elastic"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"plugin_settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"configurations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"InstanceType"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
              </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"view"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"template"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;div&gt;Plugin view template&lt;/div&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"profile_settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"configurations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Image"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
              </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"view"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"template"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;div&gt;Profile view template&lt;/div&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"capabilities"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"supports_status_report"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">type</code></td>
<td>String</td>
<td>The type of the extension, which is <code class="prettyprint">elastic</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">plugin_settings</code></td>
<td>Object</td>
<td>The <a href="#the-plugin-info-view-object">html view</a> for the plugin and the list of <a href="#the-plugin-info-configurations-object">properties</a> required to be configured.</td>
</tr>
<tr>
<td><code class="prettyprint">profile_settings</code></td>
<td>Object</td>
<td>The <a href="#the-plugin-info-view-object">html view</a> for the profile and the list of <a href="#the-plugin-info-configurations-object">properties</a> that can be used to configure a elastic profile.</td>
</tr>
<tr>
<td><code class="prettyprint">capabilities</code></td>
<td>Object</td>
<td>The <a href="#elastic-agent-capabilites-object">capabilities</a> object indicates the enhancements that a plugin provides.</td>
</tr>
</tbody></table>

<p><a id='auth-extension-info'></a></p>

<h3 id="extension-information-object-authorization">Extension information object: Authorization</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"extensions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"authorization"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"auth_config_settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"configurations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Id"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
              </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"view"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"template"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;div&gt;Auth view template&lt;/div&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"role_settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"configurations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Name"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
              </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"view"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"template"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;div&gt;Role view template&lt;/div&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"capabilities"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"can_search"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"supported_auth_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"can_authorize"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">type</code></td>
<td>String</td>
<td>The type of the extension, which is <code class="prettyprint">authorization</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">auth_config_settings</code></td>
<td>Object</td>
<td>The <a href="#the-plugin-info-view-object">html view</a> for auth config and the list of <a href="#the-plugin-info-configurations-object">properties</a> that can be used to configure auth configs.</td>
</tr>
<tr>
<td><code class="prettyprint">role_settings</code></td>
<td>Object</td>
<td>The <a href="#the-plugin-info-view-object">html view</a> for role config and the list of <a href="#the-plugin-info-configurations-object">properties</a> that can be used to configure role configs.</td>
</tr>
<tr>
<td><code class="prettyprint">capabilities</code></td>
<td>Object</td>
<td>The <a href="#authorization-capabilites-object">capabilities</a> object indicates the enhancements that a plugin provides.</td>
</tr>
</tbody></table>

<p><a id='scm-extension-info'></a></p>

<h3 id="extension-information-object-scm">Extension information object: SCM</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"extensions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"scm"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Github"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"scm_settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"configurations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"url"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
              </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="nt">"part_of_identity"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"view"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"template"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;div&gt;Scm view template&lt;/div&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">type</code></td>
<td>String</td>
<td>The type of the extension, which is <code class="prettyprint">scm</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">display_name</code></td>
<td>String</td>
<td>The descriptive name of the plugin.</td>
</tr>
<tr>
<td><code class="prettyprint">scm_settings</code></td>
<td>Object</td>
<td>The <a href="#the-plugin-info-view-object">html view</a> for pluggable scm and the list of <a href="#scm-configurations">properties</a> that can be used to configure the pluggable scm material.</td>
</tr>
</tbody></table>

<p><a id='task-extension-info'></a></p>

<h3 id="extension-information-object-task">Extension information object: Task</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"extensions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"task"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Task"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"task_settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"configurations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"script"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
              </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"view"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"template"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;div&gt;task view template&lt;/div&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">type</code></td>
<td>String</td>
<td>The type of the extension, which is <code class="prettyprint">task</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">display_name</code></td>
<td>String</td>
<td>The descriptive name of the plugin.</td>
</tr>
<tr>
<td><code class="prettyprint">task_settings</code></td>
<td>Object</td>
<td>The <a href="#the-plugin-info-view-object">html view</a> for pluggable task and the list of <a href="#the-plugin-info-configurations-object">properties</a> that can be used to configure the pluggable task.</td>
</tr>
</tbody></table>

<p><a id='pkg-repo-extension-info'></a></p>

<h3 id="extension-information-object-package-repo">Extension information object: Package repo</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"extensions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"package-repository"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"package_settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"configurations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PACKAGE_SPEC"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
              </span><span class="nt">"display_order"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
              </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="nt">"part_of_identity"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
              </span><span class="nt">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Package Spec"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"repository_settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"configurations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REPO_URL"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
              </span><span class="nt">"display_order"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
              </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
              </span><span class="nt">"part_of_identity"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
              </span><span class="nt">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Repository URL"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">type</code></td>
<td>String</td>
<td>The type of the extension, which is <code class="prettyprint">package-repository</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">package_settings</code></td>
<td>Object</td>
<td>The list of <a href="#package-repository-configurations">properties</a> that can be used to configure a package material. A form is created for the user based on these properties. No request is currently made to fetch the view for package settings.</td>
</tr>
<tr>
<td><code class="prettyprint">repository_settings</code></td>
<td>Object</td>
<td>The list of <a href="#package-repository-configurations">properties</a> that can be used to configure package repositories. A form is created for the user based on these properties. No request is currently made to fetch the view for repository settings.</td>
</tr>
</tbody></table>

<p><a id='notification-extension-info'></a></p>

<h3 id="extension-information-object-notification">Extension information object: Notification</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"extensions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"notification"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"plugin_settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"configurations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"url"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
              </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"view"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"template"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;div&gt;Plugin view template&lt;/div&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">type</code></td>
<td>String</td>
<td>The type of the extension, which is <code class="prettyprint">notification</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">plugin_settings</code></td>
<td>Object</td>
<td>The <a href="#the-plugin-info-view-object">html view</a> for the plugin and the list of <a href="#the-plugin-info-configurations-object">properties</a> required to be configured.</td>
</tr>
</tbody></table>

<p><a id='analytics-extension-info'></a></p>

<h3 id="extension-information-object-analytics">Extension information object: Analytics</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"extensions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"analytics"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"plugin_settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"configurations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"analytics_source_url"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
              </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"view"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"template"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;div&gt;Plugin view template&lt;/div&gt;"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"capabilities"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"supported_analytics"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pipeline"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pipeline_duration"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pipeline Duration"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">type</code></td>
<td>String</td>
<td>The type of the extension, which is <code class="prettyprint">analytics</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">plugin_settings</code></td>
<td>Object</td>
<td>The <a href="#the-plugin-info-view-object">html view</a> for the plugin and the list of <a href="#the-plugin-info-configurations-object">properties</a> required to be configured.</td>
</tr>
<tr>
<td><code class="prettyprint">capabilities</code></td>
<td>Object</td>
<td>The <a href="#analytics-capabilites-object">capabilities</a> object indicates the enhancements that a plugin provides.</td>
</tr>
</tbody></table>

<p><a id='plugin-info-configurations'></a></p>

<h3 id="the-plugin-info-configurations-object">The plugin info configurations object</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"configurations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"url"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">key</code></td>
<td>String</td>
<td>Describes the configuration key.</td>
</tr>
<tr>
<td><code class="prettyprint">metadata</code></td>
<td>Object</td>
<td>Metadata for the configuration property. The metadata consists of attributes <code class="prettyprint">secure</code>, <code class="prettyprint">required</code>. The attributes for <a href="#the-package-repository-configurations-object">package-repository</a> and <a href="#the-scm-configurations-object">scm</a> plugins are given below.</td>
</tr>
</tbody></table>

<p><a id='package-repository-configurations'></a></p>

<h3 id="the-package-repository-configurations-object">The package repository configurations object</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"configurations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REPO_URL"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"display_order"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"part_of_identity"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Repository URL"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">key</code></td>
<td>String</td>
<td>Describes the configuration key for a repository configuration property.</td>
</tr>
<tr>
<td><code class="prettyprint">metadata</code></td>
<td>Object</td>
<td>Metadata for the configuration property.</td>
</tr>
</tbody></table>

<p><a id='scm-configurations'></a></p>

<h3 id="the-scm-configurations-object">The scm configurations object</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"configurations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REPO_URL"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"part_of_identity"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">key</code></td>
<td>String</td>
<td>Describes the configuration key for a repository configuration property.</td>
</tr>
<tr>
<td><code class="prettyprint">metadata</code></td>
<td>Object</td>
<td>Metadata for the configuration property.</td>
</tr>
</tbody></table>

<p><a id='plugin-info-view'></a></p>

<h3 id="the-plugin-info-view-object">The plugin info view object</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"view"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"template"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;div&gt;Plugin view template&lt;/div&gt;"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">template</code></td>
<td>String</td>
<td>The plugin Angular.js view template.</td>
</tr>
</tbody></table>

<p><a id='elastic-agent-capabilites-object'></a></p>

<h3 id="the-elastic-agents-capabilities-object">The Elastic Agents Capabilities object</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"capabilities"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"supports_status_report"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"supports_agent_status_report"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">supports_status_report</code></td>
<td>Boolean</td>
<td>Indicates if plugin supports plugin level status report.</td>
</tr>
<tr>
<td><code class="prettyprint">supports_agent_status_report</code></td>
<td>Boolean</td>
<td>Indicates if plugin supports status report for a specific agent.</td>
</tr>
</tbody></table>

<p><a id='authorization-capabilites-object'></a></p>

<h3 id="the-authorization-capabilities-object">The Authorization Capabilities object</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"capabilities"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"can_search"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"supported_auth_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"can_authorize"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">can_search</code></td>
<td>Boolean</td>
<td>Indicates if plugin supports user search.</td>
</tr>
<tr>
<td><code class="prettyprint">supported_auth_type</code></td>
<td>String</td>
<td>Specifies the type of authentication supported, can be one of <code class="prettyprint">password</code> or <code class="prettyprint">web</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">can_authorize</code></td>
<td>Boolean</td>
<td>Indicates if plugin supports authorization.</td>
</tr>
</tbody></table>

<p><a id='analytics-capabilites-object'></a></p>

<h3 id="the-analytics-capabilities-object">The Analytics Capabilities object</h3>

<h4 id="the-analytics-capablities-contains-a-list-of-supported_analytics-with-the-following-attributes">The analytics capablities contains a list of supported_analytics, with the following attributes.</h4>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"capabilities"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"supported_analytics"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pipeline"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pipeline_duration"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pipeline Duration"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td>String</td>
<td>Unique identifier for an analytics.</td>
</tr>
<tr>
<td><code class="prettyprint">title</code></td>
<td>String</td>
<td>Title for the analytics.</td>
</tr>
<tr>
<td><code class="prettyprint">type</code></td>
<td>String</td>
<td>The type of the analytics.</td>
</tr>
</tbody></table>

<h2 id="get-all-plugin-info">Get all plugin info</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/plugin_info'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v4+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v4+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"3924a894cf0e5bef02abe9de0df3bb84"</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:8153/go/api/admin/plugin_info"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:8153/go/api/admin/plugin_info/:plugin_id"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#plugin-info"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"_embedded"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"plugin_info"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/plugin_info/json.config.plugin"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#plugin-info"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/plugin_info/:id"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"json.config.plugin"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"plugin_file_location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/Users/varshavs/gocd/server/plugins/bundled/gocd-json-config-plugin.jar"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"bundled_plugin"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"about"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"JSON Configuration Plugin"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.2"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"target_go_version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16.1.0"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Configuration plugin that supports GoCD configuration in JSON"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"target_operating_systems"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">

          </span><span class="p">],</span><span class="w">
          </span><span class="nt">"vendor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tomasz Setkowski"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://github.com/tomzo/gocd-json-config-plugin"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"extensions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"configrepo"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"plugin_settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"configurations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                  </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pipeline_pattern"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
                  </span><span class="p">}</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                  </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"environment_pattern"</span><span class="p">,</span><span class="w">
                  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
                  </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">],</span><span class="w">
              </span><span class="nt">"view"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"template"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Some view"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Lists all available plugin info.</p>

<p class='available-since'>
  Available since v16.7.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/admin/plugin_info</code></p>

<p class='http-request-return-description'>Returns</p>

<p>An array of <a href="#the-plugin-info-object">plugin info objects</a>.</p>

<h2 id="get-plugin-info">Get plugin info</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/plugin_info/my_plugin'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v4+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v4+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"4167e3ec81fdac0fb29d854b36ceb981"</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/plugin_info/my_plugin"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#plugin-info"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/plugin_info/:id"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_plugin"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"plugin_file_location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/path/to/server/plugins/external/my_plugin.jar"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"bundled_plugin"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"about"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Plugin"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"target_go_version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16.1.0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Short desc"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"target_operating_systems"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">

    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"vendor"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GoCD contributors"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://github.com/tomzo/gocd-json-config-plugin"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"extensions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"configrepo"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"plugin_settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"configurations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pipeline_pattern"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
              </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"environment_pattern"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"secure"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
              </span><span class="nt">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"view"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"template"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Some view"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Gets plugin info for a specified plugin id.</p>

<p class='available-since'>
  Available since v16.7.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/admin/plugin_info/:id</code></p>

<p class='http-request-return-description'>Returns</p>

<p>The <a href="#the-plugin-info-object">plugin info object</a>.</p>

          <h1 id="plugin-settings">Plugin Settings</h1>

<p>The plugin settings API allows admin users with to manage the settings of an installed plugin. The plugin settings are currently stored and retrieved from the database for a plugin.</p>

<h2 id="the-plugin-settings-object">The plugin settings object</h2>

<p class='available-since'>
  Available since v17.8.0.
</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">plugin_id</code></td>
<td>String</td>
<td>Plugin unique identifier.</td>
</tr>
<tr>
<td><code class="prettyprint">configuration</code></td>
<td>Object</td>
<td>List of <a href="#plugin-settings-properties">configuration</a> required to configure the plugin settings.</td>
</tr>
</tbody></table>

<p><a id='plugin-settings-properties'></a></p>

<h3 id="the-plugin-settings-property-object">The plugin settings property object</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"configuration"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"encrypted_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1f3rrs9uhn63hd"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"url"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://github.com/sample/example.git"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">key</code></td>
<td>String</td>
<td>The name of the property key.</td>
</tr>
<tr>
<td><code class="prettyprint">value</code></td>
<td>String</td>
<td>The value of the property. You MUST specify one of <code class="prettyprint">value</code> or <code class="prettyprint">encrypted_value</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">encrypted_value</code></td>
<td>String</td>
<td>The encrypted value of the property. You MUST specify one of <code class="prettyprint">value</code> or <code class="prettyprint">encrypted_value</code>.</td>
</tr>
</tbody></table>

<h2 id="get-plugin-settings">Get Plugin Settings</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/plugin_settings/github.oauth.login'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept:application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
      -i
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"05548388f7ef5042cd39f7fe42e85735"</span>

</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/plugin_settings/github.oauth.login"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#plugin-settings"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/plugin_settings/:plugin_id"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"plugin_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"github.oauth.login"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"configuration"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"consumer_key"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"consumerkey"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"consumer_secret"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"consumersecret"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"encrypted_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aSdiFgRRZ6A="</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"server_base_url"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Gets the stored plugin settings for the specified plugin id.</p>

<aside class="notice">
  <strong>Note:</strong> Please remember to save the value of the `ETag` header for conditional posts, see the <a href='#update-plugin-settings'>update plugin settings</a> documentation for more details.
</aside>

<p class='available-since'>
  Available since v17.9.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/admin/plugin_settings/:plugin_id</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A <a href="#the-plugin-settings-object">Plugin Settings</a> object</p>

<h2 id="create-plugin-settings">Create Plugin Settings</h2>

<pre class="highlight shell"><code><span class="gp">$   </span>curl -i <span class="s1">'https://ci.example.com/go/api/admin/plugin_settings'</span> <span class="se">\</span>
-u <span class="s1">'username:password'</span> <span class="se">\</span>
-H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
-H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
-X POST -d <span class="s1">'{
  "plugin_id": "github.oauth.login",
  "configuration": [
    {
      "key": "server_base_url",
      "value": "https://ci.example.com"
    },
    {
      "key": "consumer_key",
      "value": "consumerkey"
    },
    {
      "key": "consumer_secret",
      "value": "consumersecret"
    },
    {
      "key": "password",
      "encrypted_value": "aSdiFgRRZ6A="
    }
  ]
}'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/plugin_settings/github.oauth.login"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#plugin-settings"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/plugin_settings/:plugin_id"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"plugin_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"github.oauth.login"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"configuration"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"server_base_url"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"consumer_key"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"consumerkey"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"consumer_secret"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"consumersecret"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"encrypted_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aSdiFgRRZ6A="</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Create plugin settings for a plugin based on user inputs.</p>

<p class='available-since'>
  Available since v17.9.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">POST /go/api/admin/plugin_settings</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A new <a href="#the-plugin-settings-object">Plugin Settings</a> object.</p>

<h2 id="update-plugin-settings">Update Plugin Settings</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/plugin_settings/github.oauth.login'</span> <span class="se">\</span>
-u <span class="s1">'username:password'</span> <span class="se">\</span>
-H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
-H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
-H <span class="s1">'If-Match: "05548388f7ef5042cd39f7fe42e85735"'</span> <span class="se">\</span>
-X PUT -d <span class="s1">'{
  "plugin_id": "github.oauth.login",
  "configuration": [
    {
      "key": "server_base_url",
      "value": "https://ci.example.com"
    },
    {
      "key": "consumer_key",
      "value": "updated_consumer_key"
    },
    {
      "key": "consumer_secret",
      "value": "consumersecret"
    },
    {
      "key": "password",
      "encrypted_value": "aSdiFgRRZ6A="
    }
  ]
}'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"e89135b38ddbcd9380c83eb524647bdd"</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/plugin_settings/github.oauth.login"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#plugin-settings"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/plugin_settings/:plugin_id"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"plugin_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"github.oauth.login"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"configuration"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"server_base_url"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"consumer_key"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"updated_consumer_key"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"consumer_secret"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"consumersecret"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"encrypted_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aSdiFgRRZ6A="</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Updates plugin settings for the specified plugin id.</p>

<aside class="notice">
  <strong>Note:</strong>
  The update plugin settings API requires that you submit the <code>If-Match</code>
  header with the latest ETag value that is representative of the current
  plugin settings resource.
  <br/><br/>
  This is required in order to avoid the &ldquo;lost update&rdquo; problem, where a client
  `GET`s a resource&rsquo;s state, modifies it and `PUT`s it back to the server, while
  another user has modified the state of the plugin settings resource, leading to a
  conflict.
</aside>

<p class='available-since'>
  Available since v17.9.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">PUT /go/api/admin/plugin_settings/:plugin_id</code></p>

<p class='http-request-return-description'>Returns</p>

<p>The updated <a href="#the-plugin-settings-object">Plugin Settings</a> object.</p>

          <h1 id="scms">SCMs</h1>

<p>The pluggable SCM API allows users to view, create and update the SCM object.</p>

<h2 id="the-global-scm-config-object">The global scm config object</h2>

<p class='available-since'>
  Available since v16.7.0.
</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td>String</td>
<td>Each material is associated with an id by which it can be referenced in the pipelines. If the id is not provided during creation, a uuid will be generated. Id is mandatory while providing data for update.</td>
</tr>
<tr>
<td><code class="prettyprint">name</code></td>
<td>String</td>
<td>The global name of the material.</td>
</tr>
<tr>
<td><code class="prettyprint">auto_update</code></td>
<td>Boolean</td>
<td>Whether the material is set to poll for new changes.</td>
</tr>
<tr>
<td><code class="prettyprint">plugin_metadata</code></td>
<td>Object</td>
<td>The <a href="#pluggable-scm-plugin-metadata">plugin metadata</a> provides information about the plugin.</td>
</tr>
<tr>
<td><code class="prettyprint">configuration</code></td>
<td>Object</td>
<td>The list of <a href="#pluggable-scm-configuration">properties</a> (key-value pairs) to be provided for using the plugin.</td>
</tr>
</tbody></table>

<p><a id='pluggable-scm-plugin-metadata'></a></p>

<h3 id="the-plugin-metadata-object">The plugin metadata object</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"plugin_metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"github.pr"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.1"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td>String</td>
<td>The plugin id.</td>
</tr>
<tr>
<td><code class="prettyprint">version</code></td>
<td>String</td>
<td>The current version of the plugin.</td>
</tr>
</tbody></table>

<p><a id='pluggable-scm-configuration'></a></p>

<h3 id="the-configuration-property-object">The configuration property object</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"configuration"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"encrypted_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1f3rrs9uhn63hd"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"url"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://github.com/sample/example.git"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">key</code></td>
<td>String</td>
<td>The name of the property key.</td>
</tr>
<tr>
<td><code class="prettyprint">value</code></td>
<td>String</td>
<td>The value of the property. You MUST specify one of <code class="prettyprint">value</code> or <code class="prettyprint">encrypted_value</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">encrypted_value</code></td>
<td>String</td>
<td>The encrypted value of the property. You MUST specify one of <code class="prettyprint">value</code> or <code class="prettyprint">encrypted_value</code>.</td>
</tr>
</tbody></table>

<h2 id="get-all-pluggable-scm-materials">Get all Pluggable SCM materials</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/scms'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept:application/vnd.go.cd.v1+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/scms"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#scms"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"_embedded"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"scms"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/scms/scmName"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#scms"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/scms/:material_name"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"912ef7c8-0d82-4a5c-8f42-0a95abe82466"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"scmName"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"plugin_metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"github.pr"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Lists all available pluggable scm materials, these are materials that are present in the in <code class="prettyprint">cruise-config.xml</code>.</p>

<p class='available-since'>
  Available since v16.7.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/admin/scms</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A list of <a href="#the-global-scm-config-object">SCM</a> objects</p>

<h2 id="get-a-pluggable-scm-material">Get a Pluggable SCM material</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/scms/pluggable.scm.material.name'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept:application/vnd.go.cd.v1+json'</span>
      -i
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"05548388f7ef5042cd39f7fe42e85735"</span>

</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/scms/pluggable.scm.material.name"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#scms"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/scms/:material_name"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"scmID"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pluggable.scm.material.name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"plugin_metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"github.pr"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"auto_update"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"configuration"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"url"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://github.com/sample/example.git"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"encrypted_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aSdiFgRRZ6A="</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Gets the SCM object for a specified name.</p>

<aside class="notice">
  <strong>Note:</strong> Please remember to save the value of the `ETag` header for conditional posts, see the <a href='#update-pluggable-scm-object'>edit scm</a> documentation for more details.
</aside>

<p class='available-since'>
  Available since v16.7.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/admin/scms/:material_name</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A <a href="#the-global-scm-config-object">SCM</a> object</p>

<h2 id="create-a-scm-object">Create a SCM object</h2>

<pre class="highlight shell"><code><span class="gp">$   </span>curl <span class="s1">'http://ci.example.com/go/api/admin/scms'</span> <span class="se">\</span>
  -u <span class="s1">'username:password'</span> <span class="se">\</span>
  -H <span class="s1">'Accept:application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
  -H <span class="s1">'Content-Type:application/json'</span> <span class="se">\</span>
  -X POST -d <span class="s1">'{
  "id": "scm-id",
  "name": "foobar",
  "auto_update": true,
  "plugin_metadata": {
    "id": "github.pr",
    "version": "1"
  },
  "configuration": [
    {
      "key": "url",
      "value": "git@github.com:sample/example.git"
    },
    {
      "key": "username",
      "value": "admin"
    },
    {
      "key": "password",
      "encrypted_value": "aSdiFgRRZ6A="
    }
  ]
 }'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/scms/scmName"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#scms"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/scms/:material_name"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"scm-id"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"scmName"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"plugin_metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"github.pr"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"auto_update"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"configuration"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"url"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://github.com/sample/example.git"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"encrypted_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50TVtMW3cBU="</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"encrypted_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aSdiFgRRZ6A="</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Create a global SCM object.</p>

<p class='available-since'>
  Available since v16.7.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">POST /go/api/admin/scms</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A new <a href="#the-global-scm-config-object">SCM</a> object.</p>

<h2 id="update-pluggable-scm-object">Update Pluggable SCM object</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/scms/scmName'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
      -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
      -H <span class="s1">'If-Match: "e064ca0fe5d8a39602e19666454b8d77"'</span> <span class="se">\</span>
      -X PUT <span class="se">\</span>
      -d <span class="s1">'{
            "id": "scmID",
            "name": "scmName",
            "auto_update": true,
            "plugin_metadata":
            {
              "id": "github.pr",
              "version": "1"
            },
            "configuration": [
            {
              "key": "url",
              "value": "git@github.com:sample/example.git"
            },
            {
              "key": "username",
              "value": "admin"
            },
            {
              "key": "password",
              "encrypted_value": "aSdiFgRRZ6A="
            }
            ]
          }'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"e89135b38ddbcd9380c83eb524647bdd"</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/scms/scmName"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#scms"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/scms/:material_name"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"scmID"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"scmName"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"plugin_metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"github.pr"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"auto_update"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"configuration"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"url"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://github.com/sample/example.git"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"username"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"encrypted_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aSdiFgRRZ6A="</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Update global scm configuration for specified scm name.</p>

<aside class="notice">
  <strong>Note:</strong>
  The update pluggable SCM API requires that you submit the <code>If-Match</code>
  header with the latest ETag value that is representative of the current
  SCM config resource.
  <br/><br/>
  This is required in order to avoid the &ldquo;lost update&rdquo; problem, where a client
  `GET`s a resource&rsquo;s state, modifies it and `PUT`s it back to the server, while
  another user has modified the state of the scm config, leading to a
  conflict.
</aside>

<p class='available-since'>
  Available since v16.7.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">PUT /go/api/admin/scms/:material_name</code></p>

<p class='http-request-return-description'>Returns</p>

<p>The updated <a href="#the-global-scm-config-object">SCM</a> object.</p>

          <h1 id="package-repositories">Package Repositories</h1>

<p>The repositories API allows admins and pipeline group admins to view, create and update a package repository.</p>

<h2 id="the-package-repository-config-object">The package repository config object</h2>

<p class='available-since'>
  Available since v16.12.0.
</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td>String</td>
<td>Each repository is associated with an id by which it can be referenced in the . If the id is not provided during creation, a uuid will be generated. Id is mandatory while providing data for update.</td>
</tr>
<tr>
<td><code class="prettyprint">name</code></td>
<td>String</td>
<td>The global name of the repository.</td>
</tr>
<tr>
<td><code class="prettyprint">plugin_metadata</code></td>
<td>Object</td>
<td>The <a href="#pluggable-scm-plugin-metadata">plugin metadata</a> provides information about the plugin.</td>
</tr>
<tr>
<td><code class="prettyprint">configuration</code></td>
<td>Object</td>
<td>The list of <a href="#pluggable-scm-configuration">properties</a> (key-value pairs) to be provided for using the plugin.</td>
</tr>
</tbody></table>

<h2 id="get-all-repositories">Get all Repositories</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/repositories'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept:application/vnd.go.cd.v1+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/repositories"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#package-repositories"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"_embedded"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"package_repositories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/repositories/dd8926c0-3b4a-4c9e-8012-957b179cec5b"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#package-repositories"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/repositories/:repo_id"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"repo_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dd8926c0-3b4a-4c9e-8012-957b179cec5b"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"repository"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"plugin_metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deb"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"configuration"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REPO_URL"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://sample-repo"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nt">"_embedded"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"packages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/packages/6bba891e-2675-49af-b16d-200bd6c6801e"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#packages"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                  </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/packages/:package_id"</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"package"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6bba891e-2675-49af-b16d-200bd6c6801e"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Lists all available package repositories in <code class="prettyprint">cruise-config.xml</code>.</p>

<p class='available-since'>
  Available since v16.12.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/admin/repositories</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A list of <a href="#the-package-repository-config-object">repository</a> objects</p>

<h2 id="get-a-repository">Get a Repository</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/repositories/dd8926c0-3b4a-4c9e-8012-957b179cec5b'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept:application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
      -i
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/repositories/dd8926c0-3b4a-4c9e-8012-957b179cec5b"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#package-repositories"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/repositories/:repo_id"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"repo_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dd8926c0-3b4a-4c9e-8012-957b179cec5b"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"repository"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"plugin_metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deb"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"configuration"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REPO_URL"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://sample-repo"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"_embedded"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"packages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/packages/6bba891e-2675-49af-b16d-200bd6c6801e"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#packages"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/packages/:package_id"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"package"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6bba891e-2675-49af-b16d-200bd6c6801e"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get a repository for a specified id</p>

<aside class="notice">
  <strong>Note:</strong> Please remember to save the value of the `ETag` header
  for conditional posts, see the
  <a href='#edit-a-repository'>edit repository</a>
  documentation for more details.
</aside>

<p class='available-since'>
  Available since v16.12.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/admin/repositories/:repo_id</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A <a href="#the-package-repository-config-object">repository</a> object</p>

<h2 id="create-a-repository">Create a Repository</h2>

<pre class="highlight shell"><code><span class="gp">$   </span>curl -i <span class="s2">"https://ci.example.com/go/api/admin/repositories/"</span> <span class="se">\</span>
-u <span class="s1">'username:password'</span> <span class="se">\</span>
-H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
-H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
-X POST -d <span class="s1">'{
  "repo_id": "repository-id",
  "name": "repo.name",
  "plugin_metadata": {
    "id": "deb",
    "version": "1"
  },
  "configuration": [{
    "key": "REPO_URL",
    "value": "http://sample"
  }]
}'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/repositories/repository-id"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#package-repositories"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/repositories/:repo_id"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"repo_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"repository-id"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"repo.name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"plugin_metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deb"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"configuration"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REPO_URL"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://sample"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"_embedded"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"packages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">

    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Create the repository configuration in cruise-config.xml.</p>

<p class='available-since'>
  Available since v16.12.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">POST /go/api/admin/repositories</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A new <a href="#the-package-repository-config-object">repository</a> object.</p>

<h2 id="edit-a-repository">Edit a repository</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl -i <span class="s2">"https://ci.example.com/go/api/admin/repositories/repository-id"</span> <span class="se">\</span>
-u <span class="s1">'username:password'</span> <span class="se">\</span>
-H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
-H <span class="s1">'Content-Type: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
-H <span class="s1">'If-Match: "e34c022772eff57ec53b6d50853be343"'</span> <span class="se">\</span>
-X PUT -d <span class="s1">'{
  "repo_id": "repository-id",
  "name": "repo.name",
  "plugin_metadata": {
    "id": "deb",
    "version": "1"
  },
  "configuration": [{
    "key": "REPO_URL",
    "value": "http://updatedrepo"
  }]
}'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"122cd7ec0319b015653cac9a056063a7"</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/repositories/repository-id"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#package-repositories"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/repositories/:repo_id"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"repo_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"repository-id"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"repo.name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"plugin_metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deb"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"configuration"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REPO_URL"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://updatedrepo"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"_embedded"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"packages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">

    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Update package repository for specified repository id.</p>

<aside class="notice">
  <strong>Note:</strong>
  The update repository API requires that you submit the <code>If-Match</code>
  header with the latest ETag value that is representative of the current
  repository config resource.
  <br/><br/>
  This is required in order to avoid the &ldquo;lost update&rdquo; problem, where a client
  `GET`s a resource&rsquo;s state, modifies it and `PUT`s it back to the server, while
  another user has modified the state of the repository config, leading to a
  conflict.
</aside>

<p class='available-since'>
  Available since v16.12.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">PUT /go/api/admin/repositories/:repo_id</code></p>

<p class='http-request-return-description'>Returns</p>

<p>The updated <a href="#the-package-repository-config-object">repository</a> object.</p>

<h2 id="delete-a-repository">Delete a repository</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl -i <span class="s2">"https://ci.example.com/go/api/admin/repositories/repository-id"</span> <span class="se">\</span>
-u <span class="s1">'username:password'</span> <span class="se">\</span>
-H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
-X DELETE

</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The package repository 'repository-id' was deleted successfully."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Deletes a package repository from the config XML if its packages are not associated with any pipeline.</p>

<p class='available-since'>
  Available since v16.12.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">DELETE /go/api/admin/repositories/:repo_id</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A message confirmation if the repository was deleted.</p>

          <h1 id="packages">Packages</h1>

<p>The package definition API allows users to view, create and update the packages&rsquo; configuration.</p>

<h2 id="the-package-config-object">The package config object</h2>

<p class='available-since'>
  Available since v16.12.0.
</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code></td>
<td>String</td>
<td>The name of the package.</td>
</tr>
<tr>
<td><code class="prettyprint">id</code></td>
<td>String</td>
<td>Each material is associated with an id by which it can be referenced in the pipelines. If the id is not provided during creation, a uuid will be generated. Id is mandatory while providing data for update.</td>
</tr>
<tr>
<td><code class="prettyprint">auto_update</code></td>
<td>Boolean</td>
<td>Whether the material is set to poll for new changes. Defaults to true.</td>
</tr>
<tr>
<td><code class="prettyprint">package_repo</code></td>
<td>Object</td>
<td>The <a href="#package-config-repo">package repo</a> object provides the id and name of the repository to which the package belongs.</td>
</tr>
<tr>
<td><code class="prettyprint">configuration</code></td>
<td>Object</td>
<td>The list of <a href="#pluggable-scm-configuration">properties</a> (key-value pairs) to be provided for using the plugin.</td>
</tr>
</tbody></table>

<p><a id='package-config-repo'></a></p>

<h3 id="the-package-repository-object">The package repository object</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"package_repo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"273b246e-145d-49d2-a1a4-f0285af9cccc"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"package-repository"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td>String</td>
<td>The id of the package repository.</td>
</tr>
<tr>
<td><code class="prettyprint">name</code></td>
<td>String</td>
<td>The name of the package repository.</td>
</tr>
</tbody></table>

<h2 id="get-all-packages">Get all packages</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/packages'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept:application/vnd.go.cd.v1+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/packages"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#packages"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"_embedded"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"packages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/packages/f579bb13-bed3-4ad1-a547-ff9d9bcf56d4"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#packages"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/packages/:package_id"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"package"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f579bb13-bed3-4ad1-a547-ff9d9bcf56d4"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"auto_update"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"package_repo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/repositories/273b246e-145d-49d2-a1a4-f0285af9cccc"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#package-repositories"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/repositories/:repo_id"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"273b246e-145d-49d2-a1a4-f0285af9cccc"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"configuration"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PACKAGE_NAME"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bar"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/packages/c3e1d398-96c0-4edd-a577-9b5c769d449b"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#packages"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/packages/:package_id"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"another_package"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c3e1d398-96c0-4edd-a577-9b5c769d449b"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"auto_update"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nt">"package_repo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/repositories/273b246e-145d-49d2-a1a4-f0285af9cccc"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#package-repositories"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/repositories/:repo_id"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"273b246e-145d-49d2-a1a4-f0285af9cccc"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"npm"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"configuration"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PACKAGE_NAME"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"group"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"VERSION_SPEC"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ARCHITECTURE"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jar"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Lists all available packages, these are materials that are present in the in <code class="prettyprint">cruise-config.xml</code>.</p>

<p class='available-since'>
  Available since v16.12.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/admin/packages</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A list of <a href="#the-package-config-object">packages</a>.</p>

<h2 id="get-a-package-material">Get a Package Material</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/packages/package.id'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept:application/vnd.go.cd.v1+json'</span>
      -i
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"08ae92bf39fc33e9d7326feb97047417"</span>

</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/packages/package.id"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#packages"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/packages/:package_id"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"package"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"package.id"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"auto_update"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"package_repo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/repositories/273b246e-145d-49d2-a1a4-f0285af9cccc"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#package-repositories"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/repositories/:repo_id"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"273b246e-145d-49d2-a1a4-f0285af9cccc"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"configuration"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PACKAGE_NAME"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"package_name"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Gets the package config for a specified package id.</p>

<aside class="notice">
  <strong>Note:</strong> Please remember to save the value of the `ETag` header
  for conditional posts, see the
  <a href='#edit-a-package'>edit package</a>
  documentation for more details.
</aside>

<p class='available-since'>
  Available since v16.12.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/admin/packages/:package_id</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A <a href="#the-package-config-object">package</a> object.</p>

<h2 id="create-a-package">Create a Package</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://ci.example.com/go/api/admin/packages"</span> <span class="se">\</span>
  -u <span class="s1">'username:password'</span> <span class="se">\</span>
  -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST -d <span class="s1">'{
  "id": "package-id",
  "name": "package_name",
  "auto_update": false,
  "package_repo": {
    "id": "273b246e-145d-49d2-a1a4-f0285af9cccc"
  },
  "configuration": [
    {
      "key": "PACKAGE_NAME",
      "value": "package"
    }
  ]
}'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/packages/package-id"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#packages"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/packages/:package_id"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"package_name"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"package-id"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"auto_update"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nt">"package_repo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/repositories/273b246e-145d-49d2-a1a4-f0285af9cccc"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#package-repositories"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/repositories/:repo_id"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"273b246e-145d-49d2-a1a4-f0285af9cccc"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"configuration"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PACKAGE_NAME"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"package"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Creates a package with specified configurations.</p>

<p class='available-since'>
  Available since v16.12.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">POST /go/api/admin/packages</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A new <a href="#the-package-config-object">package</a> object.</p>

<h2 id="edit-a-package">Edit a package</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://ci.example.com/go/api/admin/packages/f579bb13-bed3-4ad1-a547-ff9d9bcf56d4"</span> <span class="se">\</span>
-u <span class="s1">'username:password'</span> <span class="se">\</span>
-H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
-H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
-H <span class="s1">'If-Match: "08ae92bf39fc33e9d7326feb97047417"'</span> <span class="se">\</span>
-X PUT -d <span class="s1">'{
  "id": "f579bb13-bed3-4ad1-a547-ff9d9bcf56d4",
  "name": "foo",
  "auto_update": true,
  "package_repo": {
    "id": "273b246e-145d-49d2-a1a4-f0285af9cccc"
  },
  "configuration": [{
    "key": "PACKAGE_NAME",
    "value": "update"
  }]
}'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"e89135b38ddbcd9380c83eb524647bdd"</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/packages/f579bb13-bed3-4ad1-a547-ff9d9bcf56d4"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#packages"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/packages/:package_id"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f579bb13-bed3-4ad1-a547-ff9d9bcf56d4"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"auto_update"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"package_repo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/repositories/273b246e-145d-49d2-a1a4-f0285af9cccc"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#package-repositories"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/repositories/:repo_id"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"273b246e-145d-49d2-a1a4-f0285af9cccc"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foo"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"configuration"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PACKAGE_NAME"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"update"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Updates global package configuration for the specified package id.</p>

<aside class="notice">
  <strong>Note:</strong>
  The update package API requires that you submit the <code>If-Match</code>
  header with the latest ETag value that is representative of the current
  package config resource.
  <br/><br/>
  This is required in order to avoid the &ldquo;lost update&rdquo; problem, where a client
  `GET`s a resource&rsquo;s state, modifies it and `PUT`s it back to the server, while
  another user has modified the state of the package config, leading to a
  conflict.
</aside>

<p class='available-since'>
  Available since v16.12.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">PUT /go/api/admin/packages/:package_id</code></p>

<p class='http-request-return-description'>Returns</p>

<p>The updated <a href="#the-package-config-object">package</a> object.</p>

<h2 id="delete-a-package-material">Delete a package material</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/packages/package-id'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
      -X DELETE

</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The package definition 'package-id' was deleted successfully."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Deletes a package from the respective repository if it is not associated with any pipeline.</p>

<p class='available-since'>
  Available since v16.12.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">DELETE /go/api/admin/package/:package_id</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A message confirmation if the package was deleted.</p>

          <h1 id="authorization-configuration">Authorization Configuration</h1>

<p>The Authorization configuration API allows admin users to manage authorization configuration. This config will later be used by a plugin to authorize a user in the GoCD server.</p>

<h2 id="the-authorization-configuration-object">The authorization configuration object</h2>

<p class='available-since'>
  Available since v17.5.0.
</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td>String</td>
<td>The identifier of the authorization configuration.</td>
</tr>
<tr>
<td><code class="prettyprint">plugin_id</code></td>
<td>String</td>
<td>The plugin identifier of the authorization plugin.</td>
</tr>
<tr>
<td><code class="prettyprint">properties</code></td>
<td>Array</td>
<td>The list of <a href="#the-configuration-property-object">configuration properties</a> that represent the configuration of this authorization configuration.</td>
</tr>
</tbody></table>

<h2 id="get-all-authorization-configurations">Get all authorization configurations</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/security/auth_configs'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/security/auth_configs"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#authorization-configuration"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/security/auth_configs/:auth_config_id"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"_embedded"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"auth_configs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/security/auth_configs/ldap"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#authorization-configuration"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/security/auth_configs/:auth_config_id"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"plugin_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cd.go.authentication.ldap"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Url"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap://ldap.server.url"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Lists all available authorization configurations.</p>

<p class='available-since'>
  Available since v17.5.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/admin/security/auth_configs</code></p>

<p class='http-request-return-description'>Returns</p>

<p>An array of <a href="#the-authorization-configuration-object">authorization configurations object</a>.</p>

<h2 id="get-an-authorization-configuration">Get an authorization configuration</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/security/auth_configs/ldap'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"cbc5f2d5b9c13a2cc1b1efb3d8a6155d"</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/security/auth_configs/ldap"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#authorization-configuration"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/security/auth_configs/:auth_config_id"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"plugin_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cd.go.authentication.ldap"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Url"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap://ldap.server.url:389"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SearchBase"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ou=users,ou=system"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ManagerDN"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uid=admin,ou=system"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SearchFilter"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uid"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"encrypted_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GLzARJ+Qr+M="</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DisplayNameAttribute"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"displayName"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EmailAttribute"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mail"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Gets authorization configuration for specified id.</p>

<aside class="notice">
  <strong>Note:</strong> Please remember to save the value of the `ETag` header for conditional posts, see the <a href='#update-an-authorization-configuration'>edit authorization configuration</a> documentation for more details.
</aside>

<p class='available-since'>
  Available since v17.5.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/admin/security/auth_configs/:auth_config_id</code></p>

<p class='http-request-return-description'>Returns</p>

<p>The <a href="#the-authorization-configuration-object">authorization configuration object</a>.</p>

<h2 id="create-an-authorization-configuration">Create an authorization configuration</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/security/auth_configs'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
      -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
      -X POST -d <span class="s1">'{
        "id": "ldap",
        "plugin_id": "cd.go.authentication.ldap",
        "properties": [
          {
            "key": "Url",
            "value": "ldap://ldap.server.url:389"
          },
          ...
        ]
      }'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"cbc5f2d5b9c13a2cc1b1efb3d8a6155d"</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/security/auth_configs/ldap"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#authorization-configuration"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/security/auth_configs/:auth_config_id"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"plugin_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cd.go.authentication.ldap"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Url"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap://ldap.server.url:389"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SearchBase"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ou=users,ou=system"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ManagerDN"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uid=admin,ou=system"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SearchFilter"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uid"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"encrypted_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GLzARJ+Qr+M="</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DisplayNameAttribute"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"displayName"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EmailAttribute"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mail"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Creates an authorization configuration</p>

<p class='available-since'>
  Available since v17.5.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">POST /go/api/admin/security/auth_configs</code></p>

<p class='http-request-return-description'>Returns</p>

<p>The <a href="#the-authorization-configuration-object">authorization configuration object</a>.</p>

<h2 id="update-an-authorization-configuration">Update an authorization configuration</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/security/auth_configs/ldap'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
      -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
      -H <span class="s1">'If-Match: "cbc5f2d5b9c13a2cc1b1efb3d8a6155d"'</span> <span class="se">\</span>
      -X PUT <span class="se">\</span>
      -d <span class="s1">'{
        "plugin_id": "cd.go.authentication.ldap",
        "properties": [
          {
            "key": "Url",
            "value": "ldap://ldap.server.url:10389"
          },
          {
            "key": "SearchBase",
            "value": "ou=users,ou=system"
          },
          {
            "key": "ManagerDN",
            "value": "uid=admin,ou=system"
          }
          ...
        ]
      }'</span>

</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"61406622382e51c2079c11dcbdb978fb"</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/security/auth_configs/ldap"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#authorization-configuration"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/security/auth_configs/:auth_config_id"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"plugin_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cd.go.authentication.ldap"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Url"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap://ldap.server.url:10389"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SearchBase"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ou=users,ou=system"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ManagerDN"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uid=admin,ou=system"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SearchFilter"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"uid"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Password"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"encrypted_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GLzARJ+Qr+M="</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DisplayNameAttribute"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"displayName"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EmailAttribute"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mail"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Update some attributes of an authorization configuration.</p>

<aside class="notice">
  <strong>Note:</strong>
  The update authorization configuration API requires that you submit the <code>If-Match</code>
  header with the latest ETag value that is representative of the current
  authorization configuration.
  <br/><br/>
  This is required in order to avoid the &ldquo;lost update&rdquo; problem, where a client
  `GET`s a resource&rsquo;s state, modifies it and `PUT`s it back to the server, while
  another user has modified the state of the elastic agent config, leading to a
  conflict.
</aside>

<p class='available-since'>
  Available since v17.5.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">PUT /go/api/admin/security/auth_configs/:auth_config_id</code></p>

<p class='http-request-return-description'>Returns</p>

<p>The updated <a href="#the-authorization-configuration-object">authorization configuration object</a>.</p>

<h2 id="delete-an-authorization-configuration">Delete an authorization configuration</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/security/auth_configs/ldap'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
      -X DELETE
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The security auth config 'ldap' was deleted successfully."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Deletes the authorization configuration.</p>

<p class='available-since'>
  Available since v17.5.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">DELETE /go/api/admin/security/auth_configs/:auth_config_id</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A message if the authorization configuration is deleted or not.</p>

          <h1 id="roles">Roles</h1>

<p>The roles API allows admin users to manage roles or plugin roles. The plugin roles will later be used by the plugin to authorize user for GoCD server.</p>

<p>In order to create <code class="prettyprint">Plugin Role</code> <a href="#authorization-configuration">authorization configuration</a> is required.</p>

<h2 id="the-role-object">The role object</h2>

<p class='available-since'>
  Available since v17.5.0.
</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">name</code></td>
<td>String</td>
<td>The name of the role.</td>
</tr>
<tr>
<td><code class="prettyprint">type</code></td>
<td>String</td>
<td>Type of the role. Use <code class="prettyprint">gocd</code> to create core role and <code class="prettyprint">plugin</code> to create plugin role.</td>
</tr>
<tr>
<td><code class="prettyprint">attributes</code></td>
<td>Object</td>
<td>Attributes are used to describes the configuration for <a href="#the-gocd-role-attributes">gocd role</a> or <a href="#the-plugin-role-attributes">plugin role</a>.</td>
</tr>
</tbody></table>

<h2 id="the-gocd-role-attributes">The GoCD role attributes</h2>

<p class='available-since'>
  Available since v17.5.0.
</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">users</code></td>
<td>Array</td>
<td>The list of users belongs to the role.</td>
</tr>
</tbody></table>

<h2 id="the-plugin-role-attributes">The plugin role attributes</h2>

<p class='available-since'>
  Available since v17.5.0.
</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">auth_config_id</code></td>
<td>String</td>
<td>The authorization configuration identifier.</td>
</tr>
<tr>
<td><code class="prettyprint">properties</code></td>
<td>Array</td>
<td>The list of <a href="#the-configuration-property-object">configuration properties</a> that represent the configuration of this plugin role.</td>
</tr>
</tbody></table>

<h2 id="get-all-roles">Get all roles</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/security/roles'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v2+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v2+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/security/roles"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#roles"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/security/roles/:role_name"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"_embedded"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/security/roles/spacetiger"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#roles"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/security/roles/:role_name"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spacetiger"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gocd"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"alice"</span><span class="p">,</span><span class="w"> </span><span class="s2">"bob"</span><span class="p">,</span><span class="w"> </span><span class="s2">"robin"</span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/security/roles/blackbird"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#roles"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/security/roles/:role_name"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blackbird"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"plugin"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"auth_config_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UserGroupMembershipAttribute"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"memberOf"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GroupIdentifiers"</span><span class="p">,</span><span class="w">
              </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ou=admins,ou=groups,ou=system,dc=example,dc=com"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Lists all available roles which includes GoCD role and plugin role.</p>

<p class='available-since'>
  Available since v17.5.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/admin/security/roles</code></p>

<p class='http-request-return-description'>Returns</p>

<p>An array of <a href="#the-role-object">role object</a>.</p>

<h2 id="get-all-roles-by-type">Get all roles by type</h2>

<blockquote>
<p>Get all roles by type</p>
</blockquote>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/security/roles?type=gocd'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v2+json'</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/security/roles"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#roles"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/security/roles/:role_name"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"_embedded"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/security/roles/spacetiger"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#roles"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/security/roles/:role_name"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spacetiger"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gocd"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"alice"</span><span class="p">,</span><span class="w"> </span><span class="s2">"bob"</span><span class="p">,</span><span class="w"> </span><span class="s2">"robin"</span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>List all available roles of specified type.</p>

<p class='available-since'>
  Available since v17.5.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/admin/security/roles?type=:role_type</code></p>

<p class='http-request-return-description'>Returns</p>

<p>An array of <a href="#the-role-object">role object</a>.</p>

<h2 id="get-a-role">Get a role</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/security/roles/blackbird'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v2+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v2+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"cbc5f2d5b9c13a2cc1b1efb3d8a6155d"</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/security/roles/blackbird"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#roles"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/security/roles/:role_name"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blackbird"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"auth_config_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MemberOf"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ou=blackbird,ou=area51,dc=example,dc=com"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Gets role for specified role name.</p>

<aside class="notice">
  <strong>Note:</strong> Please remember to save the value of the `ETag` header for conditional posts, see the <a href='#update-a-role'>edit role</a> documentation for more details.
</aside>

<p class='available-since'>
  Available since v17.5.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/admin/security/roles/:role_name</code></p>

<p class='http-request-return-description'>Returns</p>

<p>An array of <a href="#the-role-object">role object</a>.</p>

<h2 id="create-a-gocd-role">Create a GoCD role</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/security/roles'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v2+json'</span> <span class="se">\</span>
      -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
      -X POST -d <span class="s1">'{
         "name": "new-role",
         "type": "gocd",
         "attributes" : {
          "users": ["bob"]
         }
        }'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v2+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"cbc5f2d5b9c13a2cc1b1efb3d8a6155d"</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/security/roles/new-role"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#roles"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/security/roles/:role_name"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new-role"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gocd"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"bob"</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Create a GoCD role. A GoCD role is a group of users having same permissions in GoCD.</p>

<p class='available-since'>
  Available since v17.5.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">POST /go/api/admin/security/roles</code></p>

<p class='http-request-return-description'>Returns</p>

<p>The <a href="#the-role-object">role object</a>.</p>

<h2 id="create-a-plugin-role">Create a plugin role</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/security/roles'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v2+json'</span> <span class="se">\</span>
      -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
      -X POST -d <span class="s1">'{
        "name": "new-plugin-role",
        "type": "plugin",
        "attributes": {
          "auth_config_id": "ldap",
          "properties": [
            {
              "key": "UserGroupMembershipAttribute",
              "value": "memberOf"
            },
            {
              "key": "GroupIdentifiers",
              "value": "ou=devs,ou=groups,ou=system,dc=example,dc=com"
            }
          ]
        }
      }'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v2+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"cbc5f2d5b9c13a2cc1b1efb3d8a6155d"</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/security/roles/blackbird1"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#roles"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/security/roles/:role_name"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"blackbird1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"plugin"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"auth_config_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ldap"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UserGroupMembershipAttribute"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"memberOf"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GroupIdentifiers"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ou=admins,ou=groups,ou=system,dc=example,dc=com"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Plugin role is used to authorize user against external authorization server using authorization plugin.</p>

<p>Prerequisite to create plugin role,</p>

<ol>
<li>Install authorization plugin with <code class="prettyprint">can_authorize</code> <a href="https://plugin-api.gocd.org/current/authorization/#get-plugin-capabilities">capability</a>.</li>
<li>Create <a href="#authorization-configuration">authorization configuration</a>.</li>
</ol>

<p class='available-since'>
  Available since v17.5.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">POST /go/api/admin/security/roles</code></p>

<p class='http-request-return-description'>Returns</p>

<p>The <a href="#the-role-object">role object</a>.</p>

<h2 id="update-a-role">Update a role</h2>

<p>Update attributes of the role identified by the specified role name.</p>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/security/roles/spacetiger'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v2+json'</span> <span class="se">\</span>
      -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
      -H <span class="s1">'If-Match: "cbc5f2d5b9c13a2cc1b1efb3d8a6155d"'</span> <span class="se">\</span>
      -X PUT <span class="se">\</span>
      -d <span class="s1">'{
        "name": "spacetiger",
        "type": "gocd",
        "attributes": {
          "users": ["alice"]
        }
      }'</span>

</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v2+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"61406622382e51c2079c11dcbdb978fb"</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/security/roles/spacetiger"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#roles"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/security/roles/:role_name"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"spacetiger"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gocd"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"alice"</span><span class="w"> </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<aside class="notice">
  <strong>Note:</strong>
  The update role API requires that you submit the <code>If-Match</code>
  header with the latest ETag value that is representative of the current
  role.
  <br/><br/>
  This is required in order to avoid the &ldquo;lost update&rdquo; problem, where a client
  `GET`s a resource&rsquo;s state, modifies it and `PUT`s it back to the server, while
  another user has modified the state of the elastic agent config, leading to a
  conflict.
</aside>

<p class='available-since'>
  Available since v17.5.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">PUT /go/api/admin/security/roles/:role_name</code></p>

<p class='http-request-return-description'>Returns</p>

<p>The <a href="#the-role-object">role object</a>.</p>

<h2 id="delete-a-role">Delete a role</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/security/roles/blackbird'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v2+json'</span> <span class="se">\</span>
      -X DELETE
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v2+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The plugin role config 'blackbird' was deleted successfully."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Deletes the role.</p>

<p class='available-since'>
  Available since v17.5.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">DELETE /go/api/admin/security/roles/:role_name</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A message if the role is deleted or not.</p>

<h2 id="bulk-update-roles">Bulk update roles</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/security/roles'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v2+json'</span> <span class="se">\</span>
      -X PATCH <span class="se">\</span>
      -d <span class="s1">'{
      "operations": [
        {
          "role": "role1",
          "users": {
            "add": [
              "user1",
              "user2"
            ],
            "remove": [
              "user3",
              "user4"
            ]
          }
        },
        {
          "role": "role2",
          "users": {
            "add": [
              "user2"
            ]
          }
        }
      ]
    }'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v2+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/security/roles"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#roles"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/security/roles/:role_name"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"_embedded"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"roles"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/security/roles/role1"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#roles"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/security/roles/:role_name"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"role1"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gocd"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"user3"</span><span class="p">,</span><span class="w"> </span><span class="s2">"user4"</span><span class="p">,</span><span class="w"> </span><span class="s2">"robin"</span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/security/roles/role2"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#roles"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/security/roles/:role_name"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"role2"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"gocd"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"alice"</span><span class="p">,</span><span class="w"> </span><span class="s2">"user2"</span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Bulk update roles.</p>

<p class='available-since'>
  Available since v19.1.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">PATCH /go/api/admin/security/roles</code></p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">operations</code></td>
<td>Array</td>
<td>The <a href="#the-role-update-operations">bulk update operations</a> performed on the set of roles.</td>
</tr>
</tbody></table>

<p class='http-request-return-description'>Returns</p>

<p>An array of <a href="#the-role-object">role object</a> of type &lsquo;gocd&rsquo;.</p>

<p><a id='the-role-update-operations'></a></p>

<h3 id="the-bulk-update-operation-attributes">The bulk update operation attributes</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"role"</span><span class="p">:</span><span class="w"> </span><span class="s2">"role1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"add"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"User1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"User2"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"remove"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"User3"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"User4"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">role</code></td>
<td>String</td>
<td>The role name which needs to be updated.</td>
</tr>
<tr>
<td><code class="prettyprint">users</code></td>
<td>Object</td>
<td>The <a href="#the-users-to-update">users to be added/removed</a> for a given role.</td>
</tr>
</tbody></table>

<p><a id='the-users-to-update'></a></p>

<h3 id="the-users-to-be-updated">The users to be updated</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"add"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"User1"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"User2"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"remove"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"User3"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"User4"</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">add</code></td>
<td>Array</td>
<td>The list of users that needs to be added to the role.</td>
</tr>
<tr>
<td><code class="prettyprint">remove</code></td>
<td>Array</td>
<td>The list of users that needs to be removed from the role.</td>
</tr>
</tbody></table>

          <h1 id="config-repo">Config Repo</h1>

<p>The config repo API allows admin users to define and manage config repos using which pipelines defined in external repositories can be included in GoCD, thereby allowing users to have their Pipeline as code.</p>

<h2 id="the-config-repo-object">The config repo object</h2>

<p class='available-since'>
  Available since v17.12.0.
</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td>String</td>
<td>Each config repo is associated with an unique id by which it can be referenced. Id is mandatory field for config repo.</td>
</tr>
<tr>
<td><code class="prettyprint">plugin_id</code></td>
<td>String</td>
<td>The name of the config repo plugin.</td>
</tr>
<tr>
<td><code class="prettyprint">material</code></td>
<td>Object</td>
<td>The <a href="#config-repo-material-object">material</a> to be used by the config repo.</td>
</tr>
<tr>
<td><code class="prettyprint">configuration</code></td>
<td>Object</td>
<td>The list of <a href="#pluggable-scm-configuration">properties</a> (key-value pairs) to be provided for using the plugin.</td>
</tr>
</tbody></table>

<p><a id='config-repo-material-object'></a></p>

<h3 id="the-config-repository-material-object">The config repository material object</h3>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">type</code></td>
<td>String</td>
<td>The type of a material. Can be one of <code class="prettyprint">git</code>, <code class="prettyprint">svn</code>, <code class="prettyprint">hg</code>, <code class="prettyprint">p4</code>, <code class="prettyprint">tfs</code>, <code class="prettyprint">scm</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">attributes</code></td>
<td>Object</td>
<td>The <a href="#config-repo-git-material-attributes">attributes</a> for each material type.</td>
</tr>
</tbody></table>

<p><a id='config-repo-git-material-attributes'></a></p>

<h3 id="the-git-material-attributes">The git material attributes</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"git"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://github.com/gocd/api.go.cd"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"branch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"master"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"auto_update"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">url</code></td>
<td>String</td>
<td>The URL of the git repository.</td>
</tr>
<tr>
<td><code class="prettyprint">branch</code></td>
<td>String</td>
<td>The git branch to build.</td>
</tr>
<tr>
<td><code class="prettyprint">auto_update</code></td>
<td>Boolean</td>
<td>Whether to poll for new changes or not.</td>
</tr>
</tbody></table>

<p><a id='config-repo-svn-material-attributes'></a></p>

<h3 id="the-svn-material-attributes">The svn material attributes</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"svn"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"svn://svn.example.com/myProject/trunk"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"auto_update"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"encrypted_password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aSdiFgRRZ6A="</span><span class="p">,</span><span class="w">
    </span><span class="nt">"check_externals"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">url</code></td>
<td>String</td>
<td>The URL of the subversion repository.</td>
</tr>
<tr>
<td><code class="prettyprint">username</code></td>
<td>String</td>
<td>The user account for the remote repository.</td>
</tr>
<tr>
<td><code class="prettyprint">password</code></td>
<td>String</td>
<td>The password for the specified user.</td>
</tr>
<tr>
<td><code class="prettyprint">encrypted_password</code></td>
<td>String</td>
<td>The encrypted password for the specified user.</td>
</tr>
<tr>
<td><code class="prettyprint">auto_update</code></td>
<td>Boolean</td>
<td>Whether to poll for new changes or not.</td>
</tr>
<tr>
<td><code class="prettyprint">check_externals</code></td>
<td>Boolean</td>
<td>Whether the changes o the externals will trigger the pipeline automatically or not.</td>
</tr>
</tbody></table>

<p><a id='config-repo-hg-material-attributes'></a></p>

<h3 id="the-mercurial-material-attributes">The mercurial material attributes</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hg"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://username:password@hg.example.com/hg/api.go.cd"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"auto_update"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">url</code></td>
<td>String</td>
<td>The URL of the mercurial repository.</td>
</tr>
<tr>
<td><code class="prettyprint">auto_update</code></td>
<td>Boolean</td>
<td>Whether to poll for new changes or not.</td>
</tr>
</tbody></table>

<p><a id='config-repo-p4-material-attributes'></a></p>

<h3 id="the-perforce-material-attributes">The perforce material attributes</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"p4"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"port"</span><span class="p">:</span><span class="w"> </span><span class="s2">"p4.example.com:8080"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"use_tickets"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"view"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sample_view"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"auto_update"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"encrypted_password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aSdiFgRRZ6A="</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">port</code></td>
<td>String</td>
<td>Perforce server connection to use (<code class="prettyprint">[transport:]host:port</code>).</td>
</tr>
<tr>
<td><code class="prettyprint">use_tickets</code></td>
<td>Boolean</td>
<td>Whether to work with the Perforce tickets or not.</td>
</tr>
<tr>
<td><code class="prettyprint">view</code></td>
<td>String</td>
<td>The Perforce view.</td>
</tr>
<tr>
<td><code class="prettyprint">auto_update</code></td>
<td>Boolean</td>
<td>Whether to poll for new changes or not.</td>
</tr>
<tr>
<td><code class="prettyprint">username</code></td>
<td>String</td>
<td>The username to be used.</td>
</tr>
<tr>
<td><code class="prettyprint">password</code></td>
<td>String</td>
<td>The password for the specified user.</td>
</tr>
<tr>
<td><code class="prettyprint">encrypted_password</code></td>
<td>String</td>
<td>The encrypted password for the specified user.</td>
</tr>
</tbody></table>

<p><a id='config-repo-tfs-material-attributes'></a></p>

<h3 id="the-tfs-material-attributes">The tfs material attributes</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tfs"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://tfs.exampe.com:8000/tfs"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"project_path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"$/"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"domain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"corporate/domain"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"encrypted_password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aSdiFgRRZ6A="</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">url</code></td>
<td>String</td>
<td>The URL for the Collection on the TFS Server.</td>
</tr>
<tr>
<td><code class="prettyprint">project_path</code></td>
<td>String</td>
<td>The project path within the TFS collection.</td>
</tr>
<tr>
<td><code class="prettyprint">domain</code></td>
<td>String</td>
<td>The domain name for TFS authentication credentials.</td>
</tr>
<tr>
<td><code class="prettyprint">auto_update</code></td>
<td>Boolean</td>
<td>Whether to poll for new changes or not.</td>
</tr>
<tr>
<td><code class="prettyprint">username</code></td>
<td>String</td>
<td>The username of the account to access the TFS collection.</td>
</tr>
<tr>
<td><code class="prettyprint">password</code></td>
<td>String</td>
<td>The password of the account to access the TFS collection.</td>
</tr>
<tr>
<td><code class="prettyprint">encrypted_password</code></td>
<td>String</td>
<td>The encrypted password of the account to access the TFS collection.</td>
</tr>
</tbody></table>

<p><a id='config-repo-package-material'></a></p>

<h3 id="the-package-material-attributes">The package material attributes</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"package"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"ref"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e289f497-057b-46bc-bb69-8043454f5c1b"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">ref</code></td>
<td>String</td>
<td>The unique package repository id.</td>
</tr>
</tbody></table>

<h2 id="get-all-config-repos">Get all Config repos</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/config_repos'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept:application/vnd.go.cd.v1+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/config_repos"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"_embedded"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"config_repos"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/config_repos/repo1"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#config-repos"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/config_repos/:id"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"repo1"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"plugin_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"json.config.plugin"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"material"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"git"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://github.com/config-repo/gocd-json-config-example.git"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"branch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"master"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"auto_update"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"configuration"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Lists all available config repos, these are config repositories that are present in the in <code class="prettyprint">cruise-config.xml</code>.</p>

<p class='available-since'>
  Available since v17.12.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/admin/config_repos</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A list of <a href="#the-config-repo-object">config-repo</a> objects</p>

<h2 id="get-a-config-repo">Get a Config repo</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/config_repos/repo1'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept:application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
      -i
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"05548388f7ef5042cd39f7fe42e85735"</span>

</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/config_repos/repo1"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#config-repos"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/config_repos/:id"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"repo1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"plugin_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"json.config.plugin"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"material"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"git"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://github.com/config-repo/gocd-json-config-example.git"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"branch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"master"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"auto_update"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"configuration"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">

  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Gets the config repo object for a specified id.</p>

<aside class="notice">
  <strong>Note:</strong>Please remember to save the value of the `ETag` header for conditional posts, see the <a href='#the-config-repo-object'>edit config repo</a> documentation for more details.
</aside>

<p class='available-since'>
  Available since v17.12.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/admin/config_repos/:id</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A <a href="#the-config-repo-object">config-repo</a> object</p>

<h2 id="create-a-config-repo">Create a Config repo</h2>

<pre class="highlight shell"><code><span class="gp">$   </span>curl <span class="s1">'http://ci.example.com/go/api/admin/config_repos'</span> <span class="se">\</span>
  -u <span class="s1">'username:password'</span> <span class="se">\</span>
  -H <span class="s1">'Accept:application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
  -H <span class="s1">'Content-Type:application/json'</span> <span class="se">\</span>
  -X POST -d <span class="s1">'{
    "id": "repo-2",
    "plugin_id": "json.config.plugin",
    "material": {
      "type": "git",
      "attributes": {
        "url": "https://github.com/config-repo/gocd-json-config-example2.git",
        "branch": "master",
        "auto_update": true
      }
    },
    "configuration": [
      {
       "key": "pattern",
       "value": "*.myextension"
     }
    ]
  }'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/config_repos/repo-2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#config-repos"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/config_repos/:id"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"repo-2"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"plugin_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"json.config.plugin"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"material"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"git"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://github.com/config-repo/gocd-json-config-example2.git"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"branch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"master"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"auto_update"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"configuration"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pattern"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*.myextension"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Create a config repo object.</p>

<p class='available-since'>
  Available since v17.12.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">POST /go/api/admin/config_repos</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A new <a href="#the-config-repo-object">config-repo</a> object</p>

<p><strong>Note:</strong> since version 18.12.0, it is not possible anymore to provide a material name as redundant with the id.</p>

<h2 id="update-config-repo">Update Config repo</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/config_repos/repo-1'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
      -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
      -H <span class="s1">'If-Match: "e064ca0fe5d8a39602e19666454b8d77"'</span> <span class="se">\</span>
      -X PUT <span class="se">\</span>
      -d <span class="s1">'{
            "id": "repo-1",
            "plugin": "json.config.plugin",
            "material": {
              "type": "git",
              "attributes": {
                "url": "https://github.com/config-repo/gocd-json-config-example2.git",
                "branch": "master",
                "auto_update": true
              }
            },
            "configuration": [
              {
               "key": "pattern",
               "value": "*.myextension"
             }
            ]
          }'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"e89135b38ddbcd9380c83eb524647bdd"</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/config_repos/repo-2"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#config-repos"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/config_repos/:id"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"repo-2"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"plugin_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"json.config.plugin"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"material"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"git"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://github.com/config-repo/gocd-json-config-example2.git"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"branch"</span><span class="p">:</span><span class="w"> </span><span class="s2">"master"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"auto_update"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"configuration"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"pattern"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"*.myextension"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre>

<p>Update config repos for specified config repo id.</p>

<aside class="notice">
  <strong>Note:</strong>
  The update config repo API requires that you submit the <code>If-Match</code>
  header with the latest ETag value that is representative of the current
  config repo config resource.
  <br/><br/>
  This is required in order to avoid the &ldquo;lost update&rdquo; problem, where a client
  `GET`s a resource&rsquo;s state, modifies it and `PUT`s it back to the server, while
  another user has modified the state of the config repo config, leading to a
  conflict.
</aside>

<p class='available-since'>
  Available since v17.12.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">PUT /go/api/admin/config_repos/:id</code></p>

<p class='http-request-return-description'>Returns</p>

<p>The updated <a href="#the-config-repo-object">config-repo</a> object</p>

<h2 id="delete-a-config-repo">Delete a Config repo</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/config_repos/repo-1'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
      -X DELETE
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The config repo 'repo-1' was deleted successfully."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Deletes the config repo.</p>

<p class='available-since'>
  Available since v17.12.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">DELETE /go/api/admin/config_repos/:id</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A message whether the config repo is deleted or not.</p>

<h2 id="export-pipeline-config-to-config-repo-format">Export pipeline config to config repo format</h2>

<pre class="highlight shell"><code><span class="gp">$   </span>curl <span class="s1">'http://ci.example.com/go/api/admin/export/pipelines/pip1?plugin_id=yaml.config.plugin'</span> <span class="se">\</span>
  -u <span class="s1">'username:password'</span> <span class="se">\</span>
  -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>

</code></pre>

<blockquote>
<p>The above command returns YML structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/x-yaml; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"92d3496403f7a3240fc0ba8895c5abfef24a72255360ebf1c04b4eb304a63eaa"</span>
<span class="na">Content-Disposition</span><span class="p">:</span> <span class="s">attachment; filename="pip1.gocd.yaml"</span>
</code></pre>

<pre class="highlight yaml"><code><span class="s">format_version</span><span class="pi">:</span> <span class="s">3</span>
<span class="s">pipelines</span><span class="pi">:</span>
  <span class="s">pip1</span><span class="pi">:</span>
    <span class="s">group</span><span class="pi">:</span> <span class="s">second</span>
    <span class="s">label_template</span><span class="pi">:</span> <span class="s">${COUNT}</span>
    <span class="s">lock_behavior</span><span class="pi">:</span> <span class="s">none</span>
    <span class="s">materials</span><span class="pi">:</span>
      <span class="s">git</span><span class="pi">:</span>
        <span class="s">git</span><span class="pi">:</span> <span class="s">foo</span>
        <span class="s">shallow_clone</span><span class="pi">:</span> <span class="s">false</span>
        <span class="s">auto_update</span><span class="pi">:</span> <span class="s">true</span>
        <span class="s">branch</span><span class="pi">:</span> <span class="s">master</span>
    <span class="s">stages</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s">defaultStage</span><span class="pi">:</span>
        <span class="s">fetch_materials</span><span class="pi">:</span> <span class="s">true</span>
        <span class="s">keep_artifacts</span><span class="pi">:</span> <span class="s">false</span>
        <span class="s">clean_workspace</span><span class="pi">:</span> <span class="s">false</span>
        <span class="s">approval</span><span class="pi">:</span>
          <span class="s">type</span><span class="pi">:</span> <span class="s">success</span>
        <span class="s">jobs</span><span class="pi">:</span>
          <span class="s">defaultJob</span><span class="pi">:</span>
            <span class="s">timeout</span><span class="pi">:</span> <span class="s">0</span>
            <span class="s">tasks</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="s">nant</span><span class="pi">:</span>
                <span class="s">run_if</span><span class="pi">:</span> <span class="s">passed</span>
</code></pre>

<p>Exports pipeline configurations into a format consumable by the specified config repo plugin.</p>

<p class='available-since'>
  Available since v19.1.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/admin/export/pipelines/:pipeline_name</code></p>

<p class='http-request-return-description'>Returns</p>

<p>The format and contents of the response as well as the <code class="prettyprint">Content-Type</code> are determined by the specified config repo plugin.</p>

<h2 id="preflight-check-of-config-repo-configurations">Preflight check of config repo configurations</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s2">"https://ci.example.com/go/api/admin/config_repo_ops/preflight?pluginId=yaml.config.plugin&amp;repoId=myExistingRepo"</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
      -F <span class="s1">'files[]=@path/to/file1.gocd.yaml'</span> <span class="se">\</span>
      -F <span class="s1">'files[]=@path/to/file2.gocd.yaml'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"errors"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"valid"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Checks posted definition file(s) for syntax and merge errors without updating the current GoCD <a href="https://docs.gocd.org/current/configuration/">configuration</a>.</p>

<p class='available-since'>
  Available since v19.2.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p>When validating definitions before the corresponding config repo configuration has been added to GoCD, do not supply a <code class="prettyprint">repoId</code> parameter:</p>

<p><code class="prettyprint">POST /go/api/admin/config_repo_ops/preflight?pluginId=:plugin_id</code></p>

<p>When validating definition updates to an existing config repo configuration, the <code class="prettyprint">repoId</code> parameter is required:</p>

<p><code class="prettyprint">POST /go/api/admin/config_repo_ops/preflight?pluginId=:plugin_id&amp;repoId=:config_repo_id</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A boolean indicating whether the content can be successfully merged and array of errors (if content isn&rsquo;t mergeable).</p>

          <h1 id="artifact-store">Artifact Store</h1>

<p>The artifact store API allows admin users to define and manage configuration of external artifact repository. The artifact plugin will use the artifact store config to upload artifact to an external repository.</p>

<h2 id="the-artifact-store-object">The artifact store object</h2>

<p class='available-since'>
  Available since v18.7.0.
</p>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"docker"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"plugin_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cd.go.artifact.docker"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nt">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RegistryURL"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"docker-registry-url"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">id</code></td>
<td>String</td>
<td>The identifier of the artifact store.</td>
</tr>
<tr>
<td><code class="prettyprint">plugin_id</code></td>
<td>String</td>
<td>The plugin identifier of the artifact plugin.</td>
</tr>
<tr>
<td><code class="prettyprint">properties</code></td>
<td>Array</td>
<td>The list of <a href="#the-configuration-property-object">configuration properties</a> that represent the configuration of this artifact store.</td>
</tr>
</tbody></table>

<h2 id="get-all-artifact-stores">Get all artifact stores</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/artifact_stores'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/artifact_stores"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/current/#artifact_stores"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/artifact_stores/:id"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"_embedded"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"artifact_stores"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/artifact_stores/hub.docker"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"doc"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/current/#artifact_stores"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nt">"find"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/artifact_stores/:id"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"hub.docker"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"plugin_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"cd.go.artifact.docker.registry"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"properties"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"key"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"RegistryURL"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://your_docker_registry_url"</span><span class="w">
      </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"key"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Username"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="w">
      </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"key"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Password"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"encrypted_value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"AES:tdfTtYtIUSAF2JXJP/3YwA==:43Kjidjuh42NHKisCAs/BQ=="</span><span class="w">
      </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Lists all available artifact stores.</p>

<p class='available-since'>
  Available since v18.7.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/admin/artifact_stores</code></p>

<p class='http-request-return-description'>Returns</p>

<p>An array of <a href="#the-artifact-store-object">artifact store object</a>.</p>

<h2 id="get-an-artifact-store">Get an artifact store</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/artifact_stores/docker'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"fff30fd05db389acded4e993c1ecd5a4"</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/artifact_stores/hub.docker"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/current/#artifact_stores"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/artifact_stores/:id"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"hub.docker"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"plugin_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"cd.go.artifact.docker.registry"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"properties"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"key"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"RegistryURL"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://your_docker_registry_url"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"key"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Username"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"key"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Password"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"encrypted_value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"AES:tdfTtYtIUSAF2JXJP/3YwA==:43Kjidjuh42NHKisCAs/BQ=="</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Gets an artifact store for specified id.</p>

<aside class="notice">
  <strong>Note:</strong> Please remember to save the value of the `ETag` header for conditional posts, see the <a href='#the-artifact-store-object'>edit artifact store</a> documentation for more details.
</aside>

<p class='available-since'>
  Available since v18.7.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/admin/artifact_stores/:storeId</code></p>

<p class='http-request-return-description'>Returns</p>

<p>The <a href="#the-artifact-store-object">artifact store object</a>.</p>

<h2 id="create-an-artifact-store">Create an artifact store</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/artifact_stores'</span> <span class="se">\</span>
  -u <span class="s1">'username:password'</span> <span class="se">\</span>
  -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -X POST -d <span class="s1">'{
    "id": "docker",
    "plugin_id": "cd.go.artifact.docker.registry",
    "properties" : [ {
      "key" : "RegistryURL",
      "value" : "https://your_docker_registry_url"
    }, {
      "key" : "Username",
      "value" : "admin"
    }, {
      "key" : "Password",
      "value" : "badger"
    }]
}'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"e239974f09be2d88565c584c01ba0954"</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/artifact_stores/docker"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/current/#artifact_stores"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/artifact_stores/:id"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"docker"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"plugin_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"cd.go.artifact.docker.registry"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"properties"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"key"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"RegistryURL"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://your_docker_registry_url"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"key"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Username"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"key"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Password"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"encrypted_value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"AES:UbZMF/cQZCcywknuzW6r4Q==:Qbz5so1iz3WS2a4FSW775A=="</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Creates an artifact store</p>

<p class='available-since'>
  Available since v18.7.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">POST /go/api/admin/artifact_stores</code></p>

<p class='http-request-return-description'>Returns</p>

<p>The <a href="#the-artifact-store-object">artifact store object</a>.</p>

<h2 id="update-an-artifact-store">Update an artifact store</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/artifact_stores/docker'</span> <span class="se">\</span>
  -u <span class="s1">'admin:badger'</span> <span class="se">\</span>
  -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
  -H <span class="s1">'If-Match: "e239974f09be2d88565c584c01ba0954"'</span> <span class="se">\</span>
  -X PUT -d <span class="s1">'{
    "id": "docker",
    "plugin_id": "cd.go.artifact.docker.registry",
    "properties" : [ {
      "key" : "RegistryURL",
      "value" : "https://your_docker_registry_url"
    }, {
      "key" : "Username",
      "value" : "admin"
    }, {
      "key" : "Password",
      "value" : "new_password"
    }]
}'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"fe2670c76227d5d96f76007f3803dc68"</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/artifact_stores/docker"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/current/#artifact_stores"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"find"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/artifact_stores/:id"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"docker"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"plugin_id"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"cd.go.artifact.docker.registry"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"properties"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"key"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"RegistryURL"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://your_docker_registry_url"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"key"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Username"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="w">
  </span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"key"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Password"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"encrypted_value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"AES:yIow3jqZjP+mWuKubdwhTw==:safdVBEoe6sIjuuILGP53g=="</span><span class="w">
  </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Update some attributes of an artifact store.</p>

<aside class="notice">
  <strong>Note:</strong>
  The update artifact store API requires that you submit the <code>If-Match</code>
  header with the latest ETag value that is representative of the current
  artifact store.
  <br/><br/>
  This is required in order to avoid the &ldquo;lost update&rdquo; problem, where a client
  `GET`s a resource&rsquo;s state, modifies it and `PUT`s it back to the server, while
  another user has modified the state of the elastic agent config, leading to a
  conflict.
</aside>

<p class='available-since'>
  Available since v18.7.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">PUT /go/api/admin/artifact_stores/:storeId</code></p>

<p class='http-request-return-description'>Returns</p>

<p>The updated The <a href="#the-artifact-store-object">artifact store object</a>..</p>

<h2 id="delete-an-artifact-store">Delete an artifact store</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/artifact_stores/docker'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
      -X DELETE
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The artifactStore 'docker' was deleted successfully."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Deletes the artifact store.</p>

<p class='available-since'>
  Available since v18.7.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">DELETE /go/api/admin/artifact_stores/:storeId</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A message if the artifact store is deleted or not.</p>

          <h1 id="server-health-messages">Server Health Messages</h1>

<p>The server health messages API allows users to see any errors and warnings generated by the GoCD server as part of its normal routine. These messages are also visible in on the &ldquo;errors and warnings&rdquo; modal box on all pages of the GoCD server.</p>

<h2 id="the-server-health-message-object">The server health message object</h2>

<p class='available-since'>
  Available since v18.2.0.
</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">message</code></td>
<td>String</td>
<td>A short summary of the error or warning.</td>
</tr>
<tr>
<td><code class="prettyprint">detail</code></td>
<td>String</td>
<td>A longer message with more details about the error.</td>
</tr>
<tr>
<td><code class="prettyprint">level</code></td>
<td>String</td>
<td>The intensity of the message. Can be one of <code class="prettyprint">WARNING</code>, <code class="prettyprint">ERROR</code>.</td>
</tr>
<tr>
<td><code class="prettyprint">time</code></td>
<td>String</td>
<td>The UTC time when the message was gnerated.</td>
</tr>
</tbody></table>

<h2 id="get-server-health-messages">Get server health messages</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/server_health_messages'</span> <span class="se">\</span>
    -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">[{</span><span class="w">
  </span><span class="nt">"message"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Job 'Security-Checks/test/dependency-check' is not responding"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"detail"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Job &lt;a href='/go/tab/build/detail/Security-Checks/847/test/1/dependency-check'&gt;Security-Checks/test/dependency-check&lt;/a&gt; is currently running but has not shown any console activity in the last 26 minute(s). This job may be hung."</span><span class="p">,</span><span class="w">
  </span><span class="nt">"level"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"WARNING"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"time"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-02-27T07:36:30Z"</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>

<p>Gets the current server health messages</p>

<p class='available-since'>
  Available since v18.2.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/server_health_messages</code></p>

<p class='http-request-return-description'>Returns</p>

<p>An array of <a href="#the-server-health-message-object">server health message objects</a>.</p>

          <h1 id="system-admins">System Admins</h1>

<p>The API allows admin users to manage System Admins.</p>

<h2 id="the-system-admins-object">The system admins object</h2>

<p class='available-since'>
  Available since v18.8.0.
</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">roles</code></td>
<td>Array</td>
<td>The list of roles having system admin privileges.</td>
</tr>
<tr>
<td><code class="prettyprint">users</code></td>
<td>Array</td>
<td>The list of users having system admin privileges.</td>
</tr>
</tbody></table>

<h2 id="get-all-system-admins">Get all system admins</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/security/system_admins'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v2+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v2+json; charset=utf-8</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"doc"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#system_admins"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/security/system_admins"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"roles"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"manager"</span><span class="p">],</span><span class="w">
  </span><span class="nt">"users"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"john"</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="s2">"maria"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Lists all system admins which includes users and roles.</p>

<p class='available-since'>
  Available since v18.8.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/admin/security/system_admins</code></p>

<p class='http-request-return-description'>Returns</p>

<p>An <a href="#the-system-admins-object">array of roles and users</a> having system admin privileges.</p>

<h2 id="update-system-admins">Update system admins</h2>

<p>Update system admins and replace the system admins with roles and users in the request. The list of roles in the update request must be present in roles config.</p>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/security/system_admins'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v2+json'</span> <span class="se">\</span>
      -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
      -H <span class="s1">'If-Match: "cbc5f2d5b9c13a2cc1b1efb3d8a6155d"'</span> <span class="se">\</span>
      -X PUT <span class="se">\</span>
      -d <span class="s1">'{
            "users": ["bob", "jdoe", "john"],
            "roles": ["manager"]
          }'</span>

</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v2+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"61406622382e51c2079c11dcbdb978fb"</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"doc"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/#system_admins"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/security/system_admins"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"roles"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"manager"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="nt">"users"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"bob"</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="s2">"jdoe"</span><span class="p">,</span><span class="w"> </span><span class="s2">"john"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<aside class="notice">
  <strong>Note:</strong>
  The update system admins API requires that you submit the <code>If-Match</code>
  header with the latest ETag value that is representative of the current
  role.
  <br/><br/>
  This is required in order to avoid the &ldquo;lost update&rdquo; problem, where a client
  `GET`s a resource&rsquo;s state, modifies it and `PUT`s it back to the server, while
  another user has modified the state of the elastic agent config, leading to a
  conflict.
</aside>

<p class='available-since'>
  Available since v18.8.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">PUT /go/api/admin/security/system_admins</code></p>

<p class='http-request-return-description'>Returns</p>

<p>An array of <a href="#the-system-admins-object">system admins</a>.</p>

          <p><a name="data_sharing_settings"></a></p>

<h1 id="data-sharing-settings">Data Sharing Settings</h1>

<p>The API allows admin users to manage Data Sharing settings.</p>

<h2 id="the-data-sharing-object">The data sharing object</h2>

<p class='available-since'>
  Available since v18.8.0.
</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">allow</code></td>
<td>Boolean</td>
<td>Whether data sharing is allowed (true) or not (false).</td>
</tr>
<tr>
<td><code class="prettyprint">updated_by</code></td>
<td>String</td>
<td>The administrator who updated this value previously.</td>
</tr>
<tr>
<td><code class="prettyprint">updated_on</code></td>
<td>DateTime</td>
<td>The date and time the value was last updated.</td>
</tr>
</tbody></table>

<h2 id="get-current-data-sharing-settings">Get current data sharing settings</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/data_sharing/settings'</span> <span class="se">\</span>
-u <span class="s1">'username:password'</span> <span class="se">\</span>
-H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"cbc5f2d5b9c13a2cc1b1efb3d8a6155d"</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/data_sharing/settings"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.go.cd/current/#data_sharing_settings"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"_embedded"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"allow"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_by"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_on"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-09-09T10:00:00Z"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Gets the current state of data sharing consent and related information.</p>

<p class='available-since'>
  Available since v18.8.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/data_sharing/settings</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A <a href="#the-data-sharing-object">data sharing object</a>. There will also be an &ldquo;ETag&rdquo; header whose value is needed when updating the settings.</p>

<h2 id="update-data-sharing-settings">Update data sharing settings</h2>

<p>Change the consent value of data sharing. Either allow data sharing (true) or disallow it (false).</p>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/data_sharing/settings'</span> <span class="se">\</span>
      -u <span class="s1">'username:password'</span> <span class="se">\</span>
      -H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span> <span class="se">\</span>
      -H <span class="s1">'Content-Type: application/json'</span> <span class="se">\</span>
      -H <span class="s1">'If-Match: "cbc5f2d5b9c13a2cc1b1efb3d8a6155d"'</span> <span class="se">\</span>
      -X PATCH <span class="se">\</span>
      -d <span class="s1">'{ "allow": true }'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"61406622382e51c2079c11dcbdb978fb"</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/data_sharing/settings"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.go.cd/current/#data_sharing_settings"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"_embedded"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"allow"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_by"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_on"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-09-09T11:00:00Z"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<aside class="notice">
  <strong>Note:</strong>
  The update data sharing API requires that you submit the <code>If-Match</code>
  header with the latest ETag value that is representative of the current
  data sharing setting.
  <br/><br/>
  This is required in order to avoid the &ldquo;lost update&rdquo; problem, where a client
  <code>GET</code>s a resource&rsquo;s state, modifies it and <code>PUT</code>s or
  <code>PATCH</code>es it back to the server, while another user has modified
  the state of the data sharing setting, leading to a conflict.
</aside>

<p class='available-since'>
  Available since v18.8.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">PATCH /go/api/data_sharing/settings</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A <a href="#the-data-sharing-object">data sharing object</a>. There will also be an &ldquo;ETag&rdquo; header whose value is needed when updating the settings, further.</p>

          <p><a name="server_maintenance_mode"></a></p>

<h1 id="maintenance-mode">Maintenance Mode</h1>

<p>The GoCD Server Maintenance mode API allows admin users to manage <a href="https://docs.gocd.org/advanced_usage/maintenance_mode.html">GoCD server maintenance mode</a>.</p>

<h2 id="the-maintenance-mode-info-object">The Maintenance Mode Info Object</h2>

<p class='available-since'>
  Available since v19.1.0.
</p>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">is_maintenance_mode</code></td>
<td>Boolean</td>
<td>Whether the GoCD server is in maintenance mode or not.</td>
</tr>
<tr>
<td><code class="prettyprint">metadata</code></td>
<td>Object</td>
<td>The GoCD server maintenance mode state <a href="#maintenance-mode-info-metadata">metadata</a>.</td>
</tr>
<tr>
<td><code class="prettyprint">attributes</code></td>
<td>Object</td>
<td>The GoCD server maintenance mode state <a href="#maintenance-mode-info-attributes">attributes</a>.</td>
</tr>
</tbody></table>

<p><a id='maintenance-mode-info-metadata'></a></p>

<h3 id="maintenance-mode-metadata">Maintenance Mode Metadata</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"updated_by"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"updated_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-12-31T10:52:25Z"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">updated_by</code></td>
<td>String</td>
<td>The administrator who updated maintenance mode state.</td>
</tr>
<tr>
<td><code class="prettyprint">updated_on</code></td>
<td>Timestamp</td>
<td>The maintenance mode state last updated time.</td>
</tr>
</tbody></table>

<p><a id='maintenance-mode-info-attributes'></a></p>

<h3 id="maintenance-mode-attributes">Maintenance Mode Attributes</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"has_running_systems"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"running_systems"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"material_update_in_progress"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hg"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"mdu_start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-12-10T04:19:31Z"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bdpiparva@bitbucket.org/foo/bar-mercurial"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Foobar"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"auto_update"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nt">"invert_filter"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"building_jobs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"pipeline_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"up42"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"pipeline_counter"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
          </span><span class="nt">"stage_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"up42_stage"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"stage_counter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"up42_job"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Building"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"scheduled_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-12-31T10:57:17Z"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"agent_uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"agent-uuid-1"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nt">"scheduled_jobs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nt">"pipeline_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"up42"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"pipeline_counter"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
          </span><span class="nt">"stage_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"up42_stage"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"stage_counter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"up42_job_2"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Scheduled"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"scheduled_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-12-31T10:57:17Z"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"agent_uuid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">has_running_systems</code></td>
<td>Boolean</td>
<td>Whether there are any running subsystems in GoCD.</td>
</tr>
<tr>
<td><code class="prettyprint">running_systems</code></td>
<td>Object</td>
<td><a href="#maintenance-mode-info-running-systems">GoCD running sub-systems</a>.</td>
</tr>
</tbody></table>

<p><a id='maintenance-mode-info-running-systems'></a></p>

<h3 id="maintenance-mode-attributes-running-systems">Maintenance Mode Attributes Running Systems</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"running_systems"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"material_update_in_progress"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hg"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"mdu_start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-12-10T04:19:31Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"attributes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="nt">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bdpiparva@bitbucket.org/foo/bar-mercurial"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Foobar"</span><span class="p">,</span><span class="w">
          </span><span class="nt">"auto_update"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
          </span><span class="nt">"invert_filter"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"building_jobs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"pipeline_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"up42"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"pipeline_counter"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="nt">"stage_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"up42_stage"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"stage_counter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"up42_job"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Building"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"scheduled_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-12-31T10:57:17Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"agent_uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"agent-uuid-1"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"scheduled_jobs"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nt">"pipeline_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"up42"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"pipeline_counter"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
        </span><span class="nt">"stage_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"up42_stage"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"stage_counter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"up42_job_2"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Scheduled"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"scheduled_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-12-31T10:57:17Z"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"agent_uuid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">material_update_in_progress</code></td>
<td>Array</td>
<td>The list of <a href="#pipeline-config-material-object">materials</a> currently peforming MDU.</td>
</tr>
<tr>
<td><code class="prettyprint">building_jobs</code></td>
<td>Array</td>
<td>The list of currently building <a href="#maintenance-mode-info-running-job">jobs</a>. Building Jobs are the jobs which are currently running on an agent.</td>
</tr>
<tr>
<td><code class="prettyprint">scheduled_jobs</code></td>
<td>Array</td>
<td>The list of currently scheduled <a href="#maintenance-mode-info-running-job">jobs</a>. Scheduled Jobs are the jobs which are waiting for an agent to run on.</td>
</tr>
</tbody></table>

<p><a id='maintenance-mode-info-running-job'></a></p>

<h3 id="maintenance-mode-attributes-running-job">Maintenance Mode Attributes Running Job</h3>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"pipeline_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"up42"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"pipeline_counter"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="nt">"stage_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"up42_stage"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"stage_counter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"up42_job"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Scheduled"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"scheduled_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-12-31T10:57:17Z"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"agent_uuid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"agent-uuid-1"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p class='attributes-table-follows'></p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code class="prettyprint">pipeline_name</code></td>
<td>String</td>
<td>The name of the pipeline.</td>
</tr>
<tr>
<td><code class="prettyprint">pipeline_counter</code></td>
<td>Integer</td>
<td>The running pipeline instance counter.</td>
</tr>
<tr>
<td><code class="prettyprint">stage_name</code></td>
<td>String</td>
<td>The name of the stage.</td>
</tr>
<tr>
<td><code class="prettyprint">stage_counter</code></td>
<td>Integer</td>
<td>The running stage instance counter.</td>
</tr>
<tr>
<td><code class="prettyprint">name</code></td>
<td>String</td>
<td>The name of the job.</td>
</tr>
<tr>
<td><code class="prettyprint">state</code></td>
<td>String</td>
<td>The state of the running job. one_of: %w(Scheduled, Assigned, Preparing, Building, Completing, Completed, Rescheduled).</td>
</tr>
<tr>
<td><code class="prettyprint">scheduled_date</code></td>
<td>Timestamp</td>
<td>The job scheduled date.</td>
</tr>
<tr>
<td><code class="prettyprint">agent_uuid</code></td>
<td>String</td>
<td>The uuid of the agent on whichb the current job is running.</td>
</tr>
</tbody></table>

<h2 id="enable-maintenance-mode">Enable Maintenance Mode</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/maintenance_mode/enable'</span> <span class="se">\</span>
-X POST <span class="se">\</span>
-u <span class="s1">'username:password'</span> <span class="se">\</span>
-H <span class="s1">'X-GoCD-Confirm:true'</span> <span class="se">\</span>
-H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"cbc5f2d5b9c13a2cc1b1efb3d8a6155d"</span>
</code></pre>

<p>Enables GoCD server maintenance mode.</p>

<p class='available-since'>
  Available since v19.1.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/admin/maintenance_mode/enable</code></p>

<p class='http-request-return-description'>Returns</p>

<p>No Content</p>

<h2 id="disable-maintenance-mode">Disable Maintenance Mode</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/admin/maintenance_mode/disable'</span> <span class="se">\</span>
-X POST <span class="se">\</span>
-u <span class="s1">'username:password'</span> <span class="se">\</span>
-H <span class="s1">'X-GoCD-Confirm:true'</span> <span class="se">\</span>
-H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">204</span> <span class="ne">No Content</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"cbc5f2d5b9c13a2cc1b1efb3d8a6155d"</span>
</code></pre>

<p>Disables GoCD server maintenance mode.</p>

<p class='available-since'>
  Available since v19.1.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/admin/maintenance_mode/disable</code></p>

<p class='http-request-return-description'>Returns</p>

<p>No Content</p>

<h2 id="get-maintenance-mode-info">Get Maintenance Mode Info</h2>

<pre class="highlight shell"><code><span class="gp">$ </span>curl <span class="s1">'https://ci.example.com/go/api/maintenance_mode/info'</span> <span class="se">\</span>
-u <span class="s1">'username:password'</span> <span class="se">\</span>
-H <span class="s1">'Accept: application/vnd.go.cd.v1+json'</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>

<pre class="highlight http"><code><span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span> <span class="m">200</span> <span class="ne">OK</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/vnd.go.cd.v1+json; charset=utf-8</span>
<span class="na">ETag</span><span class="p">:</span> <span class="s">"cbc5f2d5b9c13a2cc1b1efb3d8a6155d"</span>
</code></pre>

<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"_links"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"self"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://ci.example.com/go/api/admin/maintenance_mode/info"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"doc"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"href"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.gocd.org/current/#maintenance-mode-info"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nt">"_embedded"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"is_maintenance_mode"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metadata"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"updated_by"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"admin"</span><span class="p">,</span><span class="w">
      </span><span class="nt">"updated_on"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-01-02T04:18:28Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nt">"attributes"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nt">"has_running_systems"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nt">"running_systems"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nt">"material_update_in_progress"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
        </span><span class="nt">"scheduled_jobs"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">],</span><span class="w">
        </span><span class="nt">"running_jobs"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Gets the server maintenance mode information.</p>

<p class='available-since'>
  Available since v19.1.0.
</p>

<p class='http-request-heading'>HTTP Request</p>

<p><code class="prettyprint">GET /go/api/maintenance_mode/info</code></p>

<p class='http-request-return-description'>Returns</p>

<p>A <a href="#the-maintenance-mode-info-object">maintenance mode info object</a>.</p>

          <h1 id="errors">Errors</h1>

<p>GoCD uses the following HTTP status codes to indicate errors.</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request           &ndash; The request could not be understood. The client SHOULD NOT repeat the request without modifications.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized          &ndash; Your username or password is incorrect or you are not authorized to perform this action.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden             &ndash; The resource requested is hidden for administrators only.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found             &ndash; The specified resource could not be found.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed    &ndash; You tried to access a resource with an invalid method.</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable        &ndash; You requested a format that isn&rsquo;t json.</td>
</tr>
<tr>
<td>409</td>
<td>Conflict              &ndash; The request could not be completed due to a conflict with the current state of the resource.</td>
</tr>
<tr>
<td>410</td>
<td>Gone                  &ndash; The resource requested has been removed from our servers.</td>
</tr>
<tr>
<td>412</td>
<td>Precondition Failed   &ndash; The request could not be completed because the state of the resource is not the latest while being updated.</td>
</tr>
<tr>
<td>422</td>
<td>Unprocessible Entity  &ndash; The server understood the request, but the request is semantically erroneous.</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>501</td>
<td>Not implemented       &ndash; The server does not support the functionality required to fulfill the request.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable   &ndash; We&rsquo;re temporarially offline for maintanance. Please try again later.</td>
</tr>
</tbody></table>

          <h1 id="api-changelog">API Changelog</h1>

<p>The changelog is maintained starting from version 19.2.0 of GoCD. For changes from previous versions, see the release notes at <a href="https://gocd.org/releases">https://gocd.org/releases</a>.</p>

<h2 id="changes-in-19-2-0">Changes in 19.2.0</h2>

<h3 id="added">Added</h3>

<ul>
<li>This version adds support for <a href="API%20tokens">#access-tokens</a>. See <a href="bearer%20token%20authentication">#bearer-token-authentication</a> for using tokens to authenticate with the GoCD server.</li>
</ul>

<h3 id="removed">Removed</h3>

<p>No removals this release.</p>

<h3 id="deprecations">Deprecations</h3>

<ul>
<li>The Dashboard API v1 has been deprecated. This version of the API will be removed in a release scheduled for March 2019. Version 2 of the API is available, and users are encouraged to use it.</li>
<li>Unversioned Get Stage Instance API has been deprecated in favor of Get Stage Instance API v1. This version will be removed in a release scheduled for April 2019.</li>
<li>The Users API v2 has been deprecated. This version of the API will be removed in a release scheduled for April 2019. Version 3 of the API is available, and users are encouraged to use it.</li>
<li>The System Admins API v1 has been deprecated. This version of the API will be removed in a release scheduled for April 2019. Version 2 of the API is available, and users are encouraged to use it.</li>
<li>The Roles API v1 has been deprecated. This version of the API will be removed in a release scheduled for April 2019. Version 2 of the API is available, and users are encouraged to use it.</li>
</ul>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-48357651-3', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>
